import{r as N,R as wk,j as h,P as jE,F as kE,E as AE,t as ht,u as OE,i as _E,a as PE,b as q,c as EE,d as NE}from"./tiptap-CbKjb32S.js";import{a as CE,g as Je,c as uo}from"./vendor-C6Ba5J37.js";import{B as tn,H as TE,C as va,F as Ir,a as Sk,D as Mc,U as jk,S as kk,M as ME,b as Uv,c as ni,d as fm,e as DE,f as IE,L as mo,g as rr,h as wo,i as sa,j as RE,k as $E,T as fs,l as Kv,m as BE,n as Dc,o as Ak,X as Ok,R as Al,P as Ol,A as So,p as _l,q as LE,r as qE,s as FE,t as WE,u as zE,v as UE,w as Pl,x as KE,y as GE,z as HE,E as VE,G as YE,I as XE,J as JE,K as QE,N as ZE}from"./icons-BvXR3Twz.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Xs={},Gv;function eN(){if(Gv)return Xs;Gv=1;var e=CE();return Xs.createRoot=e.createRoot,Xs.hydrateRoot=e.hydrateRoot,Xs}var tN=eN();const rN=Je(tN);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jo.apply(this,arguments)}var _n;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_n||(_n={}));const Hv="popstate";function nN(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:s}=n.location;return dm("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:El(a)}return iN(t,r,null,e)}function xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _k(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aN(){return Math.random().toString(36).substr(2,8)}function Vv(e,t){return{usr:e.state,key:e.key,idx:t}}function dm(e,t,r,n){return r===void 0&&(r=null),jo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pi(t):t,{state:r,key:t&&t.key||n||aN()})}function El(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function iN(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=_n.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(jo({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){s=_n.Pop;let y=u(),w=y==null?null:y-c;c=y,l&&l({action:s,location:v.location,delta:w})}function p(y,w){s=_n.Push;let k=dm(v.location,y,w);c=u()+1;let A=Vv(k,c),E=v.createHref(k);try{o.pushState(A,"",E)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(E)}i&&l&&l({action:s,location:v.location,delta:1})}function g(y,w){s=_n.Replace;let k=dm(v.location,y,w);c=u();let A=Vv(k,c),E=v.createHref(k);o.replaceState(A,"",E),i&&l&&l({action:s,location:v.location,delta:0})}function b(y){let w=a.location.origin!=="null"?a.location.origin:a.location.href,k=typeof y=="string"?y:El(y);return k=k.replace(/ $/,"%20"),xt(w,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,w)}let v={get action(){return s},get location(){return e(a,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Hv,f),l=y,()=>{a.removeEventListener(Hv,f),l=null}},createHref(y){return t(a,y)},createURL:b,encodeLocation(y){let w=b(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(y){return o.go(y)}};return v}var Yv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yv||(Yv={}));function oN(e,t,r){return r===void 0&&(r="/"),sN(e,t,r)}function sN(e,t,r,n){let a=typeof t=="string"?Pi(t):t,i=Gy(a.pathname||"/",r);if(i==null)return null;let o=Pk(e);lN(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=xN(i);s=gN(o[l],c)}return s}function Pk(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Nn([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(xt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Pk(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:mN(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of Ek(i.path))a(i,o,l)}),t}function Ek(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Ek(n.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function lN(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yN(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const cN=/^:[\w-]+$/,uN=3,fN=2,dN=1,hN=10,pN=-2,Xv=e=>e==="*";function mN(e,t){let r=e.split("/"),n=r.length;return r.some(Xv)&&(n+=pN),t&&(n+=fN),r.filter(a=>!Xv(a)).reduce((a,i)=>a+(cN.test(i)?uN:i===""?dN:hN),n)}function yN(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function gN(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=vN({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Nn([i,f.pathname]),pathnameBase:kN(Nn([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Nn([i,f.pathnameBase]))}return o}function vN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=bN(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let v=s[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const b=s[f];return g&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function bN(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),_k(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function xN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _k(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function wN(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Pi(e):e;return{pathname:r?r.startsWith("/")?r:SN(r,t):t,search:AN(n),hash:ON(a)}}function SN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ju(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jN(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Nk(e,t){let r=jN(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ck(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Pi(e):(a=jo({},e),xt(!a.pathname||!a.pathname.includes("?"),Ju("?","pathname","search",a)),xt(!a.pathname||!a.pathname.includes("#"),Ju("#","pathname","hash",a)),xt(!a.search||!a.search.includes("#"),Ju("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;a.pathname=p.join("/")}s=f>=0?t[f]:"/"}let l=wN(a,s),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Nn=e=>e.join("/").replace(/\/\/+/g,"/"),kN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ON=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _N(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Tk=["post","put","patch","delete"];new Set(Tk);const PN=["get",...Tk];new Set(PN);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ko.apply(this,arguments)}const Hy=N.createContext(null),EN=N.createContext(null),ba=N.createContext(null),Ic=N.createContext(null),Dn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Mk=N.createContext(null);function NN(e,t){let{relative:r}=t===void 0?{}:t;ds()||xt(!1);let{basename:n,navigator:a}=N.useContext(ba),{hash:i,pathname:o,search:s}=Ik(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Nn([n,o])),a.createHref({pathname:l,search:s,hash:i})}function ds(){return N.useContext(Ic)!=null}function Ei(){return ds()||xt(!1),N.useContext(Ic).location}function Dk(e){N.useContext(ba).static||N.useLayoutEffect(e)}function Ni(){let{isDataRoute:e}=N.useContext(Dn);return e?UN():CN()}function CN(){ds()||xt(!1);let e=N.useContext(Hy),{basename:t,future:r,navigator:n}=N.useContext(ba),{matches:a}=N.useContext(Dn),{pathname:i}=Ei(),o=JSON.stringify(Nk(a,r.v7_relativeSplatPath)),s=N.useRef(!1);return Dk(()=>{s.current=!0}),N.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=Ck(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Nn([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function TN(){let{matches:e}=N.useContext(Dn),t=e[e.length-1];return t?t.params:{}}function Ik(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(ba),{matches:a}=N.useContext(Dn),{pathname:i}=Ei(),o=JSON.stringify(Nk(a,n.v7_relativeSplatPath));return N.useMemo(()=>Ck(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function MN(e,t){return DN(e,t)}function DN(e,t,r,n){ds()||xt(!1);let{navigator:a,static:i}=N.useContext(ba),{matches:o}=N.useContext(Dn),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Ei(),f;if(t){var p;let w=typeof t=="string"?Pi(t):t;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||xt(!1),f=w}else f=u;let g=f.pathname||"/",b=g;if(c!=="/"){let w=c.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=oN(e,{pathname:b}),y=LN(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Nn([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Nn([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&y?N.createElement(Ic.Provider,{value:{location:ko({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:_n.Pop}},y):y}function IN(){let e=zN(),t=_N(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,null)}const RN=N.createElement(IN,null);class $N extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(Dn.Provider,{value:this.props.routeContext},N.createElement(Mk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BN(e){let{routeContext:t,match:r,children:n}=e,a=N.useContext(Hy);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(Dn.Provider,{value:t},n)}function LN(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let u=o.findIndex(f=>f.route.id&&s?.[f.route.id]!==void 0);u>=0||xt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:g}=r,b=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,p)=>{let g,b=!1,v=null,y=null;r&&(g=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||RN,l&&(c<0&&p===0?(KN("route-fallback"),b=!0,y=null):c===p&&(b=!0,y=f.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,p+1)),k=()=>{let A;return g?A=v:b?A=y:f.route.Component?A=N.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=u,N.createElement(BN,{match:f,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:A})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?N.createElement($N,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):k()},null)}var Rk=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rk||{}),$k=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($k||{});function qN(e){let t=N.useContext(Hy);return t||xt(!1),t}function FN(e){let t=N.useContext(EN);return t||xt(!1),t}function WN(e){let t=N.useContext(Dn);return t||xt(!1),t}function Bk(e){let t=WN(),r=t.matches[t.matches.length-1];return r.route.id||xt(!1),r.route.id}function zN(){var e;let t=N.useContext(Mk),r=FN(),n=Bk();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function UN(){let{router:e}=qN(Rk.UseNavigateStable),t=Bk($k.UseNavigateStable),r=N.useRef(!1);return Dk(()=>{r.current=!0}),N.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ko({fromRouteId:t},i)))},[e,t])}const Jv={};function KN(e,t,r){Jv[e]||(Jv[e]=!0)}function GN(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function pr(e){xt(!1)}function HN(e){let{basename:t="/",children:r=null,location:n,navigationType:a=_n.Pop,navigator:i,static:o=!1,future:s}=e;ds()&&xt(!1);let l=t.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:i,static:o,future:ko({v7_relativeSplatPath:!1},s)}),[l,s,i,o]);typeof n=="string"&&(n=Pi(n));let{pathname:u="/",search:f="",hash:p="",state:g=null,key:b="default"}=n,v=N.useMemo(()=>{let y=Gy(u,l);return y==null?null:{location:{pathname:y,search:f,hash:p,state:g,key:b},navigationType:a}},[l,u,f,p,g,b,a]);return v==null?null:N.createElement(ba.Provider,{value:c},N.createElement(Ic.Provider,{children:r,value:v}))}function VN(e){let{children:t,location:r}=e;return MN(hm(t),r)}new Promise(()=>{});function hm(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,a)=>{if(!N.isValidElement(n))return;let i=[...t,a];if(n.type===N.Fragment){r.push.apply(r,hm(n.props.children,i));return}n.type!==pr&&xt(!1),!n.props.index||!n.props.children||xt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=hm(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pm.apply(this,arguments)}function YN(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function XN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function JN(e,t){return e.button===0&&(!t||t==="_self")&&!XN(e)}function mm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function QN(e,t){let r=mm(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const ZN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eC="6";try{window.__reactRouterVersion=eC}catch{}const tC="startTransition",Qv=wk[tC];function rC(e){let{basename:t,children:r,future:n,window:a}=e,i=N.useRef();i.current==null&&(i.current=nN({window:a,v5Compat:!0}));let o=i.current,[s,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=N.useCallback(f=>{c&&Qv?Qv(()=>l(f)):l(f)},[l,c]);return N.useLayoutEffect(()=>o.listen(u),[o,u]),N.useEffect(()=>GN(n),[n]),N.createElement(HN,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const nC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zv=N.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:s,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,p=YN(t,ZN),{basename:g}=N.useContext(ba),b,v=!1;if(typeof c=="string"&&aC.test(c)&&(b=c,nC))try{let A=new URL(window.location.href),E=c.startsWith("//")?new URL(A.protocol+c):new URL(c),j=Gy(E.pathname,g);E.origin===A.origin&&j!=null?c=j+E.search+E.hash:v=!0}catch{}let y=NN(c,{relative:a}),w=iC(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:a,viewTransition:f});function k(A){n&&n(A),A.defaultPrevented||w(A)}return N.createElement("a",pm({},p,{href:b||y,onClick:v||i?n:k,ref:r,target:l}))});var e0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(e0||(e0={}));var t0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(t0||(t0={}));function iC(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s}=t===void 0?{}:t,l=Ni(),c=Ei(),u=Ik(e,{relative:o});return N.useCallback(f=>{if(JN(f,r)){f.preventDefault();let p=n!==void 0?n:El(c)===El(u);l(e,{replace:p,state:a,preventScrollReset:i,relative:o,viewTransition:s})}},[c,l,u,n,a,r,e,i,o,s])}function oC(e){let t=N.useRef(mm(e)),r=N.useRef(!1),n=Ei(),a=N.useMemo(()=>QN(n.search,r.current?null:t.current),[n.search]),i=Ni(),o=N.useCallback((s,l)=>{const c=mm(typeof s=="function"?s(a):s);r.current=!0,i("?"+c,l)},[i,a]);return[a,o]}var xl={exports:{}},sC=xl.exports,r0;function lC(){return r0||(r0=1,function(e,t){(function(r,n){e.exports=n()})(sC,function(){var r=function(d,m){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,S){x.__proto__=S}||function(x,S){for(var _ in S)Object.prototype.hasOwnProperty.call(S,_)&&(x[_]=S[_])})(d,m)},n=function(){return(n=Object.assign||function(d){for(var m,x=1,S=arguments.length;x<S;x++)for(var _ in m=arguments[x])Object.prototype.hasOwnProperty.call(m,_)&&(d[_]=m[_]);return d}).apply(this,arguments)};function a(d,m,x){for(var S,_=0,C=m.length;_<C;_++)!S&&_ in m||((S=S||Array.prototype.slice.call(m,0,_))[_]=m[_]);return d.concat(S||Array.prototype.slice.call(m))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:uo,o=Object.keys,s=Array.isArray;function l(d,m){return typeof m!="object"||o(m).forEach(function(x){d[x]=m[x]}),d}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var c=Object.getPrototypeOf,u={}.hasOwnProperty;function f(d,m){return u.call(d,m)}function p(d,m){typeof m=="function"&&(m=m(c(d))),(typeof Reflect>"u"?o:Reflect.ownKeys)(m).forEach(function(x){b(d,x,m[x])})}var g=Object.defineProperty;function b(d,m,x,S){g(d,m,l(x&&f(x,"get")&&typeof x.get=="function"?{get:x.get,set:x.set,configurable:!0}:{value:x,configurable:!0,writable:!0},S))}function v(d){return{from:function(m){return d.prototype=Object.create(m.prototype),b(d.prototype,"constructor",d),{extend:p.bind(null,d.prototype)}}}}var y=Object.getOwnPropertyDescriptor,w=[].slice;function k(d,m,x){return w.call(d,m,x)}function A(d,m){return m(d)}function E(d){if(!d)throw new Error("Assertion Failed")}function j(d){i.setImmediate?setImmediate(d):setTimeout(d,0)}function O(d,m){if(typeof m=="string"&&f(d,m))return d[m];if(!m)return d;if(typeof m!="string"){for(var x=[],S=0,_=m.length;S<_;++S){var C=O(d,m[S]);x.push(C)}return x}var D=m.indexOf(".");if(D!==-1){var R=d[m.substr(0,D)];return R==null?void 0:O(R,m.substr(D+1))}}function P(d,m,x){if(d&&m!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof m!="string"&&"length"in m){E(typeof x!="string"&&"length"in x);for(var S=0,_=m.length;S<_;++S)P(d,m[S],x[S])}else{var C,D,R=m.indexOf(".");R!==-1?(C=m.substr(0,R),(D=m.substr(R+1))===""?x===void 0?s(d)&&!isNaN(parseInt(C))?d.splice(C,1):delete d[C]:d[C]=x:P(R=!(R=d[C])||!f(d,C)?d[C]={}:R,D,x)):x===void 0?s(d)&&!isNaN(parseInt(m))?d.splice(m,1):delete d[m]:d[m]=x}}function T(d){var m,x={};for(m in d)f(d,m)&&(x[m]=d[m]);return x}var M=[].concat;function K(d){return M.apply([],d)}var Wn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(K([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(m){return m+d+"Array"})}))).filter(function(d){return i[d]}),I=new Set(Wn.map(function(d){return i[d]})),B=null;function z(d){return B=new WeakMap,d=function m(x){if(!x||typeof x!="object")return x;var S=B.get(x);if(S)return S;if(s(x)){S=[],B.set(x,S);for(var _=0,C=x.length;_<C;++_)S.push(m(x[_]))}else if(I.has(x.constructor))S=x;else{var D,R=c(x);for(D in S=R===Object.prototype?{}:Object.create(R),B.set(x,S),x)f(x,D)&&(S[D]=m(x[D]))}return S}(d),B=null,d}var Q={}.toString;function X(d){return Q.call(d).slice(8,-1)}var Z=typeof Symbol<"u"?Symbol.iterator:"@@iterator",le=typeof Z=="symbol"?function(d){var m;return d!=null&&(m=d[Z])&&m.apply(d)}:function(){return null};function ue(d,m){return m=d.indexOf(m),0<=m&&d.splice(m,1),0<=m}var re={};function ae(d){var m,x,S,_;if(arguments.length===1){if(s(d))return d.slice();if(this===re&&typeof d=="string")return[d];if(_=le(d)){for(x=[];!(S=_.next()).done;)x.push(S.value);return x}if(d==null)return[d];if(typeof(m=d.length)!="number")return[d];for(x=new Array(m);m--;)x[m]=d[m];return x}for(m=arguments.length,x=new Array(m);m--;)x[m]=arguments[m];return x}var fe=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},hn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ar=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(hn),ce={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ge(d,m){this.name=d,this.message=m}function pe(d,m){return d+". Errors: "+Object.keys(m).map(function(x){return m[x].toString()}).filter(function(x,S,_){return _.indexOf(x)===S}).join(`
`)}function je(d,m,x,S){this.failures=m,this.failedKeys=S,this.successCount=x,this.message=pe(d,m)}function Re(d,m){this.name="BulkError",this.failures=Object.keys(m).map(function(x){return m[x]}),this.failuresByPos=m,this.message=pe(d,this.failures)}v(ge).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(je).from(ge),v(Re).from(ge);var Wt=ar.reduce(function(d,m){return d[m]=m+"Error",d},{}),At=ge,ie=ar.reduce(function(d,m){var x=m+"Error";function S(_,C){this.name=x,_?typeof _=="string"?(this.message="".concat(_).concat(C?`
 `+C:""),this.inner=C||null):typeof _=="object"&&(this.message="".concat(_.name," ").concat(_.message),this.inner=_):(this.message=ce[m]||x,this.inner=null)}return v(S).from(At),d[m]=S,d},{});ie.Syntax=SyntaxError,ie.Type=TypeError,ie.Range=RangeError;var Ne=hn.reduce(function(d,m){return d[m+"Error"]=ie[m],d},{}),Ce=ar.reduce(function(d,m){return["Syntax","Type","Range"].indexOf(m)===-1&&(d[m+"Error"]=ie[m]),d},{});function oe(){}function Ye(d){return d}function qe(d,m){return d==null||d===Ye?m:function(x){return m(d(x))}}function Qe(d,m){return function(){d.apply(this,arguments),m.apply(this,arguments)}}function pt(d,m){return d===oe?m:function(){var x=d.apply(this,arguments);x!==void 0&&(arguments[0]=x);var S=this.onsuccess,_=this.onerror;this.onsuccess=null,this.onerror=null;var C=m.apply(this,arguments);return S&&(this.onsuccess=this.onsuccess?Qe(S,this.onsuccess):S),_&&(this.onerror=this.onerror?Qe(_,this.onerror):_),C!==void 0?C:x}}function It(d,m){return d===oe?m:function(){d.apply(this,arguments);var x=this.onsuccess,S=this.onerror;this.onsuccess=this.onerror=null,m.apply(this,arguments),x&&(this.onsuccess=this.onsuccess?Qe(x,this.onsuccess):x),S&&(this.onerror=this.onerror?Qe(S,this.onerror):S)}}function Or(d,m){return d===oe?m:function(x){var S=d.apply(this,arguments);l(x,S);var _=this.onsuccess,C=this.onerror;return this.onsuccess=null,this.onerror=null,x=m.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?Qe(_,this.onsuccess):_),C&&(this.onerror=this.onerror?Qe(C,this.onerror):C),S===void 0?x===void 0?void 0:x:l(S,x)}}function fn(d,m){return d===oe?m:function(){return m.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function dn(d,m){return d===oe?m:function(){var x=d.apply(this,arguments);if(x&&typeof x.then=="function"){for(var S=this,_=arguments.length,C=new Array(_);_--;)C[_]=arguments[_];return x.then(function(){return m.apply(S,C)})}return m.apply(this,arguments)}}Ce.ModifyError=je,Ce.DexieError=ge,Ce.BulkError=Re;var Ot=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function _r(d){Ot=d}var qr={},qi=100,Wn=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,c(d),d];var m=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[m,c(m),d]}(),hn=Wn[0],ar=Wn[1],Wn=Wn[2],ar=ar&&ar.then,zn=hn&&hn.constructor,gu=!!Wn,Fi=function(d,m){Wi.push([d,m]),ks&&(queueMicrotask(ZP),ks=!1)},vu=!0,ks=!0,Un=[],As=[],bu=Ye,pn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:oe,pgp:!1,env:{},finalize:oe},Oe=pn,Wi=[],Kn=0,Os=[];function we(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var m=this._PSD=Oe;if(typeof d!="function"){if(d!==qr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&wu(this,this._value))}this._state=null,this._value=null,++m.ref,function x(S,_){try{_(function(C){if(S._state===null){if(C===S)throw new TypeError("A promise cannot be resolved with itself.");var D=S._lib&&Oa();C&&typeof C.then=="function"?x(S,function(R,L){C instanceof we?C._then(R,L):C.then(R,L)}):(S._state=!0,S._value=C,hv(S)),D&&_a()}},wu.bind(null,S))}catch(C){wu(S,C)}}(this,d)}var xu={get:function(){var d=Oe,m=Ns;function x(S,_){var C=this,D=!d.global&&(d!==Oe||m!==Ns),R=D&&!yn(),L=new we(function(W,G){Su(C,new dv(mv(S,d,D,R),mv(_,d,D,R),W,G,d))});return this._consoleTask&&(L._consoleTask=this._consoleTask),L}return x.prototype=qr,x},set:function(d){b(this,"then",d&&d.prototype===qr?xu:{get:function(){return d},set:xu.set})}};function dv(d,m,x,S,_){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof m=="function"?m:null,this.resolve=x,this.reject=S,this.psd=_}function wu(d,m){var x,S;As.push(m),d._state===null&&(x=d._lib&&Oa(),m=bu(m),d._state=!1,d._value=m,S=d,Un.some(function(_){return _._value===S._value})||Un.push(S),hv(d),x&&_a())}function hv(d){var m=d._listeners;d._listeners=[];for(var x=0,S=m.length;x<S;++x)Su(d,m[x]);var _=d._PSD;--_.ref||_.finalize(),Kn===0&&(++Kn,Fi(function(){--Kn==0&&ju()},[]))}function Su(d,m){if(d._state!==null){var x=d._state?m.onFulfilled:m.onRejected;if(x===null)return(d._state?m.resolve:m.reject)(d._value);++m.psd.ref,++Kn,Fi(QP,[x,d,m])}else d._listeners.push(m)}function QP(d,m,x){try{var S,_=m._value;!m._state&&As.length&&(As=[]),S=Ot&&m._consoleTask?m._consoleTask.run(function(){return d(_)}):d(_),m._state||As.indexOf(_)!==-1||function(C){for(var D=Un.length;D;)if(Un[--D]._value===C._value)return Un.splice(D,1)}(m),x.resolve(S)}catch(C){x.reject(C)}finally{--Kn==0&&ju(),--x.psd.ref||x.psd.finalize()}}function ZP(){Gn(pn,function(){Oa()&&_a()})}function Oa(){var d=vu;return ks=vu=!1,d}function _a(){var d,m,x;do for(;0<Wi.length;)for(d=Wi,Wi=[],x=d.length,m=0;m<x;++m){var S=d[m];S[0].apply(null,S[1])}while(0<Wi.length);ks=vu=!0}function ju(){var d=Un;Un=[],d.forEach(function(S){S._PSD.onunhandled.call(null,S._value,S)});for(var m=Os.slice(0),x=m.length;x;)m[--x]()}function _s(d){return new we(qr,!1,d)}function st(d,m){var x=Oe;return function(){var S=Oa(),_=Oe;try{return gn(x,!0),d.apply(this,arguments)}catch(C){m&&m(C)}finally{gn(_,!1),S&&_a()}}}p(we.prototype,{then:xu,_then:function(d,m){Su(this,new dv(null,null,d,m,Oe))},catch:function(d){if(arguments.length===1)return this.then(null,d);var m=d,x=arguments[1];return typeof m=="function"?this.then(null,function(S){return(S instanceof m?x:_s)(S)}):this.then(null,function(S){return(S&&S.name===m?x:_s)(S)})},finally:function(d){return this.then(function(m){return we.resolve(d()).then(function(){return m})},function(m){return we.resolve(d()).then(function(){return _s(m)})})},timeout:function(d,m){var x=this;return d<1/0?new we(function(S,_){var C=setTimeout(function(){return _(new ie.Timeout(m))},d);x.then(S,_).finally(clearTimeout.bind(null,C))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(we.prototype,Symbol.toStringTag,"Dexie.Promise"),pn.env=pv(),p(we,{all:function(){var d=ae.apply(null,arguments).map(Cs);return new we(function(m,x){d.length===0&&m([]);var S=d.length;d.forEach(function(_,C){return we.resolve(_).then(function(D){d[C]=D,--S||m(d)},x)})})},resolve:function(d){return d instanceof we?d:d&&typeof d.then=="function"?new we(function(m,x){d.then(m,x)}):new we(qr,!0,d)},reject:_s,race:function(){var d=ae.apply(null,arguments).map(Cs);return new we(function(m,x){d.map(function(S){return we.resolve(S).then(m,x)})})},PSD:{get:function(){return Oe},set:function(d){return Oe=d}},totalEchoes:{get:function(){return Ns}},newPSD:mn,usePSD:Gn,scheduler:{get:function(){return Fi},set:function(d){Fi=d}},rejectionMapper:{get:function(){return bu},set:function(d){bu=d}},follow:function(d,m){return new we(function(x,S){return mn(function(_,C){var D=Oe;D.unhandleds=[],D.onunhandled=C,D.finalize=Qe(function(){var R,L=this;R=function(){L.unhandleds.length===0?_():C(L.unhandleds[0])},Os.push(function W(){R(),Os.splice(Os.indexOf(W),1)}),++Kn,Fi(function(){--Kn==0&&ju()},[])},D.finalize),d()},m,x,S)})}}),zn&&(zn.allSettled&&b(we,"allSettled",function(){var d=ae.apply(null,arguments).map(Cs);return new we(function(m){d.length===0&&m([]);var x=d.length,S=new Array(x);d.forEach(function(_,C){return we.resolve(_).then(function(D){return S[C]={status:"fulfilled",value:D}},function(D){return S[C]={status:"rejected",reason:D}}).then(function(){return--x||m(S)})})})}),zn.any&&typeof AggregateError<"u"&&b(we,"any",function(){var d=ae.apply(null,arguments).map(Cs);return new we(function(m,x){d.length===0&&x(new AggregateError([]));var S=d.length,_=new Array(S);d.forEach(function(C,D){return we.resolve(C).then(function(R){return m(R)},function(R){_[D]=R,--S||x(new AggregateError(_))})})})}),zn.withResolvers&&(we.withResolvers=zn.withResolvers));var _t={awaits:0,echoes:0,id:0},eE=0,Ps=[],Es=0,Ns=0,tE=0;function mn(d,m,x,S){var _=Oe,C=Object.create(_);return C.parent=_,C.ref=0,C.global=!1,C.id=++tE,pn.env,C.env=gu?{Promise:we,PromiseProp:{value:we,configurable:!0,writable:!0},all:we.all,race:we.race,allSettled:we.allSettled,any:we.any,resolve:we.resolve,reject:we.reject}:{},m&&l(C,m),++_.ref,C.finalize=function(){--this.parent.ref||this.parent.finalize()},S=Gn(C,d,x,S),C.ref===0&&C.finalize(),S}function Pa(){return _t.id||(_t.id=++eE),++_t.awaits,_t.echoes+=qi,_t.id}function yn(){return!!_t.awaits&&(--_t.awaits==0&&(_t.id=0),_t.echoes=_t.awaits*qi,!0)}function Cs(d){return _t.echoes&&d&&d.constructor===zn?(Pa(),d.then(function(m){return yn(),m},function(m){return yn(),mt(m)})):d}function rE(){var d=Ps[Ps.length-1];Ps.pop(),gn(d,!1)}function gn(d,m){var x,S=Oe;(m?!_t.echoes||Es++&&d===Oe:!Es||--Es&&d===Oe)||queueMicrotask(m?function(_){++Ns,_t.echoes&&--_t.echoes!=0||(_t.echoes=_t.awaits=_t.id=0),Ps.push(Oe),gn(_,!0)}.bind(null,d):rE),d!==Oe&&(Oe=d,S===pn&&(pn.env=pv()),gu&&(x=pn.env.Promise,m=d.env,(S.global||d.global)&&(Object.defineProperty(i,"Promise",m.PromiseProp),x.all=m.all,x.race=m.race,x.resolve=m.resolve,x.reject=m.reject,m.allSettled&&(x.allSettled=m.allSettled),m.any&&(x.any=m.any))))}function pv(){var d=i.Promise;return gu?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function Gn(d,m,x,S,_){var C=Oe;try{return gn(d,!0),m(x,S,_)}finally{gn(C,!1)}}function mv(d,m,x,S){return typeof d!="function"?d:function(){var _=Oe;x&&Pa(),gn(m,!0);try{return d.apply(this,arguments)}finally{gn(_,!1),S&&queueMicrotask(yn)}}}function ku(d){Promise===zn&&_t.echoes===0?Es===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+ar).indexOf("[native code]")===-1&&(Pa=yn=oe);var mt=we.reject,Hn="￿",Fr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",yv="String expected.",Ea=[],Ts="__dbnames",Au="readonly",Ou="readwrite";function Vn(d,m){return d?m?function(){return d.apply(this,arguments)&&m.apply(this,arguments)}:d:m}var gv={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ms(d){return typeof d!="string"||/\./.test(d)?function(m){return m}:function(m){return m[d]===void 0&&d in m&&delete(m=z(m))[d],m}}function vv(){throw ie.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Fe(d,m){try{var x=bv(d),S=bv(m);if(x!==S)return x==="Array"?1:S==="Array"?-1:x==="binary"?1:S==="binary"?-1:x==="string"?1:S==="string"?-1:x==="Date"?1:S!=="Date"?NaN:-1;switch(x){case"number":case"Date":case"string":return m<d?1:d<m?-1:0;case"binary":return function(_,C){for(var D=_.length,R=C.length,L=D<R?D:R,W=0;W<L;++W)if(_[W]!==C[W])return _[W]<C[W]?-1:1;return D===R?0:D<R?-1:1}(xv(d),xv(m));case"Array":return function(_,C){for(var D=_.length,R=C.length,L=D<R?D:R,W=0;W<L;++W){var G=Fe(_[W],C[W]);if(G!==0)return G}return D===R?0:D<R?-1:1}(d,m)}}catch{}return NaN}function bv(d){var m=typeof d;return m!="object"?m:ArrayBuffer.isView(d)?"binary":(d=X(d),d==="ArrayBuffer"?"binary":d)}function xv(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}function Ds(d,m,x){var S=d.schema.yProps;return S?(m&&0<x.numFailures&&(m=m.filter(function(_,C){return!x.failures[C]})),Promise.all(S.map(function(_){return _=_.updatesTable,m?d.db.table(_).where("k").anyOf(m).delete():d.db.table(_).clear()})).then(function(){return x})):x}var wv=(tt.prototype._trans=function(d,m,x){var S=this._tx||Oe.trans,_=this.name,C=Ot&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function D(W,G,$){if(!$.schema[_])throw new ie.NotFound("Table "+_+" not part of transaction");return m($.idbtrans,$)}var R=Oa();try{var L=S&&S.db._novip===this.db._novip?S===Oe.trans?S._promise(d,D,x):mn(function(){return S._promise(d,D,x)},{trans:S,transless:Oe.transless||Oe}):function W(G,$,Y,F){if(G.idbdb&&(G._state.openComplete||Oe.letThrough||G._vip)){var U=G._createTransaction($,Y,G._dbSchema);try{U.create(),G._state.PR1398_maxLoop=3}catch(V){return V.name===Wt.InvalidState&&G.isOpen()&&0<--G._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),G.close({disableAutoOpen:!1}),G.open().then(function(){return W(G,$,Y,F)})):mt(V)}return U._promise($,function(V,H){return mn(function(){return Oe.trans=U,F(V,H,U)})}).then(function(V){if($==="readwrite")try{U.idbtrans.commit()}catch{}return $==="readonly"?V:U._completion.then(function(){return V})})}if(G._state.openComplete)return mt(new ie.DatabaseClosed(G._state.dbOpenError));if(!G._state.isBeingOpened){if(!G._state.autoOpen)return mt(new ie.DatabaseClosed);G.open().catch(oe)}return G._state.dbReadyPromise.then(function(){return W(G,$,Y,F)})}(this.db,d,[this.name],D);return C&&(L._consoleTask=C,L=L.catch(function(W){return console.trace(W),mt(W)})),L}finally{R&&_a()}},tt.prototype.get=function(d,m){var x=this;return d&&d.constructor===Object?this.where(d).first(m):d==null?mt(new ie.Type("Invalid argument to Table.get()")):this._trans("readonly",function(S){return x.core.get({trans:S,key:d}).then(function(_){return x.hook.reading.fire(_)})}).then(m)},tt.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(s(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var m=o(d);if(m.length===1)return this.where(m[0]).equals(d[m[0]]);var x=this.schema.indexes.concat(this.schema.primKey).filter(function(R){if(R.compound&&m.every(function(W){return 0<=R.keyPath.indexOf(W)})){for(var L=0;L<m.length;++L)if(m.indexOf(R.keyPath[L])===-1)return!1;return!0}return!1}).sort(function(R,L){return R.keyPath.length-L.keyPath.length})[0];if(x&&this.db._maxKey!==Hn){var C=x.keyPath.slice(0,m.length);return this.where(C).equals(C.map(function(L){return d[L]}))}!x&&Ot&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(m.join("+"),"]"));var S=this.schema.idxByName;function _(R,L){return Fe(R,L)===0}var D=m.reduce(function($,L){var W=$[0],G=$[1],$=S[L],Y=d[L];return[W||$,W||!$?Vn(G,$&&$.multi?function(F){return F=O(F,L),s(F)&&F.some(function(U){return _(Y,U)})}:function(F){return _(Y,O(F,L))}):G]},[null,null]),C=D[0],D=D[1];return C?this.where(C.name).equals(d[C.keyPath]).filter(D):x?this.filter(D):this.where(m).equals("")},tt.prototype.filter=function(d){return this.toCollection().and(d)},tt.prototype.count=function(d){return this.toCollection().count(d)},tt.prototype.offset=function(d){return this.toCollection().offset(d)},tt.prototype.limit=function(d){return this.toCollection().limit(d)},tt.prototype.each=function(d){return this.toCollection().each(d)},tt.prototype.toArray=function(d){return this.toCollection().toArray(d)},tt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},tt.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,s(d)?"[".concat(d.join("+"),"]"):d))},tt.prototype.reverse=function(){return this.toCollection().reverse()},tt.prototype.mapToClass=function(d){var m,x=this.db,S=this.name;function _(){return m!==null&&m.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof vv&&(function(L,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function G(){this.constructor=L}r(L,W),L.prototype=W===null?Object.create(W):(G.prototype=W.prototype,new G)}(_,m=d),Object.defineProperty(_.prototype,"db",{get:function(){return x},enumerable:!1,configurable:!0}),_.prototype.table=function(){return S},d=_);for(var C=new Set,D=d.prototype;D;D=c(D))Object.getOwnPropertyNames(D).forEach(function(L){return C.add(L)});function R(L){if(!L)return L;var W,G=Object.create(d.prototype);for(W in L)if(!C.has(W))try{G[W]=L[W]}catch{}return G}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=R,this.hook("reading",R),d},tt.prototype.defineClass=function(){return this.mapToClass(function(d){l(this,d)})},tt.prototype.add=function(d,m){var x=this,S=this.schema.primKey,_=S.auto,C=S.keyPath,D=d;return C&&_&&(D=Ms(C)(d)),this._trans("readwrite",function(R){return x.core.mutate({trans:R,type:"add",keys:m!=null?[m]:null,values:[D]})}).then(function(R){return R.numFailures?we.reject(R.failures[0]):R.lastResult}).then(function(R){if(C)try{P(d,C,R)}catch{}return R})},tt.prototype.update=function(d,m){return typeof d!="object"||s(d)?this.where(":id").equals(d).modify(m):(d=O(d,this.schema.primKey.keyPath),d===void 0?mt(new ie.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(m))},tt.prototype.put=function(d,m){var x=this,S=this.schema.primKey,_=S.auto,C=S.keyPath,D=d;return C&&_&&(D=Ms(C)(d)),this._trans("readwrite",function(R){return x.core.mutate({trans:R,type:"put",values:[D],keys:m!=null?[m]:null})}).then(function(R){return R.numFailures?we.reject(R.failures[0]):R.lastResult}).then(function(R){if(C)try{P(d,C,R)}catch{}return R})},tt.prototype.delete=function(d){var m=this;return this._trans("readwrite",function(x){return m.core.mutate({trans:x,type:"delete",keys:[d]}).then(function(S){return Ds(m,[d],S)}).then(function(S){return S.numFailures?we.reject(S.failures[0]):void 0})})},tt.prototype.clear=function(){var d=this;return this._trans("readwrite",function(m){return d.core.mutate({trans:m,type:"deleteRange",range:gv}).then(function(x){return Ds(d,null,x)})}).then(function(m){return m.numFailures?we.reject(m.failures[0]):void 0})},tt.prototype.bulkGet=function(d){var m=this;return this._trans("readonly",function(x){return m.core.getMany({keys:d,trans:x}).then(function(S){return S.map(function(_){return m.hook.reading.fire(_)})})})},tt.prototype.bulkAdd=function(d,m,x){var S=this,_=Array.isArray(m)?m:void 0,C=(x=x||(_?void 0:m))?x.allKeys:void 0;return this._trans("readwrite",function(D){var W=S.schema.primKey,R=W.auto,W=W.keyPath;if(W&&_)throw new ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(_&&_.length!==d.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var L=d.length,W=W&&R?d.map(Ms(W)):d;return S.core.mutate({trans:D,type:"add",keys:_,values:W,wantResults:C}).then(function(U){var $=U.numFailures,Y=U.results,F=U.lastResult,U=U.failures;if($===0)return C?Y:F;throw new Re("".concat(S.name,".bulkAdd(): ").concat($," of ").concat(L," operations failed"),U)})})},tt.prototype.bulkPut=function(d,m,x){var S=this,_=Array.isArray(m)?m:void 0,C=(x=x||(_?void 0:m))?x.allKeys:void 0;return this._trans("readwrite",function(D){var W=S.schema.primKey,R=W.auto,W=W.keyPath;if(W&&_)throw new ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(_&&_.length!==d.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var L=d.length,W=W&&R?d.map(Ms(W)):d;return S.core.mutate({trans:D,type:"put",keys:_,values:W,wantResults:C}).then(function(U){var $=U.numFailures,Y=U.results,F=U.lastResult,U=U.failures;if($===0)return C?Y:F;throw new Re("".concat(S.name,".bulkPut(): ").concat($," of ").concat(L," operations failed"),U)})})},tt.prototype.bulkUpdate=function(d){var m=this,x=this.core,S=d.map(function(D){return D.key}),_=d.map(function(D){return D.changes}),C=[];return this._trans("readwrite",function(D){return x.getMany({trans:D,keys:S,cache:"clone"}).then(function(R){var L=[],W=[];d.forEach(function($,Y){var F=$.key,U=$.changes,V=R[Y];if(V){for(var H=0,J=Object.keys(U);H<J.length;H++){var ee=J[H],te=U[ee];if(ee===m.schema.primKey.keyPath){if(Fe(te,F)!==0)throw new ie.Constraint("Cannot update primary key in bulkUpdate()")}else P(V,ee,te)}C.push(Y),L.push(F),W.push(V)}});var G=L.length;return x.mutate({trans:D,type:"put",keys:L,values:W,updates:{keys:S,changeSpecs:_}}).then(function($){var Y=$.numFailures,F=$.failures;if(Y===0)return G;for(var U=0,V=Object.keys(F);U<V.length;U++){var H,J=V[U],ee=C[Number(J)];ee!=null&&(H=F[J],delete F[J],F[ee]=H)}throw new Re("".concat(m.name,".bulkUpdate(): ").concat(Y," of ").concat(G," operations failed"),F)})})})},tt.prototype.bulkDelete=function(d){var m=this,x=d.length;return this._trans("readwrite",function(S){return m.core.mutate({trans:S,type:"delete",keys:d}).then(function(_){return Ds(m,d,_)})}).then(function(D){var _=D.numFailures,C=D.lastResult,D=D.failures;if(_===0)return C;throw new Re("".concat(m.name,".bulkDelete(): ").concat(_," of ").concat(x," operations failed"),D)})},tt);function tt(){}function zi(d){function m(D,R){if(R){for(var L=arguments.length,W=new Array(L-1);--L;)W[L-1]=arguments[L];return x[D].subscribe.apply(null,W),d}if(typeof D=="string")return x[D]}var x={};m.addEventType=C;for(var S=1,_=arguments.length;S<_;++S)C(arguments[S]);return m;function C(D,R,L){if(typeof D!="object"){var W;R=R||fn;var G={subscribers:[],fire:L=L||oe,subscribe:function($){G.subscribers.indexOf($)===-1&&(G.subscribers.push($),G.fire=R(G.fire,$))},unsubscribe:function($){G.subscribers=G.subscribers.filter(function(Y){return Y!==$}),G.fire=G.subscribers.reduce(R,L)}};return x[D]=m[D]=G}o(W=D).forEach(function($){var Y=W[$];if(s(Y))C($,W[$][0],W[$][1]);else{if(Y!=="asap")throw new ie.InvalidArgument("Invalid event config");var F=C($,Ye,function(){for(var U=arguments.length,V=new Array(U);U--;)V[U]=arguments[U];F.subscribers.forEach(function(H){j(function(){H.apply(null,V)})})})}})}}function Ui(d,m){return v(m).from({prototype:d}),m}function Na(d,m){return!(d.filter||d.algorithm||d.or)&&(m?d.justLimit:!d.replayFilter)}function _u(d,m){d.filter=Vn(d.filter,m)}function Pu(d,m,x){var S=d.replayFilter;d.replayFilter=S?function(){return Vn(S(),m())}:m,d.justLimit=x&&!S}function Is(d,m){if(d.isPrimKey)return m.primaryKey;var x=m.getIndexByKeyPath(d.index);if(!x)throw new ie.Schema("KeyPath "+d.index+" on object store "+m.name+" is not indexed");return x}function Sv(d,m,x){var S=Is(d,m.schema);return m.openCursor({trans:x,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:S,range:d.range}})}function Rs(d,m,x,S){var _=d.replayFilter?Vn(d.filter,d.replayFilter()):d.filter;if(d.or){var C={},D=function(R,L,W){var G,$;_&&!_(L,W,function(Y){return L.stop(Y)},function(Y){return L.fail(Y)})||(($=""+(G=L.primaryKey))=="[object ArrayBuffer]"&&($=""+new Uint8Array(G)),f(C,$)||(C[$]=!0,m(R,L,W)))};return Promise.all([d.or._iterate(D,x),jv(Sv(d,S,x),d.algorithm,D,!d.keysOnly&&d.valueMapper)])}return jv(Sv(d,S,x),Vn(d.algorithm,_),m,!d.keysOnly&&d.valueMapper)}function jv(d,m,x,S){var _=st(S?function(C,D,R){return x(S(C),D,R)}:x);return d.then(function(C){if(C)return C.start(function(){var D=function(){return C.continue()};m&&!m(C,function(R){return D=R},function(R){C.stop(R),D=oe},function(R){C.fail(R),D=oe})||_(C.value,C,function(R){return D=R}),D()})})}var Ki=(kv.prototype.execute=function(d){var m=this["@@propmod"];if(m.add!==void 0){var x=m.add;if(s(x))return a(a([],s(d)?d:[],!0),x).sort();if(typeof x=="number")return(Number(d)||0)+x;if(typeof x=="bigint")try{return BigInt(d)+x}catch{return BigInt(0)+x}throw new TypeError("Invalid term ".concat(x))}if(m.remove!==void 0){var S=m.remove;if(s(S))return s(d)?d.filter(function(_){return!S.includes(_)}).sort():[];if(typeof S=="number")return Number(d)-S;if(typeof S=="bigint")try{return BigInt(d)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return x=(x=m.replacePrefix)===null||x===void 0?void 0:x[0],x&&typeof d=="string"&&d.startsWith(x)?m.replacePrefix[1]+d.substring(x.length):d},kv);function kv(d){this["@@propmod"]=d}var nE=(Ke.prototype._read=function(d,m){var x=this._ctx;return x.error?x.table._trans(null,mt.bind(null,x.error)):x.table._trans("readonly",d).then(m)},Ke.prototype._write=function(d){var m=this._ctx;return m.error?m.table._trans(null,mt.bind(null,m.error)):m.table._trans("readwrite",d,"locked")},Ke.prototype._addAlgorithm=function(d){var m=this._ctx;m.algorithm=Vn(m.algorithm,d)},Ke.prototype._iterate=function(d,m){return Rs(this._ctx,d,m,this._ctx.table.core)},Ke.prototype.clone=function(d){var m=Object.create(this.constructor.prototype),x=Object.create(this._ctx);return d&&l(x,d),m._ctx=x,m},Ke.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ke.prototype.each=function(d){var m=this._ctx;return this._read(function(x){return Rs(m,d,x,m.table.core)})},Ke.prototype.count=function(d){var m=this;return this._read(function(x){var S=m._ctx,_=S.table.core;if(Na(S,!0))return _.count({trans:x,query:{index:Is(S,_.schema),range:S.range}}).then(function(D){return Math.min(D,S.limit)});var C=0;return Rs(S,function(){return++C,!1},x,_).then(function(){return C})}).then(d)},Ke.prototype.sortBy=function(d,m){var x=d.split(".").reverse(),S=x[0],_=x.length-1;function C(L,W){return W?C(L[x[W]],W-1):L[S]}var D=this._ctx.dir==="next"?1:-1;function R(L,W){return Fe(C(L,_),C(W,_))*D}return this.toArray(function(L){return L.sort(R)}).then(m)},Ke.prototype.toArray=function(d){var m=this;return this._read(function(x){var S=m._ctx;if(S.dir==="next"&&Na(S,!0)&&0<S.limit){var _=S.valueMapper,C=Is(S,S.table.core.schema);return S.table.core.query({trans:x,limit:S.limit,values:!0,query:{index:C,range:S.range}}).then(function(R){return R=R.result,_?R.map(_):R})}var D=[];return Rs(S,function(R){return D.push(R)},x,S.table.core).then(function(){return D})},d)},Ke.prototype.offset=function(d){var m=this._ctx;return d<=0||(m.offset+=d,Na(m)?Pu(m,function(){var x=d;return function(S,_){return x===0||(x===1?--x:_(function(){S.advance(x),x=0}),!1)}}):Pu(m,function(){var x=d;return function(){return--x<0}})),this},Ke.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),Pu(this._ctx,function(){var m=d;return function(x,S,_){return--m<=0&&S(_),0<=m}},!0),this},Ke.prototype.until=function(d,m){return _u(this._ctx,function(x,S,_){return!d(x.value)||(S(_),m)}),this},Ke.prototype.first=function(d){return this.limit(1).toArray(function(m){return m[0]}).then(d)},Ke.prototype.last=function(d){return this.reverse().first(d)},Ke.prototype.filter=function(d){var m;return _u(this._ctx,function(x){return d(x.value)}),(m=this._ctx).isMatch=Vn(m.isMatch,d),this},Ke.prototype.and=function(d){return this.filter(d)},Ke.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},Ke.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ke.prototype.desc=function(){return this.reverse()},Ke.prototype.eachKey=function(d){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(x,S){d(S.key,S)})},Ke.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},Ke.prototype.eachPrimaryKey=function(d){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(x,S){d(S.primaryKey,S)})},Ke.prototype.keys=function(d){var m=this._ctx;m.keysOnly=!m.isMatch;var x=[];return this.each(function(S,_){x.push(_.key)}).then(function(){return x}).then(d)},Ke.prototype.primaryKeys=function(d){var m=this._ctx;if(m.dir==="next"&&Na(m,!0)&&0<m.limit)return this._read(function(S){var _=Is(m,m.table.core.schema);return m.table.core.query({trans:S,values:!1,limit:m.limit,query:{index:_,range:m.range}})}).then(function(S){return S.result}).then(d);m.keysOnly=!m.isMatch;var x=[];return this.each(function(S,_){x.push(_.primaryKey)}).then(function(){return x}).then(d)},Ke.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},Ke.prototype.firstKey=function(d){return this.limit(1).keys(function(m){return m[0]}).then(d)},Ke.prototype.lastKey=function(d){return this.reverse().firstKey(d)},Ke.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var m={};return _u(this._ctx,function(_){var S=_.primaryKey.toString(),_=f(m,S);return m[S]=!0,!_}),this},Ke.prototype.modify=function(d){var m=this,x=this._ctx;return this._write(function(S){var _,C,D;D=typeof d=="function"?d:(_=o(d),C=_.length,function(J){for(var ee=!1,te=0;te<C;++te){var ne=_[te],de=d[ne],ye=O(J,ne);de instanceof Ki?(P(J,ne,de.execute(ye)),ee=!0):ye!==de&&(P(J,ne,de),ee=!0)}return ee});var R=x.table.core,$=R.schema.primaryKey,L=$.outbound,W=$.extractKey,G=200,$=m.db._options.modifyChunkSize;$&&(G=typeof $=="object"?$[R.name]||$["*"]||200:$);function Y(J,ne){var te=ne.failures,ne=ne.numFailures;U+=J-ne;for(var de=0,ye=o(te);de<ye.length;de++){var he=ye[de];F.push(te[he])}}var F=[],U=0,V=[],H=d===Av;return m.clone().primaryKeys().then(function(J){function ee(ne){var de=Math.min(G,J.length-ne),ye=J.slice(ne,ne+de);return(H?Promise.resolve([]):R.getMany({trans:S,keys:ye,cache:"immutable"})).then(function(he){var me=[],xe=[],be=L?[]:null,Se=H?ye:[];if(!H)for(var Me=0;Me<de;++Me){var ze=he[Me],Te={value:z(ze),primKey:J[ne+Me]};D.call(Te,Te.value,Te)!==!1&&(Te.value==null?Se.push(J[ne+Me]):L||Fe(W(ze),W(Te.value))===0?(xe.push(Te.value),L&&be.push(J[ne+Me])):(Se.push(J[ne+Me]),me.push(Te.value)))}return Promise.resolve(0<me.length&&R.mutate({trans:S,type:"add",values:me}).then(function(ft){for(var Ee in ft.failures)Se.splice(parseInt(Ee),1);Y(me.length,ft)})).then(function(){return(0<xe.length||te&&typeof d=="object")&&R.mutate({trans:S,type:"put",keys:be,values:xe,criteria:te,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<ne}).then(function(ft){return Y(xe.length,ft)})}).then(function(){return(0<Se.length||te&&H)&&R.mutate({trans:S,type:"delete",keys:Se,criteria:te,isAdditionalChunk:0<ne}).then(function(ft){return Ds(x.table,Se,ft)}).then(function(ft){return Y(Se.length,ft)})}).then(function(){return J.length>ne+de&&ee(ne+G)})})}var te=Na(x)&&x.limit===1/0&&(typeof d!="function"||H)&&{index:x.index,range:x.range};return ee(0).then(function(){if(0<F.length)throw new je("Error modifying one or more objects",F,U,V);return J.length})})})},Ke.prototype.delete=function(){var d=this._ctx,m=d.range;return!Na(d)||d.table.schema.yProps||!d.isPrimKey&&m.type!==3?this.modify(Av):this._write(function(x){var S=d.table.core.schema.primaryKey,_=m;return d.table.core.count({trans:x,query:{index:S,range:_}}).then(function(C){return d.table.core.mutate({trans:x,type:"deleteRange",range:_}).then(function(L){var R=L.failures,L=L.numFailures;if(L)throw new je("Could not delete some values",Object.keys(R).map(function(W){return R[W]}),C-L);return C-L})})})},Ke);function Ke(){}var Av=function(d,m){return m.value=null};function aE(d,m){return d<m?-1:d===m?0:1}function iE(d,m){return m<d?-1:d===m?0:1}function Jt(d,m,x){return d=d instanceof _v?new d.Collection(d):d,d._ctx.error=new(x||TypeError)(m),d}function Ca(d){return new d.Collection(d,function(){return Ov("")}).limit(0)}function $s(d,m,x,S){var _,C,D,R,L,W,G,$=x.length;if(!x.every(function(U){return typeof U=="string"}))return Jt(d,yv);function Y(U){_=U==="next"?function(H){return H.toUpperCase()}:function(H){return H.toLowerCase()},C=U==="next"?function(H){return H.toLowerCase()}:function(H){return H.toUpperCase()},D=U==="next"?aE:iE;var V=x.map(function(H){return{lower:C(H),upper:_(H)}}).sort(function(H,J){return D(H.lower,J.lower)});R=V.map(function(H){return H.upper}),L=V.map(function(H){return H.lower}),G=(W=U)==="next"?"":S}Y("next"),d=new d.Collection(d,function(){return vn(R[0],L[$-1]+S)}),d._ondirectionchange=function(U){Y(U)};var F=0;return d._addAlgorithm(function(U,V,H){var J=U.key;if(typeof J!="string")return!1;var ee=C(J);if(m(ee,L,F))return!0;for(var te=null,ne=F;ne<$;++ne){var de=function(ye,he,me,xe,be,Se){for(var Me=Math.min(ye.length,xe.length),ze=-1,Te=0;Te<Me;++Te){var ft=he[Te];if(ft!==xe[Te])return be(ye[Te],me[Te])<0?ye.substr(0,Te)+me[Te]+me.substr(Te+1):be(ye[Te],xe[Te])<0?ye.substr(0,Te)+xe[Te]+me.substr(Te+1):0<=ze?ye.substr(0,ze)+he[ze]+me.substr(ze+1):null;be(ye[Te],ft)<0&&(ze=Te)}return Me<xe.length&&Se==="next"?ye+me.substr(ye.length):Me<ye.length&&Se==="prev"?ye.substr(0,me.length):ze<0?null:ye.substr(0,ze)+xe[ze]+me.substr(ze+1)}(J,ee,R[ne],L[ne],D,W);de===null&&te===null?F=ne+1:(te===null||0<D(te,de))&&(te=de)}return V(te!==null?function(){U.continue(te+G)}:H),!1}),d}function vn(d,m,x,S){return{type:2,lower:d,upper:m,lowerOpen:x,upperOpen:S}}function Ov(d){return{type:1,lower:d,upper:d}}var _v=(Object.defineProperty(Pt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Pt.prototype.between=function(d,m,x,S){x=x!==!1,S=S===!0;try{return 0<this._cmp(d,m)||this._cmp(d,m)===0&&(x||S)&&(!x||!S)?Ca(this):new this.Collection(this,function(){return vn(d,m,!x,!S)})}catch{return Jt(this,Fr)}},Pt.prototype.equals=function(d){return d==null?Jt(this,Fr):new this.Collection(this,function(){return Ov(d)})},Pt.prototype.above=function(d){return d==null?Jt(this,Fr):new this.Collection(this,function(){return vn(d,void 0,!0)})},Pt.prototype.aboveOrEqual=function(d){return d==null?Jt(this,Fr):new this.Collection(this,function(){return vn(d,void 0,!1)})},Pt.prototype.below=function(d){return d==null?Jt(this,Fr):new this.Collection(this,function(){return vn(void 0,d,!1,!0)})},Pt.prototype.belowOrEqual=function(d){return d==null?Jt(this,Fr):new this.Collection(this,function(){return vn(void 0,d)})},Pt.prototype.startsWith=function(d){return typeof d!="string"?Jt(this,yv):this.between(d,d+Hn,!0,!0)},Pt.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):$s(this,function(m,x){return m.indexOf(x[0])===0},[d],Hn)},Pt.prototype.equalsIgnoreCase=function(d){return $s(this,function(m,x){return m===x[0]},[d],"")},Pt.prototype.anyOfIgnoreCase=function(){var d=ae.apply(re,arguments);return d.length===0?Ca(this):$s(this,function(m,x){return x.indexOf(m)!==-1},d,"")},Pt.prototype.startsWithAnyOfIgnoreCase=function(){var d=ae.apply(re,arguments);return d.length===0?Ca(this):$s(this,function(m,x){return x.some(function(S){return m.indexOf(S)===0})},d,Hn)},Pt.prototype.anyOf=function(){var d=this,m=ae.apply(re,arguments),x=this._cmp;try{m.sort(x)}catch{return Jt(this,Fr)}if(m.length===0)return Ca(this);var S=new this.Collection(this,function(){return vn(m[0],m[m.length-1])});S._ondirectionchange=function(C){x=C==="next"?d._ascending:d._descending,m.sort(x)};var _=0;return S._addAlgorithm(function(C,D,R){for(var L=C.key;0<x(L,m[_]);)if(++_===m.length)return D(R),!1;return x(L,m[_])===0||(D(function(){C.continue(m[_])}),!1)}),S},Pt.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Pt.prototype.noneOf=function(){var d=ae.apply(re,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return Jt(this,Fr)}var m=d.reduce(function(x,S){return x?x.concat([[x[x.length-1][1],S]]):[[-1/0,S]]},null);return m.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(m,{includeLowers:!1,includeUppers:!1})},Pt.prototype.inAnyRange=function(J,m){var x=this,S=this._cmp,_=this._ascending,C=this._descending,D=this._min,R=this._max;if(J.length===0)return Ca(this);if(!J.every(function(ee){return ee[0]!==void 0&&ee[1]!==void 0&&_(ee[0],ee[1])<=0}))return Jt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ie.InvalidArgument);var L=!m||m.includeLowers!==!1,W=m&&m.includeUppers===!0,G,$=_;function Y(ee,te){return $(ee[0],te[0])}try{(G=J.reduce(function(ee,te){for(var ne=0,de=ee.length;ne<de;++ne){var ye=ee[ne];if(S(te[0],ye[1])<0&&0<S(te[1],ye[0])){ye[0]=D(ye[0],te[0]),ye[1]=R(ye[1],te[1]);break}}return ne===de&&ee.push(te),ee},[])).sort(Y)}catch{return Jt(this,Fr)}var F=0,U=W?function(ee){return 0<_(ee,G[F][1])}:function(ee){return 0<=_(ee,G[F][1])},V=L?function(ee){return 0<C(ee,G[F][0])}:function(ee){return 0<=C(ee,G[F][0])},H=U,J=new this.Collection(this,function(){return vn(G[0][0],G[G.length-1][1],!L,!W)});return J._ondirectionchange=function(ee){$=ee==="next"?(H=U,_):(H=V,C),G.sort(Y)},J._addAlgorithm(function(ee,te,ne){for(var de,ye=ee.key;H(ye);)if(++F===G.length)return te(ne),!1;return!U(de=ye)&&!V(de)||(x._cmp(ye,G[F][1])===0||x._cmp(ye,G[F][0])===0||te(function(){$===_?ee.continue(G[F][0]):ee.continue(G[F][1])}),!1)}),J},Pt.prototype.startsWithAnyOf=function(){var d=ae.apply(re,arguments);return d.every(function(m){return typeof m=="string"})?d.length===0?Ca(this):this.inAnyRange(d.map(function(m){return[m,m+Hn]})):Jt(this,"startsWithAnyOf() only works with strings")},Pt);function Pt(){}function Pr(d){return st(function(m){return Gi(m),d(m.target.error),!1})}function Gi(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var Hi="storagemutated",Eu="x-storagemutated-1",bn=zi(null,Hi),oE=(Er.prototype._lock=function(){return E(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this},Er.prototype._unlock=function(){if(E(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{Gn(d[1],d[0])}catch{}}return this},Er.prototype._locked=function(){return this._reculock&&Oe.lockOwnerFor!==this},Er.prototype.create=function(d){var m=this;if(!this.mode)return this;var x=this.db.idbdb,S=this.db._state.dbOpenError;if(E(!this.idbtrans),!d&&!x)switch(S&&S.name){case"DatabaseClosedError":throw new ie.DatabaseClosed(S);case"MissingAPIError":throw new ie.MissingAPI(S.message,S);default:throw new ie.OpenFailed(S)}if(!this.active)throw new ie.TransactionInactive;return E(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||x).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=st(function(_){Gi(_),m._reject(d.error)}),d.onabort=st(function(_){Gi(_),m.active&&m._reject(new ie.Abort(d.error)),m.active=!1,m.on("abort").fire(_)}),d.oncomplete=st(function(){m.active=!1,m._resolve(),"mutatedParts"in d&&bn.storagemutated.fire(d.mutatedParts)}),this},Er.prototype._promise=function(d,m,x){var S=this;if(d==="readwrite"&&this.mode!=="readwrite")return mt(new ie.ReadOnly("Transaction is readonly"));if(!this.active)return mt(new ie.TransactionInactive);if(this._locked())return new we(function(C,D){S._blockedFuncs.push([function(){S._promise(d,m,x).then(C,D)},Oe])});if(x)return mn(function(){var C=new we(function(D,R){S._lock();var L=m(D,R,S);L&&L.then&&L.then(D,R)});return C.finally(function(){return S._unlock()}),C._lib=!0,C});var _=new we(function(C,D){var R=m(C,D,S);R&&R.then&&R.then(C,D)});return _._lib=!0,_},Er.prototype._root=function(){return this.parent?this.parent._root():this},Er.prototype.waitFor=function(d){var m,x=this._root(),S=we.resolve(d);x._waitingFor?x._waitingFor=x._waitingFor.then(function(){return S}):(x._waitingFor=S,x._waitingQueue=[],m=x.idbtrans.objectStore(x.storeNames[0]),function C(){for(++x._spinCount;x._waitingQueue.length;)x._waitingQueue.shift()();x._waitingFor&&(m.get(-1/0).onsuccess=C)}());var _=x._waitingFor;return new we(function(C,D){S.then(function(R){return x._waitingQueue.push(st(C.bind(null,R)))},function(R){return x._waitingQueue.push(st(D.bind(null,R)))}).finally(function(){x._waitingFor===_&&(x._waitingFor=null)})})},Er.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ie.Abort))},Er.prototype.table=function(d){var m=this._memoizedTables||(this._memoizedTables={});if(f(m,d))return m[d];var x=this.schema[d];if(!x)throw new ie.NotFound("Table "+d+" not part of transaction");return x=new this.db.Table(d,x,this),x.core=this.db.core.table(d),m[d]=x},Er);function Er(){}function Nu(d,m,x,S,_,C,D,R){return{name:d,keyPath:m,unique:x,multi:S,auto:_,compound:C,src:(x&&!D?"&":"")+(S?"*":"")+(_?"++":"")+Pv(m),type:R}}function Pv(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function Cu(d,m,x){return{name:d,primKey:m,indexes:x,mappedClass:null,idxByName:(S=function(_){return[_.name,_]},x.reduce(function(_,C,D){return D=S(C,D),D&&(_[D[0]]=D[1]),_},{}))};var S}var Vi=function(d){try{return d.only([[]]),Vi=function(){return[[]]},[[]]}catch{return Vi=function(){return Hn},Hn}};function Tu(d){return d==null?function(){}:typeof d=="string"?(m=d).split(".").length===1?function(x){return x[m]}:function(x){return O(x,m)}:function(x){return O(x,d)};var m}function Ev(d){return[].slice.call(d)}var sE=0;function Yi(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function lE(d,m,L){function S(H){if(H.type===3)return null;if(H.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var F=H.lower,U=H.upper,V=H.lowerOpen,H=H.upperOpen;return F===void 0?U===void 0?null:m.upperBound(U,!!H):U===void 0?m.lowerBound(F,!!V):m.bound(F,U,!!V,!!H)}function _(Y){var F,U=Y.name;return{name:U,schema:Y,mutate:function(V){var H=V.trans,J=V.type,ee=V.keys,te=V.values,ne=V.range;return new Promise(function(de,ye){de=st(de);var he=H.objectStore(U),me=he.keyPath==null,xe=J==="put"||J==="add";if(!xe&&J!=="delete"&&J!=="deleteRange")throw new Error("Invalid operation type: "+J);var be,Se=(ee||te||{length:1}).length;if(ee&&te&&ee.length!==te.length)throw new Error("Given keys array must have same length as given values array.");if(Se===0)return de({numFailures:0,failures:{},results:[],lastResult:void 0});function Me(zt){++ft,Gi(zt)}var ze=[],Te=[],ft=0;if(J==="deleteRange"){if(ne.type===4)return de({numFailures:ft,failures:Te,results:[],lastResult:void 0});ne.type===3?ze.push(be=he.clear()):ze.push(be=he.delete(S(ne)))}else{var me=xe?me?[te,ee]:[te,null]:[ee,null],Ee=me[0],$t=me[1];if(xe)for(var Bt=0;Bt<Se;++Bt)ze.push(be=$t&&$t[Bt]!==void 0?he[J](Ee[Bt],$t[Bt]):he[J](Ee[Bt])),be.onerror=Me;else for(Bt=0;Bt<Se;++Bt)ze.push(be=he[J](Ee[Bt])),be.onerror=Me}function Ys(zt){zt=zt.target.result,ze.forEach(function(Jn,Xu){return Jn.error!=null&&(Te[Xu]=Jn.error)}),de({numFailures:ft,failures:Te,results:J==="delete"?ee:ze.map(function(Jn){return Jn.result}),lastResult:zt})}be.onerror=function(zt){Me(zt),Ys(zt)},be.onsuccess=Ys})},getMany:function(V){var H=V.trans,J=V.keys;return new Promise(function(ee,te){ee=st(ee);for(var ne,de=H.objectStore(U),ye=J.length,he=new Array(ye),me=0,xe=0,be=function(ze){ze=ze.target,he[ze._pos]=ze.result,++xe===me&&ee(he)},Se=Pr(te),Me=0;Me<ye;++Me)J[Me]!=null&&((ne=de.get(J[Me]))._pos=Me,ne.onsuccess=be,ne.onerror=Se,++me);me===0&&ee(he)})},get:function(V){var H=V.trans,J=V.key;return new Promise(function(ee,te){ee=st(ee);var ne=H.objectStore(U).get(J);ne.onsuccess=function(de){return ee(de.target.result)},ne.onerror=Pr(te)})},query:(F=W,function(V){return new Promise(function(H,J){H=st(H);var ee,te,ne,me=V.trans,de=V.values,ye=V.limit,be=V.query,he=ye===1/0?void 0:ye,xe=be.index,be=be.range,me=me.objectStore(U),xe=xe.isPrimaryKey?me:me.index(xe.name),be=S(be);if(ye===0)return H({result:[]});F?((he=de?xe.getAll(be,he):xe.getAllKeys(be,he)).onsuccess=function(Se){return H({result:Se.target.result})},he.onerror=Pr(J)):(ee=0,te=!de&&"openKeyCursor"in xe?xe.openKeyCursor(be):xe.openCursor(be),ne=[],te.onsuccess=function(Se){var Me=te.result;return Me?(ne.push(de?Me.value:Me.primaryKey),++ee===ye?H({result:ne}):void Me.continue()):H({result:ne})},te.onerror=Pr(J))})}),openCursor:function(V){var H=V.trans,J=V.values,ee=V.query,te=V.reverse,ne=V.unique;return new Promise(function(de,ye){de=st(de);var xe=ee.index,he=ee.range,me=H.objectStore(U),me=xe.isPrimaryKey?me:me.index(xe.name),xe=te?ne?"prevunique":"prev":ne?"nextunique":"next",be=!J&&"openKeyCursor"in me?me.openKeyCursor(S(he),xe):me.openCursor(S(he),xe);be.onerror=Pr(ye),be.onsuccess=st(function(Se){var Me,ze,Te,ft,Ee=be.result;Ee?(Ee.___id=++sE,Ee.done=!1,Me=Ee.continue.bind(Ee),ze=(ze=Ee.continuePrimaryKey)&&ze.bind(Ee),Te=Ee.advance.bind(Ee),ft=function(){throw new Error("Cursor not stopped")},Ee.trans=H,Ee.stop=Ee.continue=Ee.continuePrimaryKey=Ee.advance=function(){throw new Error("Cursor not started")},Ee.fail=st(ye),Ee.next=function(){var $t=this,Bt=1;return this.start(function(){return Bt--?$t.continue():$t.stop()}).then(function(){return $t})},Ee.start=function($t){function Bt(){if(be.result)try{$t()}catch(zt){Ee.fail(zt)}else Ee.done=!0,Ee.start=function(){throw new Error("Cursor behind last entry")},Ee.stop()}var Ys=new Promise(function(zt,Jn){zt=st(zt),be.onerror=Pr(Jn),Ee.fail=Jn,Ee.stop=function(Xu){Ee.stop=Ee.continue=Ee.continuePrimaryKey=Ee.advance=ft,zt(Xu)}});return be.onsuccess=st(function(zt){be.onsuccess=Bt,Bt()}),Ee.continue=Me,Ee.continuePrimaryKey=ze,Ee.advance=Te,Bt(),Ys},de(Ee)):de(null)},ye)})},count:function(V){var H=V.query,J=V.trans,ee=H.index,te=H.range;return new Promise(function(ne,de){var ye=J.objectStore(U),he=ee.isPrimaryKey?ye:ye.index(ee.name),ye=S(te),he=ye?he.count(ye):he.count();he.onsuccess=st(function(me){return ne(me.target.result)}),he.onerror=Pr(de)})}}}var C,D,R,G=(D=L,R=Ev((C=d).objectStoreNames),{schema:{name:C.name,tables:R.map(function(Y){return D.objectStore(Y)}).map(function(Y){var F=Y.keyPath,H=Y.autoIncrement,U=s(F),V={},H={name:Y.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:F==null,compound:U,keyPath:F,autoIncrement:H,unique:!0,extractKey:Tu(F)},indexes:Ev(Y.indexNames).map(function(J){return Y.index(J)}).map(function(ne){var ee=ne.name,te=ne.unique,de=ne.multiEntry,ne=ne.keyPath,de={name:ee,compound:s(ne),keyPath:ne,unique:te,multiEntry:de,extractKey:Tu(ne)};return V[Yi(ne)]=de}),getIndexByKeyPath:function(J){return V[Yi(J)]}};return V[":id"]=H.primaryKey,F!=null&&(V[Yi(F)]=H.primaryKey),H})},hasGetAll:0<R.length&&"getAll"in D.objectStore(R[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),L=G.schema,W=G.hasGetAll,G=L.tables.map(_),$={};return G.forEach(function(Y){return $[Y.name]=Y}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(Y){if(!$[Y])throw new Error("Table '".concat(Y,"' not found"));return $[Y]},MIN_KEY:-1/0,MAX_KEY:Vi(m),schema:L}}function cE(d,m,x,S){var _=x.IDBKeyRange;return x.indexedDB,{dbcore:(S=lE(m,_,S),d.dbcore.reduce(function(C,D){return D=D.create,n(n({},C),D(C))},S))}}function Bs(d,S){var x=S.db,S=cE(d._middlewares,x,d._deps,S);d.core=S.dbcore,d.tables.forEach(function(_){var C=_.name;d.core.schema.tables.some(function(D){return D.name===C})&&(_.core=d.core.table(C),d[C]instanceof d.Table&&(d[C].core=_.core))})}function Ls(d,m,x,S){x.forEach(function(_){var C=S[_];m.forEach(function(D){var R=function L(W,G){return y(W,G)||(W=c(W))&&L(W,G)}(D,_);(!R||"value"in R&&R.value===void 0)&&(D===d.Transaction.prototype||D instanceof d.Transaction?b(D,_,{get:function(){return this.table(_)},set:function(L){g(this,_,{value:L,writable:!0,configurable:!0,enumerable:!0})}}):D[_]=new d.Table(_,C))})})}function Mu(d,m){m.forEach(function(x){for(var S in x)x[S]instanceof d.Table&&delete x[S]})}function uE(d,m){return d._cfg.version-m._cfg.version}function fE(d,m,x,S){var _=d._dbSchema;x.objectStoreNames.contains("$meta")&&!_.$meta&&(_.$meta=Cu("$meta",Cv("")[0],[]),d._storeNames.push("$meta"));var C=d._createTransaction("readwrite",d._storeNames,_);C.create(x),C._completion.catch(S);var D=C._reject.bind(C),R=Oe.transless||Oe;mn(function(){return Oe.trans=C,Oe.transless=R,m!==0?(Bs(d,x),W=m,((L=C).storeNames.includes("$meta")?L.table("$meta").get("version").then(function(G){return G??W}):we.resolve(W)).then(function(G){return Y=G,F=C,U=x,V=[],G=($=d)._versions,H=$._dbSchema=Fs(0,$.idbdb,U),(G=G.filter(function(J){return J._cfg.version>=Y})).length!==0?(G.forEach(function(J){V.push(function(){var ee=H,te=J._cfg.dbschema;Ws($,ee,U),Ws($,te,U),H=$._dbSchema=te;var ne=Du(ee,te);ne.add.forEach(function(xe){Iu(U,xe[0],xe[1].primKey,xe[1].indexes)}),ne.change.forEach(function(xe){if(xe.recreate)throw new ie.Upgrade("Not yet support for changing primary key");var be=U.objectStore(xe.name);xe.add.forEach(function(Se){return qs(be,Se)}),xe.change.forEach(function(Se){be.deleteIndex(Se.name),qs(be,Se)}),xe.del.forEach(function(Se){return be.deleteIndex(Se)})});var de=J._cfg.contentUpgrade;if(de&&J._cfg.version>Y){Bs($,U),F._memoizedTables={};var ye=T(te);ne.del.forEach(function(xe){ye[xe]=ee[xe]}),Mu($,[$.Transaction.prototype]),Ls($,[$.Transaction.prototype],o(ye),ye),F.schema=ye;var he,me=fe(de);return me&&Pa(),ne=we.follow(function(){var xe;(he=de(F))&&me&&(xe=yn.bind(null,null),he.then(xe,xe))}),he&&typeof he.then=="function"?we.resolve(he):ne.then(function(){return he})}}),V.push(function(ee){var te,ne,de=J._cfg.dbschema;te=de,ne=ee,[].slice.call(ne.db.objectStoreNames).forEach(function(ye){return te[ye]==null&&ne.db.deleteObjectStore(ye)}),Mu($,[$.Transaction.prototype]),Ls($,[$.Transaction.prototype],$._storeNames,$._dbSchema),F.schema=$._dbSchema}),V.push(function(ee){$.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil($.idbdb.version/10)===J._cfg.version?($.idbdb.deleteObjectStore("$meta"),delete $._dbSchema.$meta,$._storeNames=$._storeNames.filter(function(te){return te!=="$meta"})):ee.objectStore("$meta").put(J._cfg.version,"version"))})}),function J(){return V.length?we.resolve(V.shift()(F.idbtrans)).then(J):we.resolve()}().then(function(){Nv(H,U)})):we.resolve();var $,Y,F,U,V,H}).catch(D)):(o(_).forEach(function(G){Iu(x,G,_[G].primKey,_[G].indexes)}),Bs(d,x),void we.follow(function(){return d.on.populate.fire(C)}).catch(D));var L,W})}function dE(d,m){Nv(d._dbSchema,m),m.db.version%10!=0||m.objectStoreNames.contains("$meta")||m.db.createObjectStore("$meta").add(Math.ceil(m.db.version/10-1),"version");var x=Fs(0,d.idbdb,m);Ws(d,d._dbSchema,m);for(var S=0,_=Du(x,d._dbSchema).change;S<_.length;S++){var C=function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var R=m.objectStore(D.name);D.add.forEach(function(L){Ot&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(L.src)),qs(R,L)})}(_[S]);if(typeof C=="object")return C.value}}function Du(d,m){var x,S={del:[],add:[],change:[]};for(x in d)m[x]||S.del.push(x);for(x in m){var _=d[x],C=m[x];if(_){var D={name:x,def:C,recreate:!1,del:[],add:[],change:[]};if(""+(_.primKey.keyPath||"")!=""+(C.primKey.keyPath||"")||_.primKey.auto!==C.primKey.auto)D.recreate=!0,S.change.push(D);else{var R=_.idxByName,L=C.idxByName,W=void 0;for(W in R)L[W]||D.del.push(W);for(W in L){var G=R[W],$=L[W];G?G.src!==$.src&&D.change.push($):D.add.push($)}(0<D.del.length||0<D.add.length||0<D.change.length)&&S.change.push(D)}}else S.add.push([x,C])}return S}function Iu(d,m,x,S){var _=d.db.createObjectStore(m,x.keyPath?{keyPath:x.keyPath,autoIncrement:x.auto}:{autoIncrement:x.auto});return S.forEach(function(C){return qs(_,C)}),_}function Nv(d,m){o(d).forEach(function(x){m.db.objectStoreNames.contains(x)||(Ot&&console.debug("Dexie: Creating missing table",x),Iu(m,x,d[x].primKey,d[x].indexes))})}function qs(d,m){d.createIndex(m.name,m.keyPath,{unique:m.unique,multiEntry:m.multi})}function Fs(d,m,x){var S={};return k(m.objectStoreNames,0).forEach(function(_){for(var C=x.objectStore(_),D=Nu(Pv(W=C.keyPath),W||"",!0,!1,!!C.autoIncrement,W&&typeof W!="string",!0),R=[],L=0;L<C.indexNames.length;++L){var G=C.index(C.indexNames[L]),W=G.keyPath,G=Nu(G.name,W,!!G.unique,!!G.multiEntry,!1,W&&typeof W!="string",!1);R.push(G)}S[_]=Cu(_,D,R)}),S}function Ws(d,m,x){for(var S=x.db.objectStoreNames,_=0;_<S.length;++_){var C=S[_],D=x.objectStore(C);d._hasGetAll="getAll"in D;for(var R=0;R<D.indexNames.length;++R){var L=D.indexNames[R],W=D.index(L).keyPath,G=typeof W=="string"?W:"["+k(W).join("+")+"]";!m[C]||(W=m[C].idxByName[G])&&(W.name=L,delete m[C].idxByName[G],m[C].idxByName[L]=W)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function Cv(d){return d.split(",").map(function(m,x){var C=m.split(":"),S=(_=C[1])===null||_===void 0?void 0:_.trim(),_=(m=C[0].trim()).replace(/([&*]|\+\+)/g,""),C=/^\[/.test(_)?_.match(/^\[(.*)\]$/)[1].split("+"):_;return Nu(_,C||null,/\&/.test(m),/\*/.test(m),/\+\+/.test(m),s(C),x===0,S)})}var hE=(Ta.prototype._createTableSchema=Cu,Ta.prototype._parseIndexSyntax=Cv,Ta.prototype._parseStoresSpec=function(d,m){var x=this;o(d).forEach(function(S){if(d[S]!==null){var _=x._parseIndexSyntax(d[S]),C=_.shift();if(!C)throw new ie.Schema("Invalid schema for table "+S+": "+d[S]);if(C.unique=!0,C.multi)throw new ie.Schema("Primary key cannot be multiEntry*");_.forEach(function(D){if(D.auto)throw new ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new ie.Schema("Index must have a name and cannot be an empty string")}),_=x._createTableSchema(S,C,_),m[S]=_}})},Ta.prototype.stores=function(x){var m=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,x):x;var x=m._versions,S={},_={};return x.forEach(function(C){l(S,C._cfg.storesSource),_=C._cfg.dbschema={},C._parseStoresSpec(S,_)}),m._dbSchema=_,Mu(m,[m._allTables,m,m.Transaction.prototype]),Ls(m,[m._allTables,m,m.Transaction.prototype,this._cfg.tables],o(_),_),m._storeNames=o(_),this},Ta.prototype.upgrade=function(d){return this._cfg.contentUpgrade=dn(this._cfg.contentUpgrade||oe,d),this},Ta);function Ta(){}function Ru(d,m){var x=d._dbNamesDB;return x||(x=d._dbNamesDB=new Wr(Ts,{addons:[],indexedDB:d,IDBKeyRange:m})).version(1).stores({dbnames:"name"}),x.table("dbnames")}function $u(d){return d&&typeof d.databases=="function"}function Bu(d){return mn(function(){return Oe.letThrough=!0,d()})}function Lu(d){return!("from"in d)}var Rt=function(d,m){if(!this){var x=new Rt;return d&&"d"in d&&l(x,d),x}l(this,arguments.length?{d:1,from:d,to:1<arguments.length?m:d}:{d:0})};function Xi(d,m,x){var S=Fe(m,x);if(!isNaN(S)){if(0<S)throw RangeError();if(Lu(d))return l(d,{from:m,to:x,d:1});var _=d.l,S=d.r;if(Fe(x,d.from)<0)return _?Xi(_,m,x):d.l={from:m,to:x,d:1,l:null,r:null},Mv(d);if(0<Fe(m,d.to))return S?Xi(S,m,x):d.r={from:m,to:x,d:1,l:null,r:null},Mv(d);Fe(m,d.from)<0&&(d.from=m,d.l=null,d.d=S?S.d+1:1),0<Fe(x,d.to)&&(d.to=x,d.r=null,d.d=d.l?d.l.d+1:1),x=!d.r,_&&!d.l&&Ji(d,_),S&&x&&Ji(d,S)}}function Ji(d,m){Lu(m)||function x(S,L){var C=L.from,D=L.to,R=L.l,L=L.r;Xi(S,C,D),R&&x(S,R),L&&x(S,L)}(d,m)}function Tv(d,m){var x=zs(m),S=x.next();if(S.done)return!1;for(var _=S.value,C=zs(d),D=C.next(_.from),R=D.value;!S.done&&!D.done;){if(Fe(R.from,_.to)<=0&&0<=Fe(R.to,_.from))return!0;Fe(_.from,R.from)<0?_=(S=x.next(R.from)).value:R=(D=C.next(_.from)).value}return!1}function zs(d){var m=Lu(d)?null:{s:0,n:d};return{next:function(x){for(var S=0<arguments.length;m;)switch(m.s){case 0:if(m.s=1,S)for(;m.n.l&&Fe(x,m.n.from)<0;)m={up:m,n:m.n.l,s:1};else for(;m.n.l;)m={up:m,n:m.n.l,s:1};case 1:if(m.s=2,!S||Fe(x,m.n.to)<=0)return{value:m.n,done:!1};case 2:if(m.n.r){m.s=3,m={up:m,n:m.n.r,s:0};continue}case 3:m=m.up}return{done:!0}}}}function Mv(d){var m,x,S=(((m=d.r)===null||m===void 0?void 0:m.d)||0)-(((x=d.l)===null||x===void 0?void 0:x.d)||0),_=1<S?"r":S<-1?"l":"";_&&(m=_=="r"?"l":"r",x=n({},d),S=d[_],d.from=S.from,d.to=S.to,d[_]=S[_],x[_]=S[m],(d[m]=x).d=Dv(x)),d.d=Dv(d)}function Dv(x){var m=x.r,x=x.l;return(m?x?Math.max(m.d,x.d):m.d:x?x.d:0)+1}function Us(d,m){return o(m).forEach(function(x){d[x]?Ji(d[x],m[x]):d[x]=function S(_){var C,D,R={};for(C in _)f(_,C)&&(D=_[C],R[C]=!D||typeof D!="object"||I.has(D.constructor)?D:S(D));return R}(m[x])}),d}function qu(d,m){return d.all||m.all||Object.keys(d).some(function(x){return m[x]&&Tv(m[x],d[x])})}p(Rt.prototype,((ar={add:function(d){return Ji(this,d),this},addKey:function(d){return Xi(this,d,d),this},addKeys:function(d){var m=this;return d.forEach(function(x){return Xi(m,x,x)}),this},hasKey:function(d){var m=zs(this).next(d).value;return m&&Fe(m.from,d)<=0&&0<=Fe(m.to,d)}})[Z]=function(){return zs(this)},ar));var Yn={},Fu={},Wu=!1;function Ks(d){Us(Fu,d),Wu||(Wu=!0,setTimeout(function(){Wu=!1,zu(Fu,!(Fu={}))},0))}function zu(d,m){m===void 0&&(m=!1);var x=new Set;if(d.all)for(var S=0,_=Object.values(Yn);S<_.length;S++)Iv(D=_[S],d,x,m);else for(var C in d){var D,R=/^idb\:\/\/(.*)\/(.*)\//.exec(C);R&&(C=R[1],R=R[2],(D=Yn["idb://".concat(C,"/").concat(R)])&&Iv(D,d,x,m))}x.forEach(function(L){return L()})}function Iv(d,m,x,S){for(var _=[],C=0,D=Object.entries(d.queries.query);C<D.length;C++){for(var R=D[C],L=R[0],W=[],G=0,$=R[1];G<$.length;G++){var Y=$[G];qu(m,Y.obsSet)?Y.subscribers.forEach(function(H){return x.add(H)}):S&&W.push(Y)}S&&_.push([L,W])}if(S)for(var F=0,U=_;F<U.length;F++){var V=U[F],L=V[0],W=V[1];d.queries.query[L]=W}}function pE(d){var m=d._state,x=d._deps.indexedDB;if(m.isBeingOpened||d.idbdb)return m.dbReadyPromise.then(function(){return m.dbOpenError?mt(m.dbOpenError):d});m.isBeingOpened=!0,m.dbOpenError=null,m.openComplete=!1;var S=m.openCanceller,_=Math.round(10*d.verno),C=!1;function D(){if(m.openCanceller!==S)throw new ie.DatabaseClosed("db.open() was cancelled")}function R(){return new we(function(Y,F){if(D(),!x)throw new ie.MissingAPI;var U=d.name,V=m.autoSchema||!_?x.open(U):x.open(U,_);if(!V)throw new ie.MissingAPI;V.onerror=Pr(F),V.onblocked=st(d._fireOnBlocked),V.onupgradeneeded=st(function(H){var J;G=V.transaction,m.autoSchema&&!d._options.allowEmptyDB?(V.onerror=Gi,G.abort(),V.result.close(),(J=x.deleteDatabase(U)).onsuccess=J.onerror=st(function(){F(new ie.NoSuchDatabase("Database ".concat(U," doesnt exist")))})):(G.onerror=Pr(F),H=H.oldVersion>Math.pow(2,62)?0:H.oldVersion,$=H<1,d.idbdb=V.result,C&&dE(d,G),fE(d,H/10,G,F))},F),V.onsuccess=st(function(){G=null;var H,J,ee,te,ne,de=d.idbdb=V.result,ye=k(de.objectStoreNames);if(0<ye.length)try{var he=de.transaction((te=ye).length===1?te[0]:te,"readonly");if(m.autoSchema)J=de,ee=he,(H=d).verno=J.version/10,ee=H._dbSchema=Fs(0,J,ee),H._storeNames=k(J.objectStoreNames,0),Ls(H,[H._allTables],o(ee),ee);else if(Ws(d,d._dbSchema,he),((ne=Du(Fs(0,(ne=d).idbdb,he),ne._dbSchema)).add.length||ne.change.some(function(me){return me.add.length||me.change.length}))&&!C)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),de.close(),_=de.version+1,C=!0,Y(R());Bs(d,he)}catch{}Ea.push(d),de.onversionchange=st(function(me){m.vcFired=!0,d.on("versionchange").fire(me)}),de.onclose=st(function(me){d.on("close").fire(me)}),$&&(ne=d._deps,he=U,de=ne.indexedDB,ne=ne.IDBKeyRange,$u(de)||he===Ts||Ru(de,ne).put({name:he}).catch(oe)),Y()},F)}).catch(function(Y){switch(Y?.name){case"UnknownError":if(0<m.PR1398_maxLoop)return m.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),R();break;case"VersionError":if(0<_)return _=0,R()}return we.reject(Y)})}var L,W=m.dbReadyResolve,G=null,$=!1;return we.race([S,(typeof navigator>"u"?we.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Y){function F(){return indexedDB.databases().finally(Y)}L=setInterval(F,100),F()}).finally(function(){return clearInterval(L)}):Promise.resolve()).then(R)]).then(function(){return D(),m.onReadyBeingFired=[],we.resolve(Bu(function(){return d.on.ready.fire(d.vip)})).then(function Y(){if(0<m.onReadyBeingFired.length){var F=m.onReadyBeingFired.reduce(dn,oe);return m.onReadyBeingFired=[],we.resolve(Bu(function(){return F(d.vip)})).then(Y)}})}).finally(function(){m.openCanceller===S&&(m.onReadyBeingFired=null,m.isBeingOpened=!1)}).catch(function(Y){m.dbOpenError=Y;try{G&&G.abort()}catch{}return S===m.openCanceller&&d._close(),mt(Y)}).finally(function(){m.openComplete=!0,W()}).then(function(){var Y;return $&&(Y={},d.tables.forEach(function(F){F.schema.indexes.forEach(function(U){U.name&&(Y["idb://".concat(d.name,"/").concat(F.name,"/").concat(U.name)]=new Rt(-1/0,[[[]]]))}),Y["idb://".concat(d.name,"/").concat(F.name,"/")]=Y["idb://".concat(d.name,"/").concat(F.name,"/:dels")]=new Rt(-1/0,[[[]]])}),bn(Hi).fire(Y),zu(Y,!0)),d})}function Uu(d){function m(C){return d.next(C)}var x=_(m),S=_(function(C){return d.throw(C)});function _(C){return function(L){var R=C(L),L=R.value;return R.done?L:L&&typeof L.then=="function"?L.then(x,S):s(L)?Promise.all(L).then(x,S):x(L)}}return _(m)()}function Gs(d,m,x){for(var S=s(d)?d.slice():[d],_=0;_<x;++_)S.push(m);return S}var mE={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return n(n({},d),{table:function(m){var x=d.table(m),S=x.schema,_={},C=[];function D($,Y,F){var U=Yi($),V=_[U]=_[U]||[],H=$==null?0:typeof $=="string"?1:$.length,J=0<Y,J=n(n({},F),{name:J?"".concat(U,"(virtual-from:").concat(F.name,")"):F.name,lowLevelIndex:F,isVirtual:J,keyTail:Y,keyLength:H,extractKey:Tu($),unique:!J&&F.unique});return V.push(J),J.isPrimaryKey||C.push(J),1<H&&D(H===2?$[0]:$.slice(0,H-1),Y+1,F),V.sort(function(ee,te){return ee.keyTail-te.keyTail}),J}m=D(S.primaryKey.keyPath,0,S.primaryKey),_[":id"]=[m];for(var R=0,L=S.indexes;R<L.length;R++){var W=L[R];D(W.keyPath,0,W)}function G($){var Y,F=$.query.index;return F.isVirtual?n(n({},$),{query:{index:F.lowLevelIndex,range:(Y=$.query.range,F=F.keyTail,{type:Y.type===1?2:Y.type,lower:Gs(Y.lower,Y.lowerOpen?d.MAX_KEY:d.MIN_KEY,F),lowerOpen:!0,upper:Gs(Y.upper,Y.upperOpen?d.MIN_KEY:d.MAX_KEY,F),upperOpen:!0})}}):$}return n(n({},x),{schema:n(n({},S),{primaryKey:m,indexes:C,getIndexByKeyPath:function($){return($=_[Yi($)])&&$[0]}}),count:function($){return x.count(G($))},query:function($){return x.query(G($))},openCursor:function($){var Y=$.query.index,F=Y.keyTail,U=Y.isVirtual,V=Y.keyLength;return U?x.openCursor(G($)).then(function(J){return J&&H(J)}):x.openCursor($);function H(J){return Object.create(J,{continue:{value:function(ee){ee!=null?J.continue(Gs(ee,$.reverse?d.MAX_KEY:d.MIN_KEY,F)):$.unique?J.continue(J.key.slice(0,V).concat($.reverse?d.MIN_KEY:d.MAX_KEY,F)):J.continue()}},continuePrimaryKey:{value:function(ee,te){J.continuePrimaryKey(Gs(ee,d.MAX_KEY,F),te)}},primaryKey:{get:function(){return J.primaryKey}},key:{get:function(){var ee=J.key;return V===1?ee[0]:ee.slice(0,V)}},value:{get:function(){return J.value}}})}}})}})}};function Ku(d,m,x,S){return x=x||{},S=S||"",o(d).forEach(function(_){var C,D,R;f(m,_)?(C=d[_],D=m[_],typeof C=="object"&&typeof D=="object"&&C&&D?(R=X(C))!==X(D)?x[S+_]=m[_]:R==="Object"?Ku(C,D,x,S+_+"."):C!==D&&(x[S+_]=m[_]):C!==D&&(x[S+_]=m[_])):x[S+_]=void 0}),o(m).forEach(function(_){f(d,_)||(x[S+_]=m[_])}),x}function Gu(d,m){return m.type==="delete"?m.keys:m.keys||m.values.map(d.extractKey)}var yE={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return n(n({},d),{table:function(m){var x=d.table(m),S=x.schema.primaryKey;return n(n({},x),{mutate:function(_){var C=Oe.trans,D=C.table(m).hook,R=D.deleting,L=D.creating,W=D.updating;switch(_.type){case"add":if(L.fire===oe)break;return C._promise("readwrite",function(){return G(_)},!0);case"put":if(L.fire===oe&&W.fire===oe)break;return C._promise("readwrite",function(){return G(_)},!0);case"delete":if(R.fire===oe)break;return C._promise("readwrite",function(){return G(_)},!0);case"deleteRange":if(R.fire===oe)break;return C._promise("readwrite",function(){return function $(Y,F,U){return x.query({trans:Y,values:!1,query:{index:S,range:F},limit:U}).then(function(V){var H=V.result;return G({type:"delete",keys:H,trans:Y}).then(function(J){return 0<J.numFailures?Promise.reject(J.failures[0]):H.length<U?{failures:[],numFailures:0,lastResult:void 0}:$(Y,n(n({},F),{lower:H[H.length-1],lowerOpen:!0}),U)})})}(_.trans,_.range,1e4)},!0)}return x.mutate(_);function G($){var Y,F,U,V=Oe.trans,H=$.keys||Gu(S,$);if(!H)throw new Error("Keys missing");return($=$.type==="add"||$.type==="put"?n(n({},$),{keys:H}):n({},$)).type!=="delete"&&($.values=a([],$.values)),$.keys&&($.keys=a([],$.keys)),Y=x,U=H,((F=$).type==="add"?Promise.resolve([]):Y.getMany({trans:F.trans,keys:U,cache:"immutable"})).then(function(J){var ee=H.map(function(te,ne){var de,ye,he,me=J[ne],xe={onerror:null,onsuccess:null};return $.type==="delete"?R.fire.call(xe,te,me,V):$.type==="add"||me===void 0?(de=L.fire.call(xe,te,$.values[ne],V),te==null&&de!=null&&($.keys[ne]=te=de,S.outbound||P($.values[ne],S.keyPath,te))):(de=Ku(me,$.values[ne]),(ye=W.fire.call(xe,de,te,me,V))&&(he=$.values[ne],Object.keys(ye).forEach(function(be){f(he,be)?he[be]=ye[be]:P(he,be,ye[be])}))),xe});return x.mutate($).then(function(te){for(var ne=te.failures,de=te.results,ye=te.numFailures,te=te.lastResult,he=0;he<H.length;++he){var me=(de||H)[he],xe=ee[he];me==null?xe.onerror&&xe.onerror(ne[he]):xe.onsuccess&&xe.onsuccess($.type==="put"&&J[he]?$.values[he]:me)}return{failures:ne,results:de,numFailures:ye,lastResult:te}}).catch(function(te){return ee.forEach(function(ne){return ne.onerror&&ne.onerror(te)}),Promise.reject(te)})})}}})}})}};function Rv(d,m,x){try{if(!m||m.keys.length<d.length)return null;for(var S=[],_=0,C=0;_<m.keys.length&&C<d.length;++_)Fe(m.keys[_],d[C])===0&&(S.push(x?z(m.values[_]):m.values[_]),++C);return S.length===d.length?S:null}catch{return null}}var gE={stack:"dbcore",level:-1,create:function(d){return{table:function(m){var x=d.table(m);return n(n({},x),{getMany:function(S){if(!S.cache)return x.getMany(S);var _=Rv(S.keys,S.trans._cache,S.cache==="clone");return _?we.resolve(_):x.getMany(S).then(function(C){return S.trans._cache={keys:S.keys,values:S.cache==="clone"?z(C):C},C})},mutate:function(S){return S.type!=="add"&&(S.trans._cache=null),x.mutate(S)}})}}}};function $v(d,m){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!m.schema.primaryKey.outbound}function Bv(d,m){switch(d){case"query":return m.values&&!m.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var vE={stack:"dbcore",level:0,name:"Observability",create:function(d){var m=d.schema.name,x=new Rt(d.MIN_KEY,d.MAX_KEY);return n(n({},d),{transaction:function(S,_,C){if(Oe.subscr&&_!=="readonly")throw new ie.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Oe.querier));return d.transaction(S,_,C)},table:function(S){var _=d.table(S),C=_.schema,D=C.primaryKey,$=C.indexes,R=D.extractKey,L=D.outbound,W=D.autoIncrement&&$.filter(function(F){return F.compound&&F.keyPath.includes(D.keyPath)}),G=n(n({},_),{mutate:function(F){function U(be){return be="idb://".concat(m,"/").concat(S,"/").concat(be),te[be]||(te[be]=new Rt)}var V,H,J,ee=F.trans,te=F.mutatedParts||(F.mutatedParts={}),ne=U(""),de=U(":dels"),ye=F.type,xe=F.type==="deleteRange"?[F.range]:F.type==="delete"?[F.keys]:F.values.length<50?[Gu(D,F).filter(function(be){return be}),F.values]:[],he=xe[0],me=xe[1],xe=F.trans._cache;return s(he)?(ne.addKeys(he),(xe=ye==="delete"||he.length===me.length?Rv(he,xe):null)||de.addKeys(he),(xe||me)&&(V=U,H=xe,J=me,C.indexes.forEach(function(be){var Se=V(be.name||"");function Me(Te){return Te!=null?be.extractKey(Te):null}function ze(Te){return be.multiEntry&&s(Te)?Te.forEach(function(ft){return Se.addKey(ft)}):Se.addKey(Te)}(H||J).forEach(function(Te,$t){var Ee=H&&Me(H[$t]),$t=J&&Me(J[$t]);Fe(Ee,$t)!==0&&(Ee!=null&&ze(Ee),$t!=null&&ze($t))})}))):he?(me={from:(me=he.lower)!==null&&me!==void 0?me:d.MIN_KEY,to:(me=he.upper)!==null&&me!==void 0?me:d.MAX_KEY},de.add(me),ne.add(me)):(ne.add(x),de.add(x),C.indexes.forEach(function(be){return U(be.name).add(x)})),_.mutate(F).then(function(be){return!he||F.type!=="add"&&F.type!=="put"||(ne.addKeys(be.results),W&&W.forEach(function(Se){for(var Me=F.values.map(function(Ee){return Se.extractKey(Ee)}),ze=Se.keyPath.findIndex(function(Ee){return Ee===D.keyPath}),Te=0,ft=be.results.length;Te<ft;++Te)Me[Te][ze]=be.results[Te];U(Se.name).addKeys(Me)})),ee.mutatedParts=Us(ee.mutatedParts||{},te),be})}}),$=function(U){var V=U.query,U=V.index,V=V.range;return[U,new Rt((U=V.lower)!==null&&U!==void 0?U:d.MIN_KEY,(V=V.upper)!==null&&V!==void 0?V:d.MAX_KEY)]},Y={get:function(F){return[D,new Rt(F.key)]},getMany:function(F){return[D,new Rt().addKeys(F.keys)]},count:$,query:$,openCursor:$};return o(Y).forEach(function(F){G[F]=function(U){var V=Oe.subscr,H=!!V,J=$v(Oe,_)&&Bv(F,U)?U.obsSet={}:V;if(H){var ee=function(me){return me="idb://".concat(m,"/").concat(S,"/").concat(me),J[me]||(J[me]=new Rt)},te=ee(""),ne=ee(":dels"),V=Y[F](U),H=V[0],V=V[1];if((F==="query"&&H.isPrimaryKey&&!U.values?ne:ee(H.name||"")).add(V),!H.isPrimaryKey){if(F!=="count"){var de=F==="query"&&L&&U.values&&_.query(n(n({},U),{values:!1}));return _[F].apply(this,arguments).then(function(me){if(F==="query"){if(L&&U.values)return de.then(function(Me){return Me=Me.result,te.addKeys(Me),me});var xe=U.values?me.result.map(R):me.result;(U.values?te:ne).addKeys(xe)}else if(F==="openCursor"){var be=me,Se=U.values;return be&&Object.create(be,{key:{get:function(){return ne.addKey(be.primaryKey),be.key}},primaryKey:{get:function(){var Me=be.primaryKey;return ne.addKey(Me),Me}},value:{get:function(){return Se&&te.addKey(be.primaryKey),be.value}}})}return me})}ne.add(x)}}return _[F].apply(this,arguments)}}),G}})}};function Lv(d,m,x){if(x.numFailures===0)return m;if(m.type==="deleteRange")return null;var S=m.keys?m.keys.length:"values"in m&&m.values?m.values.length:1;return x.numFailures===S?null:(m=n({},m),s(m.keys)&&(m.keys=m.keys.filter(function(_,C){return!(C in x.failures)})),"values"in m&&s(m.values)&&(m.values=m.values.filter(function(_,C){return!(C in x.failures)})),m)}function Hu(d,m){return x=d,((S=m).lower===void 0||(S.lowerOpen?0<Fe(x,S.lower):0<=Fe(x,S.lower)))&&(d=d,(m=m).upper===void 0||(m.upperOpen?Fe(d,m.upper)<0:Fe(d,m.upper)<=0));var x,S}function qv(d,m,Y,S,_,C){if(!Y||Y.length===0)return d;var D=m.query.index,R=D.multiEntry,L=m.query.range,W=S.schema.primaryKey.extractKey,G=D.extractKey,$=(D.lowLevelIndex||D).extractKey,Y=Y.reduce(function(F,U){var V=F,H=[];if(U.type==="add"||U.type==="put")for(var J=new Rt,ee=U.values.length-1;0<=ee;--ee){var te,ne=U.values[ee],de=W(ne);J.hasKey(de)||(te=G(ne),(R&&s(te)?te.some(function(be){return Hu(be,L)}):Hu(te,L))&&(J.addKey(de),H.push(ne)))}switch(U.type){case"add":var ye=new Rt().addKeys(m.values?F.map(function(Se){return W(Se)}):F),V=F.concat(m.values?H.filter(function(Se){return Se=W(Se),!ye.hasKey(Se)&&(ye.addKey(Se),!0)}):H.map(function(Se){return W(Se)}).filter(function(Se){return!ye.hasKey(Se)&&(ye.addKey(Se),!0)}));break;case"put":var he=new Rt().addKeys(U.values.map(function(Se){return W(Se)}));V=F.filter(function(Se){return!he.hasKey(m.values?W(Se):Se)}).concat(m.values?H:H.map(function(Se){return W(Se)}));break;case"delete":var me=new Rt().addKeys(U.keys);V=F.filter(function(Se){return!me.hasKey(m.values?W(Se):Se)});break;case"deleteRange":var xe=U.range;V=F.filter(function(Se){return!Hu(W(Se),xe)})}return V},d);return Y===d?d:(Y.sort(function(F,U){return Fe($(F),$(U))||Fe(W(F),W(U))}),m.limit&&m.limit<1/0&&(Y.length>m.limit?Y.length=m.limit:d.length===m.limit&&Y.length<m.limit&&(_.dirty=!0)),C?Object.freeze(Y):Y)}function Fv(d,m){return Fe(d.lower,m.lower)===0&&Fe(d.upper,m.upper)===0&&!!d.lowerOpen==!!m.lowerOpen&&!!d.upperOpen==!!m.upperOpen}function bE(d,m){return function(x,S,_,C){if(x===void 0)return S!==void 0?-1:0;if(S===void 0)return 1;if((S=Fe(x,S))===0){if(_&&C)return 0;if(_)return 1;if(C)return-1}return S}(d.lower,m.lower,d.lowerOpen,m.lowerOpen)<=0&&0<=function(x,S,_,C){if(x===void 0)return S!==void 0?1:0;if(S===void 0)return-1;if((S=Fe(x,S))===0){if(_&&C)return 0;if(_)return-1;if(C)return 1}return S}(d.upper,m.upper,d.upperOpen,m.upperOpen)}function xE(d,m,x,S){d.subscribers.add(x),S.addEventListener("abort",function(){var _,C;d.subscribers.delete(x),d.subscribers.size===0&&(_=d,C=m,setTimeout(function(){_.subscribers.size===0&&ue(C,_)},3e3))})}var wE={stack:"dbcore",level:0,name:"Cache",create:function(d){var m=d.schema.name;return n(n({},d),{transaction:function(x,S,_){var C,D,R=d.transaction(x,S,_);return S==="readwrite"&&(D=(C=new AbortController).signal,_=function(L){return function(){if(C.abort(),S==="readwrite"){for(var W=new Set,G=0,$=x;G<$.length;G++){var Y=$[G],F=Yn["idb://".concat(m,"/").concat(Y)];if(F){var U=d.table(Y),V=F.optimisticOps.filter(function(Se){return Se.trans===R});if(R._explicit&&L&&R.mutatedParts)for(var H=0,J=Object.values(F.queries.query);H<J.length;H++)for(var ee=0,te=(ye=J[H]).slice();ee<te.length;ee++)qu((he=te[ee]).obsSet,R.mutatedParts)&&(ue(ye,he),he.subscribers.forEach(function(Se){return W.add(Se)}));else if(0<V.length){F.optimisticOps=F.optimisticOps.filter(function(Se){return Se.trans!==R});for(var ne=0,de=Object.values(F.queries.query);ne<de.length;ne++)for(var ye,he,me,xe=0,be=(ye=de[ne]).slice();xe<be.length;xe++)(he=be[xe]).res!=null&&R.mutatedParts&&(L&&!he.dirty?(me=Object.isFrozen(he.res),me=qv(he.res,he.req,V,U,he,me),he.dirty?(ue(ye,he),he.subscribers.forEach(function(Se){return W.add(Se)})):me!==he.res&&(he.res=me,he.promise=we.resolve({result:me}))):(he.dirty&&ue(ye,he),he.subscribers.forEach(function(Se){return W.add(Se)})))}}}W.forEach(function(Se){return Se()})}}},R.addEventListener("abort",_(!1),{signal:D}),R.addEventListener("error",_(!1),{signal:D}),R.addEventListener("complete",_(!0),{signal:D})),R},table:function(x){var S=d.table(x),_=S.schema.primaryKey;return n(n({},S),{mutate:function(C){var D=Oe.trans;if(_.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return S.mutate(C);var R=Yn["idb://".concat(m,"/").concat(x)];return R?(D=S.mutate(C),C.type!=="add"&&C.type!=="put"||!(50<=C.values.length||Gu(_,C).some(function(L){return L==null}))?(R.optimisticOps.push(C),C.mutatedParts&&Ks(C.mutatedParts),D.then(function(L){0<L.numFailures&&(ue(R.optimisticOps,C),(L=Lv(0,C,L))&&R.optimisticOps.push(L),C.mutatedParts&&Ks(C.mutatedParts))}),D.catch(function(){ue(R.optimisticOps,C),C.mutatedParts&&Ks(C.mutatedParts)})):D.then(function(L){var W=Lv(0,n(n({},C),{values:C.values.map(function(G,$){var Y;return L.failures[$]?G:(G=(Y=_.keyPath)!==null&&Y!==void 0&&Y.includes(".")?z(G):n({},G),P(G,_.keyPath,L.results[$]),G)})}),L);R.optimisticOps.push(W),queueMicrotask(function(){return C.mutatedParts&&Ks(C.mutatedParts)})}),D):S.mutate(C)},query:function(C){if(!$v(Oe,S)||!Bv("query",C))return S.query(C);var D=((W=Oe.trans)===null||W===void 0?void 0:W.db._options.cache)==="immutable",$=Oe,R=$.requery,L=$.signal,W=function(U,V,H,J){var ee=Yn["idb://".concat(U,"/").concat(V)];if(!ee)return[];if(!(V=ee.queries[H]))return[null,!1,ee,null];var te=V[(J.query?J.query.index.name:null)||""];if(!te)return[null,!1,ee,null];switch(H){case"query":var ne=te.find(function(de){return de.req.limit===J.limit&&de.req.values===J.values&&Fv(de.req.query.range,J.query.range)});return ne?[ne,!0,ee,te]:[te.find(function(de){return("limit"in de.req?de.req.limit:1/0)>=J.limit&&(!J.values||de.req.values)&&bE(de.req.query.range,J.query.range)}),!1,ee,te];case"count":return ne=te.find(function(de){return Fv(de.req.query.range,J.query.range)}),[ne,!!ne,ee,te]}}(m,x,"query",C),G=W[0],$=W[1],Y=W[2],F=W[3];return G&&$?G.obsSet=C.obsSet:($=S.query(C).then(function(U){var V=U.result;if(G&&(G.res=V),D){for(var H=0,J=V.length;H<J;++H)Object.freeze(V[H]);Object.freeze(V)}else U.result=z(V);return U}).catch(function(U){return F&&G&&ue(F,G),Promise.reject(U)}),G={obsSet:C.obsSet,promise:$,subscribers:new Set,type:"query",req:C,dirty:!1},F?F.push(G):(F=[G],(Y=Y||(Yn["idb://".concat(m,"/").concat(x)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[C.query.index.name||""]=F)),xE(G,F,R,L),G.promise.then(function(U){return{result:qv(U.result,C,Y?.optimisticOps,S,G,D)}})}})}})}};function Hs(d,m){return new Proxy(d,{get:function(x,S,_){return S==="db"?m:Reflect.get(x,S,_)}})}var Wr=(yt.prototype.version=function(d){if(isNaN(d)||d<.1)throw new ie.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var m=this._versions,x=m.filter(function(S){return S._cfg.version===d})[0];return x||(x=new this.Version(d),m.push(x),m.sort(uE),x.stores({}),this._state.autoSchema=!1,x)},yt.prototype._whenReady=function(d){var m=this;return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?d():new we(function(x,S){if(m._state.openComplete)return S(new ie.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return void S(new ie.DatabaseClosed);m.open().catch(oe)}m._state.dbReadyPromise.then(x,S)}).then(d)},yt.prototype.use=function(d){var m=d.stack,x=d.create,S=d.level,_=d.name;return _&&this.unuse({stack:m,name:_}),d=this._middlewares[m]||(this._middlewares[m]=[]),d.push({stack:m,create:x,level:S??10,name:_}),d.sort(function(C,D){return C.level-D.level}),this},yt.prototype.unuse=function(d){var m=d.stack,x=d.name,S=d.create;return m&&this._middlewares[m]&&(this._middlewares[m]=this._middlewares[m].filter(function(_){return S?_.create!==S:!!x&&_.name!==x})),this},yt.prototype.open=function(){var d=this;return Gn(pn,function(){return pE(d)})},yt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var d=this._state,m=Ea.indexOf(this);if(0<=m&&Ea.splice(m,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new we(function(x){d.dbReadyResolve=x}),d.openCanceller=new we(function(x,S){d.cancelOpen=S}))},yt.prototype.close=function(x){var m=(x===void 0?{disableAutoOpen:!0}:x).disableAutoOpen,x=this._state;m?(x.isBeingOpened&&x.cancelOpen(new ie.DatabaseClosed),this._close(),x.autoOpen=!1,x.dbOpenError=new ie.DatabaseClosed):(this._close(),x.autoOpen=this._options.autoOpen||x.isBeingOpened,x.openComplete=!1,x.dbOpenError=null)},yt.prototype.delete=function(d){var m=this;d===void 0&&(d={disableAutoOpen:!0});var x=0<arguments.length&&typeof arguments[0]!="object",S=this._state;return new we(function(_,C){function D(){m.close(d);var R=m._deps.indexedDB.deleteDatabase(m.name);R.onsuccess=st(function(){var L,W,G;L=m._deps,W=m.name,G=L.indexedDB,L=L.IDBKeyRange,$u(G)||W===Ts||Ru(G,L).delete(W).catch(oe),_()}),R.onerror=Pr(C),R.onblocked=m._fireOnBlocked}if(x)throw new ie.InvalidArgument("Invalid closeOptions argument to db.delete()");S.isBeingOpened?S.dbReadyPromise.then(D):D()})},yt.prototype.backendDB=function(){return this.idbdb},yt.prototype.isOpen=function(){return this.idbdb!==null},yt.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},yt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},yt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(yt.prototype,"tables",{get:function(){var d=this;return o(this._allTables).map(function(m){return d._allTables[m]})},enumerable:!1,configurable:!0}),yt.prototype.transaction=function(){var d=function(m,x,S){var _=arguments.length;if(_<2)throw new ie.InvalidArgument("Too few arguments");for(var C=new Array(_-1);--_;)C[_-1]=arguments[_];return S=C.pop(),[m,K(C),S]}.apply(this,arguments);return this._transaction.apply(this,d)},yt.prototype._transaction=function(d,m,x){var S=this,_=Oe.trans;_&&_.db===this&&d.indexOf("!")===-1||(_=null);var C,D,R=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(D=m.map(function(W){if(W=W instanceof S.Table?W.name:W,typeof W!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return W}),d=="r"||d===Au)C=Au;else{if(d!="rw"&&d!=Ou)throw new ie.InvalidArgument("Invalid transaction mode: "+d);C=Ou}if(_){if(_.mode===Au&&C===Ou){if(!R)throw new ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");_=null}_&&D.forEach(function(W){if(_&&_.storeNames.indexOf(W)===-1){if(!R)throw new ie.SubTransaction("Table "+W+" not included in parent transaction.");_=null}}),R&&_&&!_.active&&(_=null)}}catch(W){return _?_._promise(null,function(G,$){$(W)}):mt(W)}var L=function W(G,$,Y,F,U){return we.resolve().then(function(){var V=Oe.transless||Oe,H=G._createTransaction($,Y,G._dbSchema,F);if(H.explicit=!0,V={trans:H,transless:V},F)H.idbtrans=F.idbtrans;else try{H.create(),H.idbtrans._explicit=!0,G._state.PR1398_maxLoop=3}catch(te){return te.name===Wt.InvalidState&&G.isOpen()&&0<--G._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),G.close({disableAutoOpen:!1}),G.open().then(function(){return W(G,$,Y,null,U)})):mt(te)}var J,ee=fe(U);return ee&&Pa(),V=we.follow(function(){var te;(J=U.call(H,H))&&(ee?(te=yn.bind(null,null),J.then(te,te)):typeof J.next=="function"&&typeof J.throw=="function"&&(J=Uu(J)))},V),(J&&typeof J.then=="function"?we.resolve(J).then(function(te){return H.active?te:mt(new ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):V.then(function(){return J})).then(function(te){return F&&H._resolve(),H._completion.then(function(){return te})}).catch(function(te){return H._reject(te),mt(te)})})}.bind(null,this,C,D,_,x);return _?_._promise(C,L,"lock"):Oe.trans?Gn(Oe.transless,function(){return S._whenReady(L)}):this._whenReady(L)},yt.prototype.table=function(d){if(!f(this._allTables,d))throw new ie.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},yt);function yt(d,m){var x=this;this._middlewares={},this.verno=0;var S=yt.dependencies;this._options=m=n({addons:yt.addons,autoOpen:!0,indexedDB:S.indexedDB,IDBKeyRange:S.IDBKeyRange,cache:"cloned"},m),this._deps={indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange},S=m.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var _,C,D,R,L,W={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:oe,dbReadyPromise:null,cancelOpen:oe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:m.autoOpen};W.dbReadyPromise=new we(function($){W.dbReadyResolve=$}),W.openCanceller=new we(function($,Y){W.cancelOpen=Y}),this._state=W,this.name=d,this.on=zi(this,"populate","blocked","versionchange","close",{ready:[dn,oe]}),this.once=function($,Y){var F=function(){for(var U=[],V=0;V<arguments.length;V++)U[V]=arguments[V];x.on($).unsubscribe(F),Y.apply(x,U)};return x.on($,F)},this.on.ready.subscribe=A(this.on.ready.subscribe,function($){return function(Y,F){yt.vip(function(){var U,V=x._state;V.openComplete?(V.dbOpenError||we.resolve().then(Y),F&&$(Y)):V.onReadyBeingFired?(V.onReadyBeingFired.push(Y),F&&$(Y)):($(Y),U=x,F||$(function H(){U.on.ready.unsubscribe(Y),U.on.ready.unsubscribe(H)}))})}}),this.Collection=(_=this,Ui(nE.prototype,function(J,H){this.db=_;var F=gv,U=null;if(H)try{F=H()}catch(ee){U=ee}var V=J._ctx,H=V.table,J=H.hook.reading.fire;this._ctx={table:H,index:V.index,isPrimKey:!V.index||H.schema.primKey.keyPath&&V.index===H.schema.primKey.name,range:F,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:U,or:V.or,valueMapper:J!==Ye?J:null}})),this.Table=(C=this,Ui(wv.prototype,function($,Y,F){this.db=C,this._tx=F,this.name=$,this.schema=Y,this.hook=C._allTables[$]?C._allTables[$].hook:zi(null,{creating:[pt,oe],reading:[qe,Ye],updating:[Or,oe],deleting:[It,oe]})})),this.Transaction=(D=this,Ui(oE.prototype,function($,Y,F,U,V){var H=this;$!=="readonly"&&Y.forEach(function(J){J=(J=F[J])===null||J===void 0?void 0:J.yProps,J&&(Y=Y.concat(J.map(function(ee){return ee.updatesTable})))}),this.db=D,this.mode=$,this.storeNames=Y,this.schema=F,this.chromeTransactionDurability=U,this.idbtrans=null,this.on=zi(this,"complete","error","abort"),this.parent=V||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new we(function(J,ee){H._resolve=J,H._reject=ee}),this._completion.then(function(){H.active=!1,H.on.complete.fire()},function(J){var ee=H.active;return H.active=!1,H.on.error.fire(J),H.parent?H.parent._reject(J):ee&&H.idbtrans&&H.idbtrans.abort(),mt(J)})})),this.Version=(R=this,Ui(hE.prototype,function($){this.db=R,this._cfg={version:$,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(L=this,Ui(_v.prototype,function($,Y,F){if(this.db=L,this._ctx={table:$,index:Y===":id"?null:Y,or:F},this._cmp=this._ascending=Fe,this._descending=function(U,V){return Fe(V,U)},this._max=function(U,V){return 0<Fe(U,V)?U:V},this._min=function(U,V){return Fe(U,V)<0?U:V},this._IDBKeyRange=L._deps.IDBKeyRange,!this._IDBKeyRange)throw new ie.MissingAPI})),this.on("versionchange",function($){0<$.newVersion?console.warn("Another connection wants to upgrade database '".concat(x.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(x.name,"'. Closing db now to resume the delete request.")),x.close({disableAutoOpen:!1})}),this.on("blocked",function($){!$.newVersion||$.newVersion<$.oldVersion?console.warn("Dexie.delete('".concat(x.name,"') was blocked")):console.warn("Upgrade '".concat(x.name,"' blocked by other connection holding version ").concat($.oldVersion/10))}),this._maxKey=Vi(m.IDBKeyRange),this._createTransaction=function($,Y,F,U){return new x.Transaction($,Y,F,x._options.chromeTransactionDurability,U)},this._fireOnBlocked=function($){x.on("blocked").fire($),Ea.filter(function(Y){return Y.name===x.name&&Y!==x&&!Y._state.vcFired}).map(function(Y){return Y.on("versionchange").fire($)})},this.use(gE),this.use(wE),this.use(vE),this.use(mE),this.use(yE);var G=new Proxy(this,{get:function($,Y,F){if(Y==="_vip")return!0;if(Y==="table")return function(V){return Hs(x.table(V),G)};var U=Reflect.get($,Y,F);return U instanceof wv?Hs(U,G):Y==="tables"?U.map(function(V){return Hs(V,G)}):Y==="_createTransaction"?function(){return Hs(U.apply(this,arguments),G)}:U}});this.vip=G,S.forEach(function($){return $(x)})}var Vs,ar=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",SE=(Vu.prototype.subscribe=function(d,m,x){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:m,complete:x})},Vu.prototype[ar]=function(){return this},Vu);function Vu(d){this._subscribe=d}try{Vs={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{Vs={indexedDB:null,IDBKeyRange:null}}function Wv(d){var m,x=!1,S=new SE(function(_){var C=fe(d),D,R=!1,L={},W={},G={get closed(){return R},unsubscribe:function(){R||(R=!0,D&&D.abort(),$&&bn.storagemutated.unsubscribe(F))}};_.start&&_.start(G);var $=!1,Y=function(){return ku(U)},F=function(V){Us(L,V),qu(W,L)&&Y()},U=function(){var V,H,J;!R&&Vs.indexedDB&&(L={},V={},D&&D.abort(),D=new AbortController,J=function(ee){var te=Oa();try{C&&Pa();var ne=mn(d,ee);return ne=C?ne.finally(yn):ne}finally{te&&_a()}}(H={subscr:V,signal:D.signal,requery:Y,querier:d,trans:null}),Promise.resolve(J).then(function(ee){x=!0,m=ee,R||H.signal.aborted||(L={},function(te){for(var ne in te)if(f(te,ne))return;return 1}(W=V)||$||(bn(Hi,F),$=!0),ku(function(){return!R&&_.next&&_.next(ee)}))},function(ee){x=!1,["DatabaseClosedError","AbortError"].includes(ee?.name)||R||ku(function(){R||_.error&&_.error(ee)})}))};return setTimeout(Y,0),G});return S.hasValue=function(){return x},S.getValue=function(){return m},S}var Xn=Wr;function Yu(d){var m=xn;try{xn=!0,bn.storagemutated.fire(d),zu(d,!0)}finally{xn=m}}p(Xn,n(n({},Ce),{delete:function(d){return new Xn(d,{addons:[]}).delete()},exists:function(d){return new Xn(d,{addons:[]}).open().then(function(m){return m.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return m=Xn.dependencies,x=m.indexedDB,m=m.IDBKeyRange,($u(x)?Promise.resolve(x.databases()).then(function(S){return S.map(function(_){return _.name}).filter(function(_){return _!==Ts})}):Ru(x,m).toCollection().primaryKeys()).then(d)}catch{return mt(new ie.MissingAPI)}var m,x},defineClass:function(){return function(d){l(this,d)}},ignoreTransaction:function(d){return Oe.trans?Gn(Oe.transless,d):d()},vip:Bu,async:function(d){return function(){try{var m=Uu(d.apply(this,arguments));return m&&typeof m.then=="function"?m:we.resolve(m)}catch(x){return mt(x)}}},spawn:function(d,m,x){try{var S=Uu(d.apply(x,m||[]));return S&&typeof S.then=="function"?S:we.resolve(S)}catch(_){return mt(_)}},currentTransaction:{get:function(){return Oe.trans||null}},waitFor:function(d,m){return m=we.resolve(typeof d=="function"?Xn.ignoreTransaction(d):d).timeout(m||6e4),Oe.trans?Oe.trans.waitFor(m):m},Promise:we,debug:{get:function(){return Ot},set:function(d){_r(d)}},derive:v,extend:l,props:p,override:A,Events:zi,on:bn,liveQuery:Wv,extendObservabilitySet:Us,getByKeyPath:O,setByKeyPath:P,delByKeyPath:function(d,m){typeof m=="string"?P(d,m,void 0):"length"in m&&[].map.call(m,function(x){P(d,x,void 0)})},shallowClone:T,deepClone:z,getObjectDiff:Ku,cmp:Fe,asap:j,minKey:-1/0,addons:[],connections:Ea,errnames:Wt,dependencies:Vs,cache:Yn,semVer:"4.2.0",version:"4.2.0".split(".").map(function(d){return parseInt(d)}).reduce(function(d,m,x){return d+m/Math.pow(10,2*x)})})),Xn.maxKey=Vi(Xn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(bn(Hi,function(d){xn||(d=new CustomEvent(Eu,{detail:d}),xn=!0,dispatchEvent(d),xn=!1)}),addEventListener(Eu,function(d){d=d.detail,xn||Yu(d)}));var Ma,xn=!1,zv=function(){};return typeof BroadcastChannel<"u"&&((zv=function(){(Ma=new BroadcastChannel(Eu)).onmessage=function(d){return d.data&&Yu(d.data)}})(),typeof Ma.unref=="function"&&Ma.unref(),bn(Hi,function(d){xn||Ma.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!Wr.disableBfCache&&d.persisted){Ot&&console.debug("Dexie: handling persisted pagehide"),Ma?.close();for(var m=0,x=Ea;m<x.length;m++)x[m].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!Wr.disableBfCache&&d.persisted&&(Ot&&console.debug("Dexie: handling persisted pageshow"),zv(),Yu({all:new Rt(-1/0,[[]])}))})),we.rejectionMapper=function(d,m){return!d||d instanceof ge||d instanceof TypeError||d instanceof SyntaxError||!d.name||!Ne[d.name]?d:(m=new Ne[d.name](m||d.message,d),"stack"in d&&b(m,"stack",{get:function(){return this.inner.stack}}),m)},_r(Ot),n(Wr,Object.freeze({__proto__:null,Dexie:Wr,liveQuery:Wv,Entity:vv,cmp:Fe,PropModification:Ki,replacePrefix:function(d,m){return new Ki({replacePrefix:[d,m]})},add:function(d){return new Ki({add:d})},remove:function(d){return new Ki({remove:d})},default:Wr,RangeSet:Rt,mergeRanges:Ji,rangesOverlap:Tv}),{default:Wr}),Wr})}(xl)),xl.exports}var cC=lC();const ym=Je(cC),n0=Symbol.for("Dexie"),Nl=globalThis[n0]||(globalThis[n0]=ym);if(ym.semVer!==Nl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ym.semVer} and ${Nl.semVer}`);const{liveQuery:eG,mergeRanges:tG,rangesOverlap:rG,RangeSet:nG,cmp:aG,Entity:iG,PropModification:oG,replacePrefix:sG,add:lG,remove:cG,DexieYProvider:uG}=Nl,uC="modulepreload",fC=function(e){return"/"+e},a0={},dC=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");a=Promise.allSettled(r.map(l=>{if(l=fC(l),l in a0)return;a0[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":uC,c||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),c)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})};var Ae;function Ct(e,t,r){const n=typeof r,a=typeof e;if(n!=="undefined"){if(a!=="undefined"){if(r){if(a==="function"&&n===a)return function(s){return e(r(s))};if(t=e.constructor,t===r.constructor){if(t===Array)return r.concat(e);if(t===Map){var i=new Map(r);for(var o of e)i.set(o[0],o[1]);return i}if(t===Set){o=new Set(r);for(i of e.values())o.add(i);return o}}}return e}return r}return a==="undefined"?t:e}function Da(e,t){return typeof e>"u"?t:e}function vt(){return Object.create(null)}function xr(e){return typeof e=="string"}function Ao(e){return typeof e=="object"}function Oo(e,t){if(xr(t))e=e[t];else for(let r=0;e&&r<t.length;r++)e=e[t[r]];return e}const hC=/[^\p{L}\p{N}]+/u,pC=/(\d{3})/g,mC=/(\D)(\d{3})/g,yC=/(\d{3})(\D)/g,i0=/[\u0300-\u036f]/g;function _o(e={}){if(!this||this.constructor!==_o)return new _o(...arguments);if(arguments.length)for(e=0;e<arguments.length;e++)this.assign(arguments[e]);else this.assign(e)}Ae=_o.prototype;Ae.assign=function(e){this.normalize=Ct(e.normalize,!0,this.normalize);let t=e.include,r=t||e.exclude||e.split,n;if(r||r===""){if(typeof r=="object"&&r.constructor!==RegExp){let a="";n=!t,t||(a+="\\p{Z}"),r.letter&&(a+="\\p{L}"),r.number&&(a+="\\p{N}",n=!!t),r.symbol&&(a+="\\p{S}"),r.punctuation&&(a+="\\p{P}"),r.control&&(a+="\\p{C}"),(r=r.char)&&(a+=typeof r=="object"?r.join(""):r);try{this.split=new RegExp("["+(t?"^":"")+a+"]+","u")}catch{this.split=/\s+/}}else this.split=r,n=r===!1||"a1a".split(r).length<2;this.numeric=Ct(e.numeric,n)}else{try{this.split=Ct(this.split,hC)}catch{this.split=/\s+/}this.numeric=Ct(e.numeric,Ct(this.numeric,!0))}if(this.prepare=Ct(e.prepare,null,this.prepare),this.finalize=Ct(e.finalize,null,this.finalize),r=e.filter,this.filter=typeof r=="function"?r:Ct(r&&new Set(r),null,this.filter),this.dedupe=Ct(e.dedupe,!0,this.dedupe),this.matcher=Ct((r=e.matcher)&&new Map(r),null,this.matcher),this.mapper=Ct((r=e.mapper)&&new Map(r),null,this.mapper),this.stemmer=Ct((r=e.stemmer)&&new Map(r),null,this.stemmer),this.replacer=Ct(e.replacer,null,this.replacer),this.minlength=Ct(e.minlength,1,this.minlength),this.maxlength=Ct(e.maxlength,1024,this.maxlength),this.rtl=Ct(e.rtl,!1,this.rtl),(this.cache=r=Ct(e.cache,!0,this.cache))&&(this.F=null,this.L=typeof r=="number"?r:2e5,this.B=new Map,this.D=new Map,this.I=this.H=128),this.h="",this.J=null,this.A="",this.K=null,this.matcher)for(const a of this.matcher.keys())this.h+=(this.h?"|":"")+a;if(this.stemmer)for(const a of this.stemmer.keys())this.A+=(this.A?"|":"")+a;return this};Ae.addStemmer=function(e,t){return this.stemmer||(this.stemmer=new Map),this.stemmer.set(e,t),this.A+=(this.A?"|":"")+e,this.K=null,this.cache&&ua(this),this};Ae.addFilter=function(e){return typeof e=="function"?this.filter=e:(this.filter||(this.filter=new Set),this.filter.add(e)),this.cache&&ua(this),this};Ae.addMapper=function(e,t){return typeof e=="object"?this.addReplacer(e,t):e.length>1?this.addMatcher(e,t):(this.mapper||(this.mapper=new Map),this.mapper.set(e,t),this.cache&&ua(this),this)};Ae.addMatcher=function(e,t){return typeof e=="object"?this.addReplacer(e,t):e.length<2&&(this.dedupe||this.mapper)?this.addMapper(e,t):(this.matcher||(this.matcher=new Map),this.matcher.set(e,t),this.h+=(this.h?"|":"")+e,this.J=null,this.cache&&ua(this),this)};Ae.addReplacer=function(e,t){return typeof e=="string"?this.addMatcher(e,t):(this.replacer||(this.replacer=[]),this.replacer.push(e,t),this.cache&&ua(this),this)};Ae.encode=function(e,t){if(this.cache&&e.length<=this.H)if(this.F){if(this.B.has(e))return this.B.get(e)}else this.F=setTimeout(ua,50,this);this.normalize&&(typeof this.normalize=="function"?e=this.normalize(e):e=i0?e.normalize("NFKD").replace(i0,"").toLowerCase():e.toLowerCase()),this.prepare&&(e=this.prepare(e)),this.numeric&&e.length>3&&(e=e.replace(mC,"$1 $2").replace(yC,"$1 $2").replace(pC,"$1 "));const r=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer);let n=[],a=vt(),i,o,s=this.split||this.split===""?e.split(this.split):[e];for(let c=0,u,f;c<s.length;c++)if((u=f=s[c])&&!(u.length<this.minlength||u.length>this.maxlength)){if(t){if(a[u])continue;a[u]=1}else{if(i===u)continue;i=u}if(r)n.push(u);else if(!this.filter||(typeof this.filter=="function"?this.filter(u):!this.filter.has(u))){if(this.cache&&u.length<=this.I)if(this.F){var l=this.D.get(u);if(l||l===""){l&&n.push(l);continue}}else this.F=setTimeout(ua,50,this);if(this.stemmer){this.K||(this.K=new RegExp("(?!^)("+this.A+")$"));let p;for(;p!==u&&u.length>2;)p=u,u=u.replace(this.K,g=>this.stemmer.get(g))}if(u&&(this.mapper||this.dedupe&&u.length>1)){l="";for(let p=0,g="",b,v;p<u.length;p++)b=u.charAt(p),b===g&&this.dedupe||((v=this.mapper&&this.mapper.get(b))||v===""?v===g&&this.dedupe||!(g=v)||(l+=v):l+=g=b);u=l}if(this.matcher&&u.length>1&&(this.J||(this.J=new RegExp("("+this.h+")","g")),u=u.replace(this.J,p=>this.matcher.get(p))),u&&this.replacer)for(l=0;u&&l<this.replacer.length;l+=2)u=u.replace(this.replacer[l],this.replacer[l+1]);if(this.cache&&f.length<=this.I&&(this.D.set(f,u),this.D.size>this.L&&(this.D.clear(),this.I=this.I/1.1|0)),u){if(u!==f)if(t){if(a[u])continue;a[u]=1}else{if(o===u)continue;o=u}n.push(u)}}}return this.finalize&&(n=this.finalize(n)||n),this.cache&&e.length<=this.H&&(this.B.set(e,n),this.B.size>this.L&&(this.B.clear(),this.H=this.H/1.1|0)),n};function ua(e){e.F=null,e.B.clear(),e.D.clear()}function Vy(e,t,r){r||(t||typeof e!="object"?typeof t=="object"&&(r=t,t=0):r=e),r&&(e=r.query||e,t=r.limit||t);let n=""+(t||0);r&&(n+=(r.offset||0)+!!r.context+!!r.suggest+(r.resolve!==!1)+(r.resolution||this.resolution)+(r.boost||0)),e=(""+e).toLowerCase(),this.cache||(this.cache=new xa);let a=this.cache.get(e+n);if(!a){const i=r&&r.cache;i&&(r.cache=!1),a=this.search(e,t,r),i&&(r.cache=i),this.cache.set(e+n,a)}return a}function xa(e){this.limit=e&&e!==!0?e:1e3,this.cache=new Map,this.h=""}xa.prototype.set=function(e,t){this.cache.set(this.h=e,t),this.cache.size>this.limit&&this.cache.delete(this.cache.keys().next().value)};xa.prototype.get=function(e){const t=this.cache.get(e);return t&&this.h!==e&&(this.cache.delete(e),this.cache.set(this.h=e,t)),t};xa.prototype.remove=function(e){for(const t of this.cache){const r=t[0];t[1].includes(e)&&this.cache.delete(r)}};xa.prototype.clear=function(){this.cache.clear(),this.h=""};const o0={normalize:!1,numeric:!1,dedupe:!1},Js={},Qu=new Map([["b","p"],["v","f"],["w","f"],["z","s"],["x","s"],["d","t"],["n","m"],["c","k"],["g","k"],["j","k"],["q","k"],["i","e"],["y","e"],["u","o"]]),s0=new Map([["ae","a"],["oe","o"],["sh","s"],["kh","k"],["th","t"],["ph","f"],["pf","f"]]),l0=[/([^aeo])h(.)/g,"$1$2",/([aeo])h([^aeo]|$)/g,"$1$2",/(.)\1+/g,"$1"],c0={a:"",e:"",i:"",o:"",u:"",y:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,ß:2,d:3,t:3,l:4,m:5,n:5,r:6};var Lk={Exact:o0,Default:Js,Normalize:Js,LatinBalance:{mapper:Qu},LatinAdvanced:{mapper:Qu,matcher:s0,replacer:l0},LatinExtra:{mapper:Qu,replacer:l0.concat([/(?!^)[aeo]/g,""]),matcher:s0},LatinSoundex:{dedupe:!1,include:{letter:!0},finalize:function(e){for(let r=0;r<e.length;r++){var t=e[r];let n=t.charAt(0),a=c0[n];for(let i=1,o;i<t.length&&(o=t.charAt(i),o==="h"||o==="w"||!(o=c0[o])||o===a||(n+=o,a=o,n.length!==4));i++);e[r]=n}}},CJK:{split:""},LatinExact:o0,LatinDefault:Js,LatinSimple:Js};function u0(e,t,r,n){let a=[];for(let i=0,o;i<e.index.length;i++)if(o=e.index[i],t>=o.length)t-=o.length;else{t=o[n?"splice":"slice"](t,r);const s=t.length;if(s&&(a=a.length?a.concat(t):t,r-=s,n&&(e.length-=s),!r))break;t=0}return a}function ai(e){if(!this||this.constructor!==ai)return new ai(e);this.index=e?[e]:[],this.length=e?e.length:0;const t=this;return new Proxy([],{get(r,n){if(n==="length")return t.length;if(n==="push")return function(a){t.index[t.index.length-1].push(a),t.length++};if(n==="pop")return function(){if(t.length)return t.length--,t.index[t.index.length-1].pop()};if(n==="indexOf")return function(a){let i=0;for(let o=0,s,l;o<t.index.length;o++){if(s=t.index[o],l=s.indexOf(a),l>=0)return i+l;i+=s.length}return-1};if(n==="includes")return function(a){for(let i=0;i<t.index.length;i++)if(t.index[i].includes(a))return!0;return!1};if(n==="slice")return function(a,i){return u0(t,a||0,i||t.length,!1)};if(n==="splice")return function(a,i){return u0(t,a||0,i||t.length,!0)};if(n==="constructor")return Array;if(typeof n!="symbol")return(r=t.index[n/2**31|0])&&r[n]},set(r,n,a){return r=n/2**31|0,(t.index[r]||(t.index[r]=[]))[n]=a,t.length++,!0}})}ai.prototype.clear=function(){this.index.length=0};ai.prototype.push=function(){};function wr(e=8){if(!this||this.constructor!==wr)return new wr(e);this.index=vt(),this.h=[],this.size=0,e>32?(this.B=Fk,this.A=BigInt(e)):(this.B=qk,this.A=e)}wr.prototype.get=function(e){const t=this.index[this.B(e)];return t&&t.get(e)};wr.prototype.set=function(e,t){var r=this.B(e);let n=this.index[r];n?(r=n.size,n.set(e,t),(r-=n.size)&&this.size++):(this.index[r]=n=new Map([[e,t]]),this.h.push(n),this.size++)};function Sr(e=8){if(!this||this.constructor!==Sr)return new Sr(e);this.index=vt(),this.h=[],this.size=0,e>32?(this.B=Fk,this.A=BigInt(e)):(this.B=qk,this.A=e)}Sr.prototype.add=function(e){var t=this.B(e);let r=this.index[t];r?(t=r.size,r.add(e),(t-=r.size)&&this.size++):(this.index[t]=r=new Set([e]),this.h.push(r),this.size++)};Ae=wr.prototype;Ae.has=Sr.prototype.has=function(e){const t=this.index[this.B(e)];return t&&t.has(e)};Ae.delete=Sr.prototype.delete=function(e){const t=this.index[this.B(e)];t&&t.delete(e)&&this.size--};Ae.clear=Sr.prototype.clear=function(){this.index=vt(),this.h=[],this.size=0};Ae.values=Sr.prototype.values=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].values())yield t};Ae.keys=Sr.prototype.keys=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].keys())yield t};Ae.entries=Sr.prototype.entries=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].entries())yield t};function qk(e){let t=2**this.A-1;if(typeof e=="number")return e&t;let r=0,n=this.A+1;for(let a=0;a<e.length;a++)r=(r*n^e.charCodeAt(a))&t;return this.A===32?r+2**31:r}function Fk(e){let t=BigInt(2)**this.A-BigInt(1);var r=typeof e;if(r==="bigint")return e&t;if(r==="number")return BigInt(e)&t;r=BigInt(0);let n=this.A+BigInt(1);for(let a=0;a<e.length;a++)r=(r*n^BigInt(e.charCodeAt(a)))&t;return r}let Ia,Qi;async function gC(e){e=e.data;var t=e.task;const r=e.id;let n=e.args;switch(t){case"init":Qi=e.options||{},(t=e.factory)?(Function("return "+t)()(self),Ia=new self.FlexSearch.Index(Qi),delete self.FlexSearch):Ia=new jr(Qi),postMessage({id:r});break;default:let a;t==="export"&&(n[1]?(n[0]=Qi.export,n[2]=0,n[3]=1):n=null),t==="import"?n[0]&&(e=await Qi.import.call(Ia,n[0]),Ia.import(n[0],e)):((a=n&&Ia[t].apply(Ia,n))&&a.then&&(a=await a),a&&a.await&&(a=await a.await),t==="search"&&a.result&&(a=a.result)),postMessage(t==="search"?{id:r,msg:a}:{id:r})}}function Yy(e){Ra.call(e,"add"),Ra.call(e,"append"),Ra.call(e,"search"),Ra.call(e,"update"),Ra.call(e,"remove"),Ra.call(e,"searchCache")}let gm,f0,wl;function vC(){gm=wl=0}function Ra(e){this[e+"Async"]=function(){const t=arguments;var r=t[t.length-1];let n;if(typeof r=="function"&&(n=r,delete t[t.length-1]),gm?wl||(wl=Date.now()-f0>=this.priority*this.priority*3):(gm=setTimeout(vC,0),f0=Date.now()),wl){const i=this;return new Promise(o=>{setTimeout(function(){o(i[e+"Async"].apply(i,t))},0)})}const a=this[e].apply(this,t);return r=a.then?a:new Promise(i=>i(a)),n&&r.then(n),r}}let Pn=0;function ii(e={},t){function r(s){function l(c){c=c.data||c;const u=c.id,f=u&&i.h[u];f&&(f(c.msg),delete i.h[u])}if(this.worker=s,this.h=vt(),this.worker)return a?this.worker.on("message",l):this.worker.onmessage=l,e.config?new Promise(function(c){Pn>1e9&&(Pn=0),i.h[++Pn]=function(){c(i)},i.worker.postMessage({id:Pn,task:"init",factory:n,options:e})}):(this.priority=e.priority||4,this.encoder=t||null,this.worker.postMessage({task:"init",factory:n,options:e}),this)}if(!this||this.constructor!==ii)return new ii(e);let n=typeof self<"u"?self._factory:typeof window<"u"?window._factory:null;n&&(n=n.toString());const a=typeof window>"u",i=this,o=bC(n,a,e.worker);return o.then?o.then(function(s){return r.call(i,s)}):r.call(this,o)}In("add");In("append");In("search");In("update");In("remove");In("clear");In("export");In("import");ii.prototype.searchCache=Vy;Yy(ii.prototype);function In(e){ii.prototype[e]=function(){const t=this,r=[].slice.call(arguments);var n=r[r.length-1];let a;return typeof n=="function"&&(a=n,r.pop()),n=new Promise(function(i){e==="export"&&typeof r[0]=="function"&&(r[0]=null),Pn>1e9&&(Pn=0),t.h[++Pn]=i,t.worker.postMessage({task:e,id:Pn,args:r})}),a?(n.then(a),this):n}}function bC(e,t,r){return t?typeof module<"u"?new(require("worker_threads")).Worker(__dirname+"/worker/node.js"):dC(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]).then(function(n){return new n.Worker(import.meta.dirname+"/node/node.mjs")}):e?new window.Worker(URL.createObjectURL(new Blob(["onmessage="+gC.toString()],{type:"text/javascript"}))):new window.Worker(typeof r=="string"?r:import.meta.url.replace("/worker.js","/worker/worker.js").replace("flexsearch.bundle.module.min.js","module/worker/worker.js"),{type:"module"})}fa.prototype.add=function(e,t,r){if(Ao(e)&&(t=e,e=Oo(t,this.key)),t&&(e||e===0)){if(!r&&this.reg.has(e))return this.update(e,t);for(let s=0,l;s<this.field.length;s++){l=this.B[s];var n=this.index.get(this.field[s]);if(typeof l=="function"){var a=l(t);a&&n.add(e,a,r,!0)}else a=l.G,(!a||a(t))&&(l.constructor===String?l=[""+l]:xr(l)&&(l=[l]),bm(t,l,this.D,0,n,e,l[0],r))}if(this.tag)for(n=0;n<this.A.length;n++){var i=this.A[n];a=this.tag.get(this.F[n]);let s=vt();if(typeof i=="function"){if(i=i(t),!i)continue}else{var o=i.G;if(o&&!o(t))continue;i.constructor===String&&(i=""+i),i=Oo(t,i)}if(a&&i){xr(i)&&(i=[i]);for(let l=0,c,u;l<i.length;l++)if(c=i[l],!s[c]&&(s[c]=1,(o=a.get(c))?u=o:a.set(c,u=[]),!r||!u.includes(e))){if(u.length===2**31-1){if(o=new ai(u),this.fastupdate)for(let f of this.reg.values())f.includes(u)&&(f[f.indexOf(u)]=o);a.set(c,u=o)}u.push(e),this.fastupdate&&((o=this.reg.get(e))?o.push(u):this.reg.set(e,[u]))}}}if(this.store&&(!r||!this.store.has(e))){let s;if(this.h){s=vt();for(let l=0,c;l<this.h.length;l++){if(c=this.h[l],(r=c.G)&&!r(t))continue;let u;if(typeof c=="function"){if(u=c(t),!u)continue;c=[c.O]}else if(xr(c)||c.constructor===String){s[c]=t[c];continue}vm(t,s,c,0,c[0],u)}}this.store.set(e,s||t)}this.worker&&(this.fastupdate||this.reg.add(e))}return this};function vm(e,t,r,n,a,i){if(e=e[a],n===r.length-1)t[a]=i||e;else if(e)if(e.constructor===Array)for(t=t[a]=Array(e.length),a=0;a<e.length;a++)vm(e,t,r,n,a);else t=t[a]||(t[a]=vt()),a=r[++n],vm(e,t,r,n,a)}function bm(e,t,r,n,a,i,o,s){if(e=e[o])if(n===t.length-1){if(e.constructor===Array){if(r[n]){for(t=0;t<e.length;t++)a.add(i,e[t],!0,!0);return}e=e.join(" ")}a.add(i,e,s,!0)}else if(e.constructor===Array)for(o=0;o<e.length;o++)bm(e,t,r,n,a,i,o,s);else o=t[++n],bm(e,t,r,n,a,i,o,s)}function Xy(e,t,r,n){if(!e.length)return e;if(e.length===1)return e=e[0],e=r||e.length>t?e.slice(r,r+t):e,n?Xa.call(this,e):e;let a=[];for(let i=0,o,s;i<e.length;i++)if((o=e[i])&&(s=o.length)){if(r){if(r>=s){r-=s;continue}o=o.slice(r,r+t),s=o.length,r=0}if(s>t&&(o=o.slice(0,t),s=t),!a.length&&s>=t)return n?Xa.call(this,o):o;if(a.push(o),t-=s,!t)break}return a=a.length>1?[].concat.apply([],a):a[0],n?Xa.call(this,a):a}function Rc(e,t,r,n){var a=n[0];if(a[0]&&a[0].query)return e[t].apply(e,a);if(!(t!=="and"&&t!=="not"||e.result.length||e.await||a.suggest))return n.length>1&&(a=n[n.length-1]),(n=a.resolve)?e.await||e.result:e;let i=[],o=0,s=0,l,c,u,f,p;for(t=0;t<n.length;t++)if(a=n[t]){var g=void 0;if(a.constructor===at)g=a.await||a.result;else if(a.then||a.constructor===Array)g=a;else{o=a.limit||0,s=a.offset||0,u=a.suggest,c=a.resolve,l=((f=a.highlight||e.highlight)||a.enrich)&&c,g=a.queue;let b=a.async||g,v=a.index,y=a.query;if(v?e.index||(e.index=v):v=e.index,y||a.tag){const w=a.field||a.pluck;if(w&&(!y||e.query&&!f||(e.query=y,e.field=w,e.highlight=f),v=v.index.get(w)),g&&(p||e.await)){p=1;let k;const A=e.C.length,E=new Promise(function(j){k=j});(function(j,O){E.h=function(){O.index=null,O.resolve=!1;let P=b?j.searchAsync(O):j.search(O);return P.then?P.then(function(T){return e.C[A]=T=T.result||T,k(T),T}):(P=P.result||P,k(P),P)}})(v,Object.assign({},a)),e.C.push(E),i[t]=E;continue}else a.resolve=!1,a.index=null,g=b?v.searchAsync(a):v.search(a),a.resolve=c,a.index=v}else if(a.and)g=Qs(a,"and",v);else if(a.or)g=Qs(a,"or",v);else if(a.not)g=Qs(a,"not",v);else if(a.xor)g=Qs(a,"xor",v);else continue}g.await?(p=1,g=g.await):g.then?(p=1,g=g.then(function(b){return b.result||b})):g=g.result||g,i[t]=g}if(p&&!e.await&&(e.await=new Promise(function(b){e.return=b})),p){const b=Promise.all(i).then(function(v){for(let y=0;y<e.C.length;y++)if(e.C[y]===b){e.C[y]=function(){return r.call(e,v,o,s,l,c,u,f)};break}Jy(e)});e.C.push(b)}else if(e.await)e.C.push(function(){return r.call(e,i,o,s,l,c,u,f)});else return r.call(e,i,o,s,l,c,u,f);return c?e.await||e.result:e}function Qs(e,t,r){e=e[t];const n=e[0]||e;return n.index||(n.index=r),r=new at(n),e.length>1&&(r=r[t].apply(r,e.slice(1))),r}at.prototype.or=function(){return Rc(this,"or",xC,arguments)};function xC(e,t,r,n,a,i,o){return e.length&&(this.result.length&&e.push(this.result),e.length<2?this.result=e[0]:(this.result=Wk(e,t,r,!1,this.h),r=0)),a&&(this.await=null),a?this.resolve(t,r,n,o):this}at.prototype.and=function(){return Rc(this,"and",wC,arguments)};function wC(e,t,r,n,a,i,o){if(!i&&!this.result.length)return a?this.result:this;let s;if(e.length)if(this.result.length&&e.unshift(this.result),e.length<2)this.result=e[0];else{let l=0;for(let c=0,u,f;c<e.length;c++)if((u=e[c])&&(f=u.length))l<f&&(l=f);else if(!i){l=0;break}l?(this.result=Cl(e,l,t,r,i,this.h,a),s=!0):this.result=[]}else i||(this.result=e);return a&&(this.await=null),a?this.resolve(t,r,n,o,s):this}at.prototype.xor=function(){return Rc(this,"xor",SC,arguments)};function SC(e,t,r,n,a,i,o){if(e.length)if(this.result.length&&e.unshift(this.result),e.length<2)this.result=e[0];else{e:{i=r;var s=this.h;const l=[],c=vt();let u=0;for(let f=0,p;f<e.length;f++)if(p=e[f]){u<p.length&&(u=p.length);for(let g=0,b;g<p.length;g++)if(b=p[g])for(let v=0,y;v<b.length;v++)y=b[v],c[y]=c[y]?2:1}for(let f=0,p,g=0;f<u;f++)for(let b=0,v;b<e.length;b++)if((v=e[b])&&(p=v[f])){for(let y=0,w;y<p.length;y++)if(w=p[y],c[w]===1)if(i)i--;else if(a){if(l.push(w),l.length===t){e=l;break e}}else{const k=f+(b?s:0);if(l[k]||(l[k]=[]),l[k].push(w),++g===t){e=l;break e}}}e=l}this.result=e,s=!0}else i||(this.result=e);return a&&(this.await=null),a?this.resolve(t,r,n,o,s):this}at.prototype.not=function(){return Rc(this,"not",jC,arguments)};function jC(e,t,r,n,a,i,o){if(!i&&!this.result.length)return a?this.result:this;if(e.length&&this.result.length){e:{i=r;var s=[];e=new Set(e.flat().flat());for(let l=0,c,u=0;l<this.result.length;l++)if(c=this.result[l]){for(let f=0,p;f<c.length;f++)if(p=c[f],!e.has(p)){if(i)i--;else if(a){if(s.push(p),s.length===t){e=s;break e}}else if(s[l]||(s[l]=[]),s[l].push(p),++u===t){e=s;break e}}}e=s}this.result=e,s=!0}return a&&(this.await=null),a?this.resolve(t,r,n,o,s):this}function Sl(e,t,r,n,a){let i,o,s;typeof a=="string"?(i=a,a=""):i=a.template,o=i.indexOf("$1"),s=i.substring(o+2),o=i.substring(0,o);let l=a&&a.boundary,c=!a||a.clip!==!1,u=a&&a.merge&&s&&o&&new RegExp(s+" "+o,"g");a=a&&a.ellipsis;var f=0;if(typeof a=="object"){var p=a.template;f=p.length-2,a=a.pattern}typeof a!="string"&&(a=a===!1?"":"..."),f&&(a=p.replace("$1",a)),p=a.length-f;let g,b;typeof l=="object"&&(g=l.before,g===0&&(g=-1),b=l.after,b===0&&(b=-1),l=l.total||9e5),f=new Map;for(let le=0,ue,re,ae;le<t.length;le++){let fe;if(n)fe=t,ae=n;else{var v=t[le];if(ae=v.field,!ae)continue;fe=v.result}re=r.get(ae),ue=re.encoder,v=f.get(ue),typeof v!="string"&&(v=ue.encode(e),f.set(ue,v));for(let ce=0;ce<fe.length;ce++){var y=fe[ce].doc;if(!y||(y=Oo(y,ae),!y))continue;var w=y.trim().split(/\s+/);if(!w.length)continue;y="";var k=[];let ge=[];for(var A=-1,E=-1,j=0,O=0;O<w.length;O++){var P=w[O],T=ue.encode(P);T=T.length>1?T.join(" "):T[0];let pe;if(T&&P){for(var M=P.length,K=(ue.split?P.replace(ue.split,""):P).length-T.length,I="",B=0,z=0;z<v.length;z++){var Q=v[z];if(Q){var X=Q.length;X+=K,B&&X<=B||(Q=T.indexOf(Q),Q>-1&&(I=(Q?P.substring(0,Q):"")+o+P.substring(Q,Q+X)+s+(Q+X<M?P.substring(Q+X):""),B=X,pe=!0))}}I&&(l&&(A<0&&(A=y.length+(y?1:0)),E=y.length+(y?1:0)+I.length,j+=M,ge.push(k.length),k.push({match:I})),y+=(y?" ":"")+I)}if(!pe)P=w[O],y+=(y?" ":"")+P,l&&k.push({text:P});else if(l&&j>=l)break}if(j=ge.length*(i.length-2),g||b||l&&y.length-j>l)if(j=l+j-p*2,O=E-A,g>0&&(O+=g),b>0&&(O+=b),O<=j)w=g?A-(g>0?g:0):A-((j-O)/2|0),k=b?E+(b>0?b:0):w+j,c||(w>0&&y.charAt(w)!==" "&&y.charAt(w-1)!==" "&&(w=y.indexOf(" ",w),w<0&&(w=0)),k<y.length&&y.charAt(k-1)!==" "&&y.charAt(k)!==" "&&(k=y.lastIndexOf(" ",k),k<E?k=E:++k)),y=(w?a:"")+y.substring(w,k)+(k<y.length?a:"");else{for(E=[],A={},j={},O={},P={},T={},I=K=M=0,z=B=1;;){var Z=void 0;for(let pe=0,je;pe<ge.length;pe++){if(je=ge[pe],I)if(K!==I){if(O[pe+1])continue;if(je+=I,A[je]){M-=p,j[pe+1]=1,O[pe+1]=1;continue}if(je>=k.length-1){if(je>=k.length){O[pe+1]=1,je>=w.length&&(j[pe+1]=1);continue}M-=p}if(y=k[je].text,X=b&&T[pe])if(X>0){if(y.length>X)if(O[pe+1]=1,c)y=y.substring(0,X);else continue;(X-=y.length)||(X=-1),T[pe]=X}else{O[pe+1]=1;continue}if(M+y.length+1<=l)y=" "+y,E[pe]+=y;else if(c)Z=l-M-1,Z>0&&(y=" "+y.substring(0,Z),E[pe]+=y),O[pe+1]=1;else{O[pe+1]=1;continue}}else{if(O[pe])continue;if(je-=K,A[je]){M-=p,O[pe]=1,j[pe]=1;continue}if(je<=0){if(je<0){O[pe]=1,j[pe]=1;continue}M-=p}if(y=k[je].text,X=g&&P[pe])if(X>0){if(y.length>X)if(O[pe]=1,c)y=y.substring(y.length-X);else continue;(X-=y.length)||(X=-1),P[pe]=X}else{O[pe]=1;continue}if(M+y.length+1<=l)y+=" ",E[pe]=y+E[pe];else if(c)Z=y.length+1-(l-M),Z>=0&&Z<y.length&&(y=y.substring(Z)+" ",E[pe]=y+E[pe]),O[pe]=1;else{O[pe]=1;continue}}else{y=k[je].match,g&&(P[pe]=g),b&&(T[pe]=b),pe&&M++;let Re;if(je?!pe&&p&&(M+=p):(j[pe]=1,O[pe]=1),je>=w.length-1||je<k.length-1&&k[je+1].match?Re=1:p&&(M+=p),M-=i.length-2,!pe||M+y.length<=l)E[pe]=y;else{Z=B=z=j[pe]=0;break}Re&&(j[pe+1]=1,O[pe+1]=1)}M+=y.length,Z=A[je]=1}if(Z)K===I?I++:K++;else{if(K===I?B=0:z=0,!B&&!z)break;B?(K++,I=K):I++}}y="";for(let pe=0,je;pe<E.length;pe++)je=(pe&&j[pe]?" ":(pe&&!a?" ":"")+a)+E[pe],y+=je;a&&!j[E.length]&&(y+=a)}u&&(y=y.replace(u," ")),fe[ce].highlight=y}if(n)break}return t}function at(e,t){if(!this||this.constructor!==at)return new at(e,t);let r=0,n,a,i,o,s,l;if(e&&e.index){const c=e;if(t=c.index,r=c.boost||0,a=c.query){i=c.field||c.pluck,o=c.highlight;const u=c.resolve;e=c.async||c.queue,c.resolve=!1,c.index=null,e=e?t.searchAsync(c):t.search(c),c.resolve=u,c.index=t,e=e.result||e}else e=[]}if(e&&e.then){const c=this;e=e.then(function(u){c.C[0]=c.result=u.result||u,Jy(c)}),n=[e],e=[],s=new Promise(function(u){l=u})}this.index=t||null,this.result=e||[],this.h=r,this.C=n||[],this.await=s||null,this.return=l||null,this.highlight=o||null,this.query=a||"",this.field=i||""}Ae=at.prototype;Ae.limit=function(e){if(this.await){const t=this;this.C.push(function(){return t.limit(e).result})}else if(this.result.length){const t=[];for(let r=0,n;r<this.result.length;r++)if(n=this.result[r])if(n.length<=e){if(t[r]=n,e-=n.length,!e)break}else{t[r]=n.slice(0,e);break}this.result=t}return this};Ae.offset=function(e){if(this.await){const t=this;this.C.push(function(){return t.offset(e).result})}else if(this.result.length){const t=[];for(let r=0,n;r<this.result.length;r++)(n=this.result[r])&&(n.length<=e?e-=n.length:(t[r]=n.slice(e),e=0));this.result=t}return this};Ae.boost=function(e){if(this.await){const t=this;this.C.push(function(){return t.boost(e).result})}else this.h+=e;return this};function Jy(e,t){let r=e.result;var n=e.await;e.await=null;for(let a=0,i;a<e.C.length;a++)if(i=e.C[a]){if(typeof i=="function")r=i(),e.C[a]=r=r.result||r,a--;else if(i.h)r=i.h(),e.C[a]=r=r.result||r,a--;else if(i.then)return e.await=n}return n=e.return,e.C=[],e.return=null,t||n(r),r}Ae.resolve=function(e,t,r,n,a){let i=this.await?Jy(this,!0):this.result;if(i.then){const o=this;return i.then(function(){return o.resolve(e,t,r,n,a)})}return i.length&&(typeof e=="object"?(n=e.highlight||this.highlight,r=!!n||e.enrich,t=e.offset,e=e.limit):(n=n||this.highlight,r=!!n||r),i=a?r?Xa.call(this.index,i):i:Xy.call(this.index,i,e||100,t,r)),this.finalize(i,n)};Ae.finalize=function(e,t){if(e.then){const n=this;return e.then(function(a){return n.finalize(a,t)})}t&&e.length&&this.query&&(e=Sl(this.query,e,this.index.index,this.field,t));const r=this.return;return this.highlight=this.index=this.result=this.C=this.await=this.return=null,this.query=this.field="",r&&r(e),e};function Cl(e,t,r,n,a,i,o){const s=e.length;let l=[],c,u;c=vt();for(let f=0,p,g,b,v;f<t;f++)for(let y=0;y<s;y++)if(b=e[y],f<b.length&&(p=b[f]))for(let w=0;w<p.length;w++){if(g=p[w],(u=c[g])?c[g]++:(u=0,c[g]=1),v=l[u]||(l[u]=[]),!o){let k=f+(y||!a?0:i||0);v=v[k]||(v[k]=[])}if(v.push(g),o&&r&&u===s-1&&v.length-n===r)return n?v.slice(n):v}if(e=l.length)if(a)l=l.length>1?Wk(l,r,n,o,i):(l=l[0])&&r&&l.length>r||n?l.slice(n,r+n):l;else{if(e<s)return[];if(l=l[e-1],r||n)if(o)(l.length>r||n)&&(l=l.slice(n,r+n));else{a=[];for(let f=0,p;f<l.length;f++)if(p=l[f]){if(n&&p.length>n)n-=p.length;else if((r&&p.length>r||n)&&(p=p.slice(n,r+n),r-=p.length,n&&(n-=p.length)),a.push(p),!r)break}l=a}}return l}function Wk(e,t,r,n,a){const i=[],o=vt();let s;var l=e.length;let c;if(n){for(a=l-1;a>=0;a--)if(c=(n=e[a])&&n.length){for(l=0;l<c;l++)if(s=n[l],!o[s]){if(o[s]=1,r)r--;else if(i.push(s),i.length===t)return i}}}else for(let u=l-1,f,p=0;u>=0;u--){f=e[u];for(let g=0;g<f.length;g++)if(c=(n=f[g])&&n.length){for(let b=0;b<c;b++)if(s=n[b],!o[s])if(o[s]=1,r)r--;else{let v=(g+(u<l-1&&a||0))/(u+1)|0;if((i[v]||(i[v]=[])).push(s),++p===t)return i}}}return i}function kC(e,t,r){const n=vt(),a=[];for(let i=0,o;i<t.length;i++){o=t[i];for(let s=0;s<o.length;s++)n[o[s]]=1}if(r)for(let i=0,o;i<e.length;i++)o=e[i],n[o]&&(a.push(o),n[o]=0);else for(let i=0,o,s;i<e.result.length;i++)for(o=e.result[i],t=0;t<o.length;t++)s=o[t],n[s]&&((a[i]||(a[i]=[])).push(s),n[s]=0);return a}fa.prototype.search=function(e,t,r,n){r||(!t&&Ao(e)?(r=e,e=""):Ao(t)&&(r=t,t=0));let a=[];var i=[];let o,s,l,c,u,f,p=0,g=!0,b;if(r){r.constructor===Array&&(r={index:r}),e=r.query||e,o=r.pluck,s=r.merge,c=r.boost,f=o||r.field||(f=r.index)&&(f.index?null:f);var v=this.tag&&r.tag;l=r.suggest,g=r.resolve!==!1,u=r.cache,b=g&&this.store&&r.highlight;var y=!!b||g&&this.store&&r.enrich;t=r.limit||t;var w=r.offset||0;if(t||(t=g?100:0),v&&(!this.db||!n)){v.constructor!==Array&&(v=[v]);var k=[];for(let P=0,T;P<v.length;P++)if(T=v[P],T.field&&T.tag){var A=T.tag;if(A.constructor===Array)for(var E=0;E<A.length;E++)k.push(T.field,A[E]);else k.push(T.field,A)}else{A=Object.keys(T);for(let M=0,K,I;M<A.length;M++)if(K=A[M],I=T[K],I.constructor===Array)for(E=0;E<I.length;E++)k.push(K,I[E]);else k.push(K,I)}if(v=k,!e){if(i=[],k.length)for(v=0;v<k.length;v+=2){if(this.db){if(n=this.index.get(k[v]),!n)continue;i.push(n=n.db.tag(k[v+1],t,w,y))}else n=AC.call(this,k[v],k[v+1],t,w,y);a.push(g?{field:k[v],tag:k[v+1],result:n}:[n])}if(i.length){const P=this;return Promise.all(i).then(function(T){for(let M=0;M<T.length;M++)g?a[M].result=T[M]:a[M]=T[M];return g?a:new at(a.length>1?Cl(a,1,0,0,l,c):a[0],P)})}return g?a:new at(a.length>1?Cl(a,1,0,0,l,c):a[0],this)}}g||o||!(f=f||this.field)||(xr(f)?o=f:(f.constructor===Array&&f.length===1&&(f=f[0]),o=f.field||f.index)),f&&f.constructor!==Array&&(f=[f])}f||(f=this.field);let j;k=(this.worker||this.db)&&!n&&[];for(let P=0,T,M,K;P<f.length;P++){if(M=f[P],this.db&&this.tag&&!this.B[P])continue;let I;if(xr(M)||(I=M,M=I.field,e=I.query||e,t=Da(I.limit,t),w=Da(I.offset,w),l=Da(I.suggest,l),b=g&&this.store&&Da(I.highlight,b),y=!!b||g&&this.store&&Da(I.enrich,y),u=Da(I.cache,u)),n)T=n[P];else{A=I||r||{},E=A.enrich;var O=this.index.get(M);if(v&&(this.db&&(A.tag=v,j=O.db.support_tag_search,A.field=f),!j&&E&&(A.enrich=!1)),T=u?O.searchCache(e,t,A):O.search(e,t,A),E&&(A.enrich=E),k){k[P]=T;continue}}if(K=(T=T.result||T)&&T.length,v&&K){if(A=[],E=0,this.db&&n){if(!j)for(O=f.length;O<n.length;O++){let B=n[O];if(B&&B.length)E++,A.push(B);else if(!l)return g?a:new at(a,this)}}else for(let B=0,z,Q;B<v.length;B+=2){if(z=this.tag.get(v[B]),!z){if(l)continue;return g?a:new at(a,this)}if(Q=(z=z&&z.get(v[B+1]))&&z.length)E++,A.push(z);else if(!l)return g?a:new at(a,this)}if(E){if(T=kC(T,A,g),K=T.length,!K&&!l)return g?T:new at(T,this);E--}}if(K)i[p]=M,a.push(T),p++;else if(f.length===1)return g?a:new at(a,this)}if(k){if(this.db&&v&&v.length&&!j)for(y=0;y<v.length;y+=2){if(i=this.index.get(v[y]),!i){if(l)continue;return g?a:new at(a,this)}k.push(i.db.tag(v[y+1],t,w,!1))}const P=this;return Promise.all(k).then(function(T){return r&&(r.resolve=g),T.length&&(T=P.search(e,t,r,T)),T})}if(!p)return g?a:new at(a,this);if(o&&(!y||!this.store))return a=a[0],g?a:new at(a,this);for(k=[],w=0;w<i.length;w++){if(v=a[w],y&&v.length&&typeof v[0].doc>"u"&&(this.db?k.push(v=this.index.get(this.field[0]).db.enrich(v)):v=Xa.call(this,v)),o)return g?b?Sl(e,v,this.index,o,b):v:new at(v,this);a[w]={field:i[w],result:v}}if(y&&this.db&&k.length){const P=this;return Promise.all(k).then(function(T){for(let M=0;M<T.length;M++)a[M].result=T[M];return b&&(a=Sl(e,a,P.index,o,b)),s?d0(a):a})}return b&&(a=Sl(e,a,this.index,o,b)),s?d0(a):a};function d0(e){const t=[],r=vt(),n=vt();for(let a=0,i,o,s,l,c,u,f;a<e.length;a++){i=e[a],o=i.field,s=i.result;for(let p=0;p<s.length;p++)c=s[p],typeof c!="object"?c={id:l=c}:l=c.id,(u=r[l])?u.push(o):(c.field=r[l]=[o],t.push(c)),(f=c.highlight)&&(u=n[l],u||(n[l]=u={},c.highlight=u),u[o]=f)}return t}function AC(e,t,r,n,a){return e=this.tag.get(e),e?(e=e.get(t),e?(t=e.length-n,t>0&&((r&&t>r||n)&&(e=e.slice(n,n+r)),a&&(e=Xa.call(this,e))),e):[]):[]}function Xa(e){if(!this||!this.store)return e;if(this.db)return this.index.get(this.field[0]).db.enrich(e);const t=Array(e.length);for(let r=0,n;r<e.length;r++)n=e[r],t[r]={id:n,doc:this.store.get(n)};return t}function fa(e){if(!this||this.constructor!==fa)return new fa(e);const t=e.document||e.doc||e;let r,n;if(this.B=[],this.field=[],this.D=[],this.key=(r=t.key||t.id)&&Tl(r,this.D)||"id",(n=e.keystore||0)&&(this.keystore=n),this.fastupdate=!!e.fastupdate,this.reg=!this.fastupdate||e.worker||e.db?n?new Sr(n):new Set:n?new wr(n):new Map,this.h=(r=t.store||null)&&r&&r!==!0&&[],this.store=r?n?new wr(n):new Map:null,this.cache=(r=e.cache||null)&&new xa(r),e.cache=!1,this.worker=e.worker||!1,this.priority=e.priority||4,this.index=OC.call(this,e,t),this.tag=null,(r=t.tag)&&(typeof r=="string"&&(r=[r]),r.length)){this.tag=new Map,this.A=[],this.F=[];for(let a=0,i,o;a<r.length;a++){if(i=r[a],o=i.field||i,!o)throw Error("The tag field from the document descriptor is undefined.");i.custom?this.A[a]=i.custom:(this.A[a]=Tl(o,this.D),i.filter&&(typeof this.A[a]=="string"&&(this.A[a]=new String(this.A[a])),this.A[a].G=i.filter)),this.F[a]=o,this.tag.set(o,new Map)}}if(this.worker){this.fastupdate=!1,e=[];for(const a of this.index.values())a.then&&e.push(a);if(e.length){const a=this;return Promise.all(e).then(function(i){let o=0;for(const s of a.index.entries()){const l=s[0];let c=s[1];c.then&&(c=i[o],a.index.set(l,c),o++)}return a})}}else e.db&&(this.fastupdate=!1,this.mount(e.db))}Ae=fa.prototype;Ae.mount=function(e){let t=this.field;if(this.tag)for(let i=0,o;i<this.F.length;i++){o=this.F[i];var r=void 0;this.index.set(o,r=new jr({},this.reg)),t===this.field&&(t=t.slice(0)),t.push(o),r.tag=this.tag.get(o)}r=[];const n={db:e.db,type:e.type,fastupdate:e.fastupdate};for(let i=0,o,s;i<t.length;i++){n.field=s=t[i],o=this.index.get(s);const l=new e.constructor(e.id,n);l.id=e.id,r[i]=l.mount(o),o.document=!0,i?o.bypass=!0:o.store=this.store}const a=this;return this.db=Promise.all(r).then(function(){a.db=!0})};Ae.commit=async function(){const e=[];for(const t of this.index.values())e.push(t.commit());await Promise.all(e),this.reg.clear()};Ae.destroy=function(){const e=[];for(const t of this.index.values())e.push(t.destroy());return Promise.all(e)};function OC(e,t){const r=new Map;let n=t.index||t.field||t;xr(n)&&(n=[n]);for(let i=0,o,s;i<n.length;i++){if(o=n[i],xr(o)||(s=o,o=o.field),s=Ao(s)?Object.assign({},e,s):e,this.worker){var a=void 0;a=(a=s.encoder)&&a.encode?a:new _o(typeof a=="string"?Lk[a]:a||{}),a=new ii(s,a),r.set(o,a)}this.worker||r.set(o,new jr(s,this.reg)),s.custom?this.B[i]=s.custom:(this.B[i]=Tl(o,this.D),s.filter&&(typeof this.B[i]=="string"&&(this.B[i]=new String(this.B[i])),this.B[i].G=s.filter)),this.field[i]=o}if(this.h){e=t.store,xr(e)&&(e=[e]);for(let i=0,o,s;i<e.length;i++)o=e[i],s=o.field||o,o.custom?(this.h[i]=o.custom,o.custom.O=s):(this.h[i]=Tl(s,this.D),o.filter&&(typeof this.h[i]=="string"&&(this.h[i]=new String(this.h[i])),this.h[i].G=o.filter))}return r}function Tl(e,t){const r=e.split(":");let n=0;for(let a=0;a<r.length;a++)e=r[a],e[e.length-1]==="]"&&(e=e.substring(0,e.length-2))&&(t[n]=!0),e&&(r[n++]=e);return n<r.length&&(r.length=n),n>1?r:r[0]}Ae.append=function(e,t){return this.add(e,t,!0)};Ae.update=function(e,t){return this.remove(e).add(e,t)};Ae.remove=function(e){Ao(e)&&(e=Oo(e,this.key));for(var t of this.index.values())t.remove(e,!0);if(this.reg.has(e)){if(this.tag&&!this.fastupdate)for(let r of this.tag.values())for(let n of r){t=n[0];const a=n[1],i=a.indexOf(e);i>-1&&(a.length>1?a.splice(i,1):r.delete(t))}this.store&&this.store.delete(e),this.reg.delete(e)}return this.cache&&this.cache.remove(e),this};Ae.clear=function(){const e=[];for(const t of this.index.values()){const r=t.clear();r.then&&e.push(r)}if(this.tag)for(const t of this.tag.values())t.clear();return this.store&&this.store.clear(),this.cache&&this.cache.clear(),e.length?Promise.all(e):this};Ae.contain=function(e){return this.db?this.index.get(this.field[0]).db.has(e):this.reg.has(e)};Ae.cleanup=function(){for(const e of this.index.values())e.cleanup();return this};Ae.get=function(e){return this.db?this.index.get(this.field[0]).db.enrich(e).then(function(t){return t[0]&&t[0].doc||null}):this.store.get(e)||null};Ae.set=function(e,t){return typeof e=="object"&&(t=e,e=Oo(t,this.key)),this.store.set(e,t),this};Ae.searchCache=Vy;Ae.export=_C;Ae.import=PC;Yy(fa.prototype);function Qy(e,t=0){let r=[],n=[];t&&(t=25e4/t*5e3|0);for(const a of e.entries())n.push(a),n.length===t&&(r.push(n),n=[]);return n.length&&r.push(n),r}function Zy(e,t){t||(t=new Map);for(let r=0,n;r<e.length;r++)n=e[r],t.set(n[0],n[1]);return t}function zk(e,t=0){let r=[],n=[];t&&(t=25e4/t*1e3|0);for(const a of e.entries())n.push([a[0],Qy(a[1])[0]]),n.length===t&&(r.push(n),n=[]);return n.length&&r.push(n),r}function Uk(e,t){t||(t=new Map);for(let r=0,n,a;r<e.length;r++)n=e[r],a=t.get(n[0]),t.set(n[0],Zy(n[1],a));return t}function Kk(e){let t=[],r=[];for(const n of e.keys())r.push(n),r.length===25e4&&(t.push(r),r=[]);return r.length&&t.push(r),t}function Gk(e,t){t||(t=new Set);for(let r=0;r<e.length;r++)t.add(e[r]);return t}function Ml(e,t,r,n,a,i,o=0){const s=n&&n.constructor===Array;var l=s?n.shift():n;if(!l)return this.export(e,t,a,i+1);if((l=e((t?t+".":"")+(o+1)+"."+r,JSON.stringify(l)))&&l.then){const c=this;return l.then(function(){return Ml.call(c,e,t,r,s?n:null,a,i,o+1)})}return Ml.call(this,e,t,r,s?n:null,a,i,o+1)}function _C(e,t,r=0,n=0){if(r<this.field.length){const o=this.field[r];if((t=this.index.get(o).export(e,o,r,n=1))&&t.then){const s=this;return t.then(function(){return s.export(e,o,r+1)})}return this.export(e,o,r+1)}let a,i;switch(n){case 0:a="reg",i=Kk(this.reg),t=null;break;case 1:a="tag",i=this.tag&&zk(this.tag,this.reg.size),t=null;break;case 2:a="doc",i=this.store&&Qy(this.store),t=null;break;default:return}return Ml.call(this,e,t,a,i||null,r,n)}function PC(e,t){var r=e.split(".");r[r.length-1]==="json"&&r.pop();const n=r.length>2?r[0]:"";if(r=r.length>2?r[2]:r[1],this.worker&&n)return this.index.get(n).import(e);if(t){if(typeof t=="string"&&(t=JSON.parse(t)),n)return this.index.get(n).import(r,t);switch(r){case"reg":this.fastupdate=!1,this.reg=Gk(t,this.reg);for(let a=0,i;a<this.field.length;a++)i=this.index.get(this.field[a]),i.fastupdate=!1,i.reg=this.reg;if(this.worker){t=[];for(const a of this.index.values())t.push(a.import(e));return Promise.all(t)}break;case"tag":this.tag=Uk(t,this.tag);break;case"doc":this.store=Zy(t,this.store)}}}function h0(e,t){let r="";for(const n of e.entries()){e=n[0];const a=n[1];let i="";for(let o=0,s;o<a.length;o++){s=a[o]||[""];let l="";for(let c=0;c<s.length;c++)l+=(l?",":"")+(t==="string"?'"'+s[c]+'"':s[c]);l="["+l+"]",i+=(i?",":"")+l}i='["'+e+'",['+i+"]]",r+=(r?",":"")+i}return r}jr.prototype.remove=function(e,t){const r=this.reg.size&&(this.fastupdate?this.reg.get(e):this.reg.has(e));if(r){if(this.fastupdate){for(let n=0,a,i;n<r.length;n++)if((a=r[n])&&(i=a.length))if(a[i-1]===e)a.pop();else{const o=a.indexOf(e);o>=0&&a.splice(o,1)}}else Po(this.map,e),this.depth&&Po(this.ctx,e);t||this.reg.delete(e)}return this.db&&(this.commit_task.push({del:e}),this.M&&Hk(this)),this.cache&&this.cache.remove(e),this};function Po(e,t){let r=0;var n=typeof t>"u";if(e.constructor===Array){for(let a=0,i,o,s;a<e.length;a++)if((i=e[a])&&i.length){if(n)return 1;if(o=i.indexOf(t),o>=0){if(i.length>1)return i.splice(o,1),1;if(delete e[a],r)return 1;s=1}else{if(s)return 1;r++}}}else for(let a of e.entries())n=a[0],Po(a[1],t)?r++:e.delete(n);return r}const EC={memory:{resolution:1},performance:{resolution:3,fastupdate:!0,context:{depth:1,resolution:1}},match:{tokenize:"forward"},score:{resolution:9,context:{depth:2,resolution:3}}};jr.prototype.add=function(e,t,r,n){if(t&&(e||e===0)){if(!n&&!r&&this.reg.has(e))return this.update(e,t);n=this.depth,t=this.encoder.encode(t,!n);const c=t.length;if(c){const u=vt(),f=vt(),p=this.resolution;for(let g=0;g<c;g++){let b=t[this.rtl?c-1-g:g];var a=b.length;if(a&&(n||!f[b])){var i=this.score?this.score(t,b,g,null,0):Zs(p,c,g),o="";switch(this.tokenize){case"tolerant":if(zr(this,f,b,i,e,r),a>2){for(let v=1,y,w,k,A;v<a-1;v++)y=b.charAt(v),w=b.charAt(v+1),k=b.substring(0,v)+w,A=b.substring(v+2),o=k+y+A,zr(this,f,o,i,e,r),o=k+A,zr(this,f,o,i,e,r);zr(this,f,b.substring(0,b.length-1),i,e,r)}break;case"full":if(a>2){for(let v=0,y;v<a;v++)for(i=a;i>v;i--){o=b.substring(v,i),y=this.rtl?a-1-v:v;var s=this.score?this.score(t,b,g,o,y):Zs(p,c,g,a,y);zr(this,f,o,s,e,r)}break}case"bidirectional":case"reverse":if(a>1){for(s=a-1;s>0;s--){o=b[this.rtl?a-1-s:s]+o;var l=this.score?this.score(t,b,g,o,s):Zs(p,c,g,a,s);zr(this,f,o,l,e,r)}o=""}case"forward":if(a>1){for(s=0;s<a;s++)o+=b[this.rtl?a-1-s:s],zr(this,f,o,i,e,r);break}default:if(zr(this,f,b,i,e,r),n&&c>1&&g<c-1)for(a=this.N,o=b,i=Math.min(n+1,this.rtl?g+1:c-g),s=1;s<i;s++){b=t[this.rtl?c-1-g-s:g+s],l=this.bidirectional&&b>o;const v=this.score?this.score(t,o,g,b,s-1):Zs(a+(c/2>a?0:1),c,g,i-1,s-1);zr(this,u,l?o:b,v,e,r,l?b:o)}}}}this.fastupdate||this.reg.add(e)}}return this.db&&(this.commit_task.push(r?{ins:e}:{del:e}),this.M&&Hk(this)),this};function zr(e,t,r,n,a,i,o){let s,l;if(!(s=t[r])||o&&!s[o]){if(o?(t=s||(t[r]=vt()),t[o]=1,l=e.ctx,(s=l.get(o))?l=s:l.set(o,l=e.keystore?new wr(e.keystore):new Map)):(l=e.map,t[r]=1),(s=l.get(r))?l=s:l.set(r,l=s=[]),i){for(let c=0,u;c<s.length;c++)if((u=s[c])&&u.includes(a)){if(c<=n)return;u.splice(u.indexOf(a),1),e.fastupdate&&(t=e.reg.get(a))&&t.splice(t.indexOf(u),1);break}}if(l=l[n]||(l[n]=[]),l.push(a),l.length===2**31-1){if(t=new ai(l),e.fastupdate)for(let c of e.reg.values())c.includes(l)&&(c[c.indexOf(l)]=t);s[n]=l=t}e.fastupdate&&((n=e.reg.get(a))?n.push(l):e.reg.set(a,[l]))}}function Zs(e,t,r,n,a){return r&&e>1?t+(n||0)<=e?r+(a||0):(e-1)/(t+(n||0))*(r+(a||0))+1|0:0}jr.prototype.search=function(e,t,r){if(r||(t||typeof e!="object"?typeof t=="object"&&(r=t,t=0):(r=e,e="")),r&&r.cache)return r.cache=!1,e=this.searchCache(e,t,r),r.cache=!0,e;let n=[],a,i,o,s=0,l,c,u,f,p;r&&(e=r.query||e,t=r.limit||t,s=r.offset||0,i=r.context,o=r.suggest,p=(l=r.resolve)&&r.enrich,u=r.boost,f=r.resolution,c=this.db&&r.tag),typeof l>"u"&&(l=this.resolve),i=this.depth&&i!==!1;let g=this.encoder.encode(e,!i);if(a=g.length,t=t||(l?100:0),a===1)return m0.call(this,g[0],"",t,s,l,p,c);if(a===2&&i&&!o)return m0.call(this,g[1],g[0],t,s,l,p,c);let b=vt(),v=0,y;if(i&&(y=g[0],v=1),f||f===0||(f=y?this.N:this.resolution),this.db){if(this.db.search&&(r=this.db.search(this,g,t,s,o,l,p,c),r!==!1))return r;const w=this;return async function(){for(let k,A;v<a;v++){if((A=g[v])&&!b[A]){if(b[A]=1,k=await xm(w,A,y,0,0,!1,!1),k=y0(k,n,o,f)){n=k;break}y&&(o&&k&&n.length||(y=A))}o&&y&&v===a-1&&!n.length&&(f=w.resolution,y="",v=-1,b=vt())}return p0(n,f,t,s,o,u,l)}()}for(let w,k;v<a;v++){if((k=g[v])&&!b[k]){if(b[k]=1,w=xm(this,k,y,0,0,!1,!1),w=y0(w,n,o,f)){n=w;break}y&&(o&&w&&n.length||(y=k))}o&&y&&v===a-1&&!n.length&&(f=this.resolution,y="",v=-1,b=vt())}return p0(n,f,t,s,o,u,l)};function p0(e,t,r,n,a,i,o){let s=e.length,l=e;if(s>1)l=Cl(e,t,r,n,a,i,o);else if(s===1)return o?Xy.call(null,e[0],r,n):new at(e[0],this);return o?l:new at(l,this)}function m0(e,t,r,n,a,i,o){return e=xm(this,e,t,r,n,a,i,o),this.db?e.then(function(s){return a?s||[]:new at(s,this)}):e&&e.length?a?Xy.call(this,e,r,n):new at(e,this):a?[]:new at([],this)}function y0(e,t,r,n){let a=[];if(e&&e.length){if(e.length<=n){t.push(e);return}for(let i=0,o;i<n;i++)(o=e[i])&&(a[i]=o);if(a.length){t.push(a);return}}if(!r)return a}function xm(e,t,r,n,a,i,o,s){let l;return r&&(l=e.bidirectional&&t>r)&&(l=r,r=t,t=l),e.db?e.db.get(t,r,n,a,i,o,s):(e=r?(e=e.ctx.get(r))&&e.get(t):e.map.get(t),e)}function jr(e,t){if(!this||this.constructor!==jr)return new jr(e);if(e){var r=xr(e)?e:e.preset;r&&(e=Object.assign({},EC[r],e))}else e={};r=e.context;const n=r===!0?{depth:1}:r||{},a=xr(e.encoder)?Lk[e.encoder]:e.encode||e.encoder||{};this.encoder=a.encode?a:typeof a=="object"?new _o(a):{encode:a},this.resolution=e.resolution||9,this.tokenize=r=(r=e.tokenize)&&r!=="default"&&r!=="exact"&&r||"strict",this.depth=r==="strict"&&n.depth||0,this.bidirectional=n.bidirectional!==!1,this.fastupdate=!!e.fastupdate,this.score=e.score||null,(r=e.keystore||0)&&(this.keystore=r),this.map=r?new wr(r):new Map,this.ctx=r?new wr(r):new Map,this.reg=t||(this.fastupdate?r?new wr(r):new Map:r?new Sr(r):new Set),this.N=n.resolution||3,this.rtl=a.rtl||e.rtl||!1,this.cache=(r=e.cache||null)&&new xa(r),this.resolve=e.resolve!==!1,(r=e.db)&&(this.db=this.mount(r)),this.M=e.commit!==!1,this.commit_task=[],this.commit_timer=null,this.priority=e.priority||4}Ae=jr.prototype;Ae.mount=function(e){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),e.mount(this)};Ae.commit=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.commit(this)};Ae.destroy=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.destroy()};function Hk(e){e.commit_timer||(e.commit_timer=setTimeout(function(){e.commit_timer=null,e.db.commit(e)},1))}Ae.clear=function(){return this.map.clear(),this.ctx.clear(),this.reg.clear(),this.cache&&this.cache.clear(),this.db?(this.commit_timer&&clearTimeout(this.commit_timer),this.commit_timer=null,this.commit_task=[],this.db.clear()):this};Ae.append=function(e,t){return this.add(e,t,!0)};Ae.contain=function(e){return this.db?this.db.has(e):this.reg.has(e)};Ae.update=function(e,t){const r=this,n=this.remove(e);return n&&n.then?n.then(()=>r.add(e,t)):this.add(e,t)};Ae.cleanup=function(){return this.fastupdate?(Po(this.map),this.depth&&Po(this.ctx),this):this};Ae.searchCache=Vy;Ae.export=function(e,t,r=0,n=0){let a,i;switch(n){case 0:a="reg",i=Kk(this.reg);break;case 1:a="cfg",i=null;break;case 2:a="map",i=Qy(this.map,this.reg.size);break;case 3:a="ctx",i=zk(this.ctx,this.reg.size);break;default:return}return Ml.call(this,e,t,a,i,r,n)};Ae.import=function(e,t){if(t)switch(typeof t=="string"&&(t=JSON.parse(t)),e=e.split("."),e[e.length-1]==="json"&&e.pop(),e.length===3&&e.shift(),e=e.length>1?e[1]:e[0],e){case"reg":this.fastupdate=!1,this.reg=Gk(t,this.reg);break;case"map":this.map=Zy(t,this.map);break;case"ctx":this.ctx=Uk(t,this.ctx)}};Ae.serialize=function(e=!0){let t="",r="",n="";if(this.reg.size){let i;for(var a of this.reg.keys())i||(i=typeof a),t+=(t?",":"")+(i==="string"?'"'+a+'"':a);t="index.reg=new Set(["+t+"]);",r=h0(this.map,i),r="index.map=new Map(["+r+"]);";for(const o of this.ctx.entries()){a=o[0];let s=h0(o[1],i);s="new Map(["+s+"])",s='["'+a+'",'+s+"]",n+=(n?",":"")+s}n="index.ctx=new Map(["+n+"]);"}return e?"function inject(index){"+t+r+n+"}":t+r+n};Yy(jr.prototype);const Vk=typeof window<"u"&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),Dl=["map","ctx","tag","reg","cfg"],ra=vt();function wm(e,t={}){if(!this||this.constructor!==wm)return new wm(e,t);typeof e=="object"&&(t=e,e=e.name),e||console.info("Default storage space was used, because a name was not passed."),this.id="flexsearch"+(e?":"+e.toLowerCase().replace(/[^a-z0-9_\-]/g,""):""),this.field=t.field?t.field.toLowerCase().replace(/[^a-z0-9_\-]/g,""):"",this.type=t.type,this.fastupdate=this.support_tag_search=!1,this.db=null,this.h={}}Ae=wm.prototype;Ae.mount=function(e){return e.index?e.mount(this):(e.db=this,this.open())};Ae.open=function(){if(this.db)return this.db;let e=this;navigator.storage&&navigator.storage.persist(),ra[e.id]||(ra[e.id]=[]),ra[e.id].push(e.field);const t=Vk.open(e.id,1);return t.onupgradeneeded=function(){const r=e.db=this.result;for(let n=0,a;n<Dl.length;n++){a=Dl[n];for(let i=0,o;i<ra[e.id].length;i++)o=ra[e.id][i],r.objectStoreNames.contains(a+(a!=="reg"&&o?":"+o:""))||r.createObjectStore(a+(a!=="reg"&&o?":"+o:""))}},e.db=Rn(t,function(r){e.db=r,e.db.onversionchange=function(){e.close()}})};Ae.close=function(){this.db&&this.db.close(),this.db=null};Ae.destroy=function(){const e=Vk.deleteDatabase(this.id);return Rn(e)};Ae.clear=function(){const e=[];for(let r=0,n;r<Dl.length;r++){n=Dl[r];for(let a=0,i;a<ra[this.id].length;a++)i=ra[this.id][a],e.push(n+(n!=="reg"&&i?":"+i:""))}const t=this.db.transaction(e,"readwrite");for(let r=0;r<e.length;r++)t.objectStore(e[r]).clear();return Rn(t)};Ae.get=function(e,t,r=0,n=0,a=!0,i=!1){e=this.db.transaction((t?"ctx":"map")+(this.field?":"+this.field:""),"readonly").objectStore((t?"ctx":"map")+(this.field?":"+this.field:"")).get(t?t+":"+e:e);const o=this;return Rn(e).then(function(s){let l=[];if(!s||!s.length)return l;if(a){if(!r&&!n&&s.length===1)return s[0];for(let c=0,u;c<s.length;c++)if((u=s[c])&&u.length){if(n>=u.length){n-=u.length;continue}const f=r?n+Math.min(u.length-n,r):u.length;for(let p=n;p<f;p++)l.push(u[p]);if(n=0,l.length===r)break}return i?o.enrich(l):l}return s})};Ae.tag=function(e,t=0,r=0,n=!1){e=this.db.transaction("tag"+(this.field?":"+this.field:""),"readonly").objectStore("tag"+(this.field?":"+this.field:"")).get(e);const a=this;return Rn(e).then(function(i){return!i||!i.length||r>=i.length?[]:!t&&!r?i:(i=i.slice(r,r+t),n?a.enrich(i):i)})};Ae.enrich=function(e){typeof e!="object"&&(e=[e]);const t=this.db.transaction("reg","readonly").objectStore("reg"),r=[];for(let n=0;n<e.length;n++)r[n]=Rn(t.get(e[n]));return Promise.all(r).then(function(n){for(let a=0;a<n.length;a++)n[a]={id:e[a],doc:n[a]?JSON.parse(n[a]):null};return n})};Ae.has=function(e){return e=this.db.transaction("reg","readonly").objectStore("reg").getKey(e),Rn(e).then(function(t){return!!t})};Ae.search=null;Ae.info=function(){};Ae.transaction=function(e,t,r){e+=e!=="reg"&&this.field?":"+this.field:"";let n=this.h[e+":"+t];if(n)return r.call(this,n);let a=this.db.transaction(e,t);this.h[e+":"+t]=n=a.objectStore(e);const i=r.call(this,n);return this.h[e+":"+t]=null,Rn(a).finally(function(){return a=n=null,i})};Ae.commit=async function(e){let t=e.commit_task,r=[];e.commit_task=[];for(let n=0,a;n<t.length;n++)a=t[n],a.del&&r.push(a.del);r.length&&await this.remove(r),e.reg.size&&(await this.transaction("map","readwrite",function(n){for(const a of e.map){const i=a[0],o=a[1];o.length&&(n.get(i).onsuccess=function(){let s=this.result;var l;if(s&&s.length){const c=Math.max(s.length,o.length);for(let u=0,f,p;u<c;u++)if((p=o[u])&&p.length){if((f=s[u])&&f.length)for(l=0;l<p.length;l++)f.push(p[l]);else s[u]=p;l=1}}else s=o,l=1;l&&n.put(s,i)})}}),await this.transaction("ctx","readwrite",function(n){for(const a of e.ctx){const i=a[0],o=a[1];for(const s of o){const l=s[0],c=s[1];c.length&&(n.get(i+":"+l).onsuccess=function(){let u=this.result;var f;if(u&&u.length){const p=Math.max(u.length,c.length);for(let g=0,b,v;g<p;g++)if((v=c[g])&&v.length){if((b=u[g])&&b.length)for(f=0;f<v.length;f++)b.push(v[f]);else u[g]=v;f=1}}else u=c,f=1;f&&n.put(u,i+":"+l)})}}}),e.store?await this.transaction("reg","readwrite",function(n){for(const a of e.store){const i=a[0],o=a[1];n.put(typeof o=="object"?JSON.stringify(o):1,i)}}):e.bypass||await this.transaction("reg","readwrite",function(n){for(const a of e.reg.keys())n.put(1,a)}),e.tag&&await this.transaction("tag","readwrite",function(n){for(const a of e.tag){const i=a[0],o=a[1];o.length&&(n.get(i).onsuccess=function(){let s=this.result;s=s&&s.length?s.concat(o):o,n.put(s,i)})}}),e.map.clear(),e.ctx.clear(),e.tag&&e.tag.clear(),e.store&&e.store.clear(),e.document||e.reg.clear())};function Zu(e,t,r){const n=e.value;let a,i=0;for(let o=0,s;o<n.length;o++){if(s=r?n:n[o]){for(let l=0,c,u;l<t.length;l++)if(u=t[l],c=s.indexOf(u),c>=0)if(a=1,s.length>1)s.splice(c,1);else{n[o]=[];break}i+=s.length}if(r)break}i?a&&e.update(n):e.delete(),e.continue()}Ae.remove=function(e){return typeof e!="object"&&(e=[e]),Promise.all([this.transaction("map","readwrite",function(t){t.openCursor().onsuccess=function(){const r=this.result;r&&Zu(r,e)}}),this.transaction("ctx","readwrite",function(t){t.openCursor().onsuccess=function(){const r=this.result;r&&Zu(r,e)}}),this.transaction("tag","readwrite",function(t){t.openCursor().onsuccess=function(){const r=this.result;r&&Zu(r,e,!0)}}),this.transaction("reg","readwrite",function(t){for(let r=0;r<e.length;r++)t.delete(e[r])})])};function Rn(e,t){return new Promise((r,n)=>{e.onsuccess=e.oncomplete=function(){t&&t(this.result),t=null,r(this.result)},e.onerror=e.onblocked=n,e=null})}const g0={Index:jr,Document:fa};class NC{index;documentIndex;entries=new Map;constructor(){this.index=new g0.Index({tokenize:"forward",resolution:9}),this.documentIndex=new g0.Document({document:{id:"id",index:["content","plainText","title","tags"],store:!0},tokenize:"forward",resolution:9})}addEntry(t){this.entries.set(t.id,t);const r=`${t.content} ${t.plainText} ${t.metadata.tags.join(" ")}`;this.index.add(t.id,r);const n={id:t.id,content:t.content,plainText:t.plainText,title:this.extractTitle(t.content)||"Untitled",tags:t.metadata.tags.join(" "),created:t.created.toISOString()};this.documentIndex.add(n)}removeEntry(t){this.entries.delete(t),this.index.remove(t),this.documentIndex.remove(t)}updateEntry(t){this.removeEntry(t.id),this.addEntry(t)}async search(t,r={}){const{limit:n=50,suggest:a=!0,fuzzy:i=!0,field:o}=r;if(!t.trim())return[];let s;return o?s=await this.documentIndex.search(t,{index:[o],limit:n,suggest:a,...i&&{enrich:!0}}):s=await this.documentIndex.search(t,{limit:n,suggest:a,...i&&{enrich:!0}}),this.extractEntryIds(s).map(c=>this.entries.get(c)).filter(c=>c!==void 0).slice(0,n)}async getSuggestions(t,r=10){if(!t.trim())return[];const n=await this.index.search(t,{limit:r,suggest:!0});return Array.isArray(n)?n.slice(0,r):[]}async searchByTags(t,r=50){const n=t.map(a=>`#${a}`).join(" ");return this.search(n,{limit:r,field:"tags"})}async searchByDateRange(t,r,n){let i=Array.from(this.entries.values()).filter(o=>{const s=new Date(o.created);return s>=t&&s<=r});if(n){const o=await this.search(n),s=new Set(o.map(l=>l.id));i=i.filter(l=>s.has(l.id))}return i.sort((o,s)=>new Date(s.created).getTime()-new Date(o.created).getTime())}initializeIndex(t){this.clear(),t.forEach(r=>this.addEntry(r))}clear(){this.entries.clear(),this.index.clear(),this.documentIndex.clear()}getStats(){return{totalEntries:this.entries.size,indexSize:this.entries.size}}extractTitle(t){const r=t.match(/<h[1-6][^>]*>([^<]+)<\/h[1-6]>/i);if(r)return r[1].trim();const n=t.match(/<p[^>]*>([^<]+)<\/p>/i);if(n){const a=n[1].trim();return a.length>50?a.substring(0,50)+"...":a}return null}extractEntryIds(t){if(!Array.isArray(t))return[];const r=[];for(const n of t)typeof n=="string"?r.push(n):n&&typeof n=="object"&&(n.result&&Array.isArray(n.result)?r.push(...n.result):n.id&&r.push(n.id));return[...new Set(r)]}}const Nr=new NC;class CC extends Nl{entries;preferences;aiAnalyses;weeklySummaries;weeklySummaryAnalyses;constructor(){super("ReflectJournal"),this.version(1).stores({entries:"id, created, modified, [metadata.wordCount]",preferences:"id"}),this.version(2).stores({entries:"id, created, modified, [metadata.wordCount]",preferences:"id",aiAnalyses:"id, entryId, createdAt"}),this.version(3).stores({entries:"id, created, modified, targetDate, [metadata.wordCount]",preferences:"id",aiAnalyses:"id, entryId, createdAt"}).upgrade(t=>t.table("entries").toCollection().modify(r=>{r.targetDate=r.created})),this.version(4).stores({entries:"id, created, modified, targetDate, [metadata.wordCount]",preferences:"id",aiAnalyses:"id, entryId, createdAt",weeklySummaries:"id, weekStartDate, weekEndDate, [year+weekNumber], createdAt",weeklySummaryAnalyses:"id, weeklySummaryId, createdAt"})}}const $e=new CC,_e={async createEntry(e,t){const r=new Date,n=t||r,a={id:crypto.randomUUID(),created:r,modified:r,targetDate:n,...e};return await $e.entries.add(a),Nr.addEntry(a),a},async updateEntry(e,t){await $e.entries.update(e,{...t,modified:new Date});const r=await this.getEntry(e);r&&Nr.updateEntry(r)},async deleteEntry(e){await $e.entries.delete(e),Nr.removeEntry(e)},async getEntry(e){return await $e.entries.get(e)},async getAllEntries(){const e=await $e.entries.orderBy("targetDate").reverse().toArray();return Nr.getStats().totalEntries===0&&e.length>0&&Nr.initializeIndex(e),e},async getEntriesByDateRange(e,t){return await $e.entries.where("targetDate").between(e,t,!0,!0).toArray()},async getEntryByDate(e){const t=e.toISOString().split("T")[0];return(await $e.entries.where("targetDate").between(new Date(t+"T00:00:00.000Z"),new Date(t+"T23:59:59.999Z"),!0,!0).toArray())[0]},async searchEntries(e,t){return e.trim()?await Nr.search(e,t):[]},async searchEntriesByTags(e){return await Nr.searchByTags(e)},async searchEntriesByDateRange(e,t,r){return await Nr.searchByDateRange(e,t,r)},async getSearchSuggestions(e){return await Nr.getSuggestions(e)},async getCalendarData(e,t){const r=new Date(e,t,1),n=new Date(e,t+1,0,23,59,59,999),a=await $e.entries.where("targetDate").between(r,n,!0,!0).toArray(),i=new Map;for(const o of a){const s=o.targetDate.toISOString().split("T")[0],l=await this.getAIAnalysisForEntry(o.id);i.set(s,{wordCount:o.metadata.wordCount,preview:o.plainText.substring(0,100),aiAnalysis:l})}return i},async getCurrentStreak(){const e=new Date;let t=0,r=new Date(e);for(;await this.getEntryByDate(r);)t++,r.setDate(r.getDate()-1);return t},async getPreferences(){const e=await $e.preferences.get("default");if(e)return e;const t={id:"default",theme:"auto",fontSize:"medium",dailyPrompts:!0,autoSave:!0};return await $e.preferences.add(t),t},async updatePreferences(e){await $e.preferences.update("default",e)},async saveAIAnalysis(e){const t=new Date,r={...e,id:crypto.randomUUID(),createdAt:t,updatedAt:t};return await this.deleteAIAnalysisForEntry(e.entryId),await $e.aiAnalyses.add(r),r},async getAIAnalysisForEntry(e){return await $e.aiAnalyses.where("entryId").equals(e).first()},async deleteAIAnalysisForEntry(e){await $e.aiAnalyses.where("entryId").equals(e).delete()},async getAllAIAnalyses(){return await $e.aiAnalyses.orderBy("createdAt").reverse().toArray()},async getAIAnalysesByDateRange(e,t){return await $e.aiAnalyses.where("createdAt").between(e,t,!0,!0).toArray()},async getRecentAIAnalyses(e=10){return await $e.aiAnalyses.orderBy("createdAt").reverse().limit(e).toArray()},async exportData(){const e=await this.getAllEntries(),t=await this.getPreferences(),r=await this.getAllAIAnalyses(),n=await this.getAllWeeklySummaries(),a=await this.getAllWeeklySummaryAnalyses();return{entries:e,preferences:t,aiAnalyses:r,weeklySummaries:n,weeklySummaryAnalyses:a}},async importData(e){await $e.entries.clear(),await $e.aiAnalyses.clear(),await $e.weeklySummaries.clear(),await $e.weeklySummaryAnalyses.clear(),await $e.entries.bulkAdd(e.entries),e.aiAnalyses&&await $e.aiAnalyses.bulkAdd(e.aiAnalyses),e.weeklySummaries&&await $e.weeklySummaries.bulkAdd(e.weeklySummaries),e.weeklySummaryAnalyses&&await $e.weeklySummaryAnalyses.bulkAdd(e.weeklySummaryAnalyses),e.preferences&&await $e.preferences.put(e.preferences),Nr.initializeIndex(e.entries)},async saveWeeklySummary(e){const t=new Date,r={...e,id:crypto.randomUUID(),createdAt:t,updatedAt:t};return await this.deleteWeeklySummaryByWeek(e.weekStartDate,e.weekEndDate),await $e.weeklySummaries.add(r),r},async getWeeklySummary(e){return await $e.weeklySummaries.get(e)},async getWeeklySummaryByWeek(e,t){return await $e.weeklySummaries.where("weekStartDate").equals(e).and(r=>r.weekEndDate.getTime()===t.getTime()).first()},async getWeeklySummariesByDateRange(e,t){return await $e.weeklySummaries.where("weekStartDate").between(e,t,!0,!0).toArray()},async getAllWeeklySummaries(){return await $e.weeklySummaries.orderBy("weekStartDate").reverse().toArray()},async updateWeeklySummary(e,t){await $e.weeklySummaries.update(e,{...t,updatedAt:new Date})},async deleteWeeklySummary(e){await $e.weeklySummaries.delete(e),await $e.weeklySummaryAnalyses.where("weeklySummaryId").equals(e).delete()},async deleteWeeklySummaryByWeek(e,t){const r=await this.getWeeklySummaryByWeek(e,t);r&&await this.deleteWeeklySummary(r.id)},async saveWeeklySummaryAnalysis(e){const t=new Date,r={...e,id:crypto.randomUUID(),createdAt:t,updatedAt:t};return await this.deleteWeeklySummaryAnalysisForSummary(e.weeklySummaryId),await $e.weeklySummaryAnalyses.add(r),r},async getWeeklySummaryAnalysisForSummary(e){return await $e.weeklySummaryAnalyses.where("weeklySummaryId").equals(e).first()},async deleteWeeklySummaryAnalysisForSummary(e){await $e.weeklySummaryAnalyses.where("weeklySummaryId").equals(e).delete()},async getAllWeeklySummaryAnalyses(){return await $e.weeklySummaryAnalyses.orderBy("createdAt").reverse().toArray()},async getWeeklySummaryAnalysesByDateRange(e,t){const r=await this.getWeeklySummariesByDateRange(e,t),n=[];for(const a of r){const i=await this.getWeeklySummaryAnalysisForSummary(a.id);i&&n.push(i)}return n},getWeekBounds(e){const t=new Date(e),r=t.getDay(),n=t.getDate()-r+(r===0?-6:1),a=new Date(t.setDate(n));a.setHours(0,0,0,0);const i=new Date(a);i.setDate(a.getDate()+6),i.setHours(23,59,59,999);const o=new Date(a.getFullYear(),0,1),s=Math.ceil(((a.getTime()-o.getTime())/864e5+o.getDay()+1)/7);return{weekStartDate:a,weekEndDate:i,weekNumber:s,year:a.getFullYear()}},async getWeeksWithEntries(e,t){const r=await this.getEntriesByDateRange(e,t),n=new Map;return r.forEach(a=>{const{weekStartDate:i,weekEndDate:o}=this.getWeekBounds(a.targetDate),s=`${i.toISOString()}-${o.toISOString()}`;n.has(s)||n.set(s,{weekStart:i,weekEnd:o,entries:[]}),n.get(s).entries.push(a)}),Array.from(n.values()).map(a=>({...a,entryCount:a.entries.length})).sort((a,i)=>a.weekStart.getTime()-i.weekStart.getTime())}},eg=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{const o=await _e.getPreferences();t(o)}catch(o){console.error("Failed to load preferences:",o)}finally{n(!1)}})()},[]),{preferences:e,updatePreferences:async i=>{if(e)try{await _e.updatePreferences(i),t({...e,...i})}catch(o){console.error("Failed to update preferences:",o)}},loading:r}};function Yk(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Yk(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ue(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Yk(e))&&(n&&(n+=" "),n+=t);return n}const tg="-",TC=e=>{const t=DC(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const s=o.split(tg);return s[0]===""&&s.length!==1&&s.shift(),Xk(s,t)||MC(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},Xk=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?Xk(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(tg);return t.validators.find(({validator:o})=>o(i))?.classGroupId},v0=/^\[(.+)\]$/,MC=e=>{if(v0.test(e)){const t=v0.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},DC=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return RC(Object.entries(e.classGroups),r).forEach(([i,o])=>{Sm(o,n,i,t)}),n},Sm=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:b0(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(IC(a)){Sm(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Sm(o,b0(t,i),r,n)})})},b0=(e,t)=>{let r=e;return t.split(tg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},IC=e=>e.isThemeGetter,RC=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,s])=>[t+o,s])):i);return[r,a]}):e,$C=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},Jk="!",BC=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=s=>{const l=[];let c=0,u=0,f;for(let y=0;y<s.length;y++){let w=s[y];if(c===0){if(w===a&&(n||s.slice(y,y+i)===t)){l.push(s.slice(u,y)),u=y+i;continue}if(w==="/"){f=y;continue}}w==="["?c++:w==="]"&&c--}const p=l.length===0?s:s.substring(u),g=p.startsWith(Jk),b=g?p.substring(1):p,v=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:v}};return r?s=>r({className:s,parseClassName:o}):o},LC=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},qC=e=>({cache:$C(e.cacheSize),parseClassName:BC(e),...TC(e)}),FC=/\s+/,WC=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(FC);let s="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=r(c);let b=!!g,v=n(b?p.substring(0,g):p);if(!v){if(!b){s=c+(s.length>0?" "+s:s);continue}if(v=n(p),!v){s=c+(s.length>0?" "+s:s);continue}b=!1}const y=LC(u).join(":"),w=f?y+Jk:y,k=w+v;if(i.includes(k))continue;i.push(k);const A=a(v,b);for(let E=0;E<A.length;++E){const j=A[E];i.push(w+j)}s=c+(s.length>0?" "+s:s)}return s};function zC(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Qk(t))&&(n&&(n+=" "),n+=r);return n}const Qk=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Qk(e[n]))&&(r&&(r+=" "),r+=t);return r};function UC(e,...t){let r,n,a,i=o;function o(l){const c=t.reduce((u,f)=>f(u),e());return r=qC(c),n=r.cache.get,a=r.cache.set,i=s,s(l)}function s(l){const c=n(l);if(c)return c;const u=WC(l,r);return a(l,u),u}return function(){return i(zC.apply(null,arguments))}}const rt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Zk=/^\[(?:([a-z-]+):)?(.+)\]$/i,KC=/^\d+\/\d+$/,GC=new Set(["px","full","screen"]),HC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ur=e=>Ja(e)||GC.has(e)||KC.test(e),wn=e=>Ci(e,"length",iT),Ja=e=>!!e&&!Number.isNaN(Number(e)),ef=e=>Ci(e,"number",Ja),Zi=e=>!!e&&Number.isInteger(Number(e)),QC=e=>e.endsWith("%")&&Ja(e.slice(0,-1)),De=e=>Zk.test(e),Sn=e=>HC.test(e),ZC=new Set(["length","size","percentage"]),eT=e=>Ci(e,ZC,eA),tT=e=>Ci(e,"position",eA),rT=new Set(["image","url"]),nT=e=>Ci(e,rT,sT),aT=e=>Ci(e,"",oT),eo=()=>!0,Ci=(e,t,r)=>{const n=Zk.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},iT=e=>VC.test(e)&&!YC.test(e),eA=()=>!1,oT=e=>XC.test(e),sT=e=>JC.test(e),lT=()=>{const e=rt("colors"),t=rt("spacing"),r=rt("blur"),n=rt("brightness"),a=rt("borderColor"),i=rt("borderRadius"),o=rt("borderSpacing"),s=rt("borderWidth"),l=rt("contrast"),c=rt("grayscale"),u=rt("hueRotate"),f=rt("invert"),p=rt("gap"),g=rt("gradientColorStops"),b=rt("gradientColorStopPositions"),v=rt("inset"),y=rt("margin"),w=rt("opacity"),k=rt("padding"),A=rt("saturate"),E=rt("scale"),j=rt("sepia"),O=rt("skew"),P=rt("space"),T=rt("translate"),M=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",De,t],B=()=>[De,t],z=()=>["",Ur,wn],Q=()=>["auto",Ja,De],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",De],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[Ja,De];return{cacheSize:500,separator:":",theme:{colors:[eo],spacing:[Ur,wn],blur:["none","",Sn,De],brightness:fe(),borderColor:[e],borderRadius:["none","","full",Sn,De],borderSpacing:B(),borderWidth:z(),contrast:fe(),grayscale:re(),hueRotate:fe(),invert:re(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[QC,wn],inset:I(),margin:I(),opacity:fe(),padding:B(),saturate:fe(),scale:fe(),sepia:re(),skew:fe(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[Sn]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),De]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zi,De]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",Zi,De]}],"grid-cols":[{"grid-cols":[eo]}],"col-start-end":[{col:["auto",{span:["full",Zi,De]},De]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[eo]}],"row-start-end":[{row:["auto",{span:[Zi,De]},De]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...ue()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ue(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ue(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,t]}],"min-w":[{"min-w":[De,t,"min","max","fit"]}],"max-w":[{"max-w":[De,t,"none","full","min","max","fit","prose",{screen:[Sn]},Sn]}],h:[{h:[De,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Sn,wn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ef]}],"font-family":[{font:[eo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",Ja,ef]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ur,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ur,wn]}],"underline-offset":[{"underline-offset":["auto",Ur,De]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),tT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Z()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Ur,De]}],"outline-w":[{outline:[Ur,wn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ur,wn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Sn,aT]}],"shadow-color":[{shadow:[eo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Sn,De]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[A]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Zi,De]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ur,wn,ef]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cT=UC(lT);function ut(...e){return cT(Ue(e))}const Ga={countWords:e=>e.trim()?e.trim().split(/\s+/).length:0,estimateReadingTime:e=>Math.ceil(e/200),stripHtml:e=>new DOMParser().parseFromString(e,"text/html").body.textContent||"",truncate:(e,t)=>e.length<=t?e:e.substring(0,t).trim()+"...",extractTags:e=>{const t=/#([a-zA-Z0-9_]+)/g,r=e.match(t);return r?r.map(n=>n.substring(1)):[]}},Be={formatDate:e=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(e),formatTime:e=>new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).format(e),isToday:e=>{const t=new Date;return e.toDateString()===t.toDateString()},isSameDay:(e,t)=>e.toDateString()===t.toDateString(),getDateKey:e=>e.toISOString().split("T")[0],startOfDay:e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},endOfDay:e=>{const t=new Date(e);return t.setHours(23,59,59,999),t}},Eo={getSystemTheme:()=>typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",applyTheme:e=>{const t=document.documentElement;if(e==="auto"){const r=Eo.getSystemTheme();t.classList.toggle("dark",r==="dark")}else t.classList.toggle("dark",e==="dark")}},tf={save:(e,t)=>{typeof window<"u"&&window.sessionStorage.setItem(e,JSON.stringify(t))},load:e=>{if(typeof window<"u"){const t=window.sessionStorage.getItem(e);return t?JSON.parse(t):null}return null},remove:e=>{typeof window<"u"&&window.sessionStorage.removeItem(e)}},uT=[{name:"Today",href:"/",icon:TE,description:"Write your daily entry"},{name:"Journal",href:"/entries",icon:tn,description:"Browse all entries"},{name:"Calendar",href:"/calendar",icon:va,description:"Calendar view"},{name:"Weekly",href:"/weekly-summaries",icon:Ir,description:"AI weekly summaries"},{name:"Insights",href:"/insights",icon:Sk,description:"Happiness metrics"}],fT=[{name:"Export",href:"/export",icon:Mc,description:"Export your data"},{name:"Import",href:"/import",icon:jk,description:"Import entries"},{name:"Settings",href:"/settings",icon:kk,description:"App preferences"}],dT=({children:e})=>{const{preferences:t}=eg(),r=Ei();N.useEffect(()=>{t?.theme&&Eo.applyTheme(t.theme)},[t?.theme]);const n=a=>a==="/"?r.pathname==="/":r.pathname.startsWith(a);return h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[h.jsxs("div",{className:"fixed inset-y-0 left-0 z-40 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 shadow-sm",children:[h.jsx("div",{className:"flex items-center justify-center h-16 px-6 border-b border-gray-200 dark:border-gray-700",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center",children:h.jsx(tn,{className:"w-5 h-5 text-white"})}),h.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Reflect"})]})}),h.jsxs("nav",{className:"mt-6 px-3",children:[h.jsx("div",{className:"space-y-1",children:uT.map(a=>{const i=n(a.href);return h.jsxs(Zv,{to:a.href,className:ut("group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors",{"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300":i,"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":!i}),children:[h.jsx(a.icon,{className:ut("mr-3 h-5 w-5 transition-colors",{"text-emerald-600 dark:text-emerald-400":i,"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-300":!i})}),h.jsxs("div",{children:[h.jsx("div",{children:a.name}),h.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.description})]})]},a.name)})}),h.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:h.jsx("div",{className:"space-y-1",children:fT.map(a=>{const i=n(a.href);return h.jsxs(Zv,{to:a.href,className:ut("group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors",{"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300":i,"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":!i}),children:[h.jsx(a.icon,{className:ut("mr-3 h-4 w-4 transition-colors",{"text-emerald-600 dark:text-emerald-400":i,"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-300":!i})}),a.name]},a.name)})})})]}),h.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t border-gray-200 dark:border-gray-700",children:h.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:[h.jsx("div",{children:"Local-first journaling"}),h.jsx("div",{className:"mt-1",children:"Your data stays private"})]})})]}),h.jsx("div",{className:"ml-64",children:h.jsx("main",{className:"py-6 px-8",children:e})})]})};var hT=jE,pT=kE,mT=e=>ht({find:/--$/,replace:e??"—"}),yT=e=>ht({find:/\.\.\.$/,replace:e??"…"}),gT=e=>ht({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:e??"“"}),vT=e=>ht({find:/"$/,replace:e??"”"}),bT=e=>ht({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:e??"‘"}),xT=e=>ht({find:/'$/,replace:e??"’"}),wT=e=>ht({find:/<-$/,replace:e??"←"}),ST=e=>ht({find:/->$/,replace:e??"→"}),jT=e=>ht({find:/\(c\)$/,replace:e??"©"}),kT=e=>ht({find:/\(tm\)$/,replace:e??"™"}),AT=e=>ht({find:/\(sm\)$/,replace:e??"℠"}),OT=e=>ht({find:/\(r\)$/,replace:e??"®"}),_T=e=>ht({find:/(?:^|\s)(1\/2)\s$/,replace:e??"½"}),PT=e=>ht({find:/\+\/-$/,replace:e??"±"}),ET=e=>ht({find:/!=$/,replace:e??"≠"}),NT=e=>ht({find:/<<$/,replace:e??"«"}),CT=e=>ht({find:/>>$/,replace:e??"»"}),TT=e=>ht({find:/\d+\s?([*x])\s?\d+$/,replace:e??"×"}),MT=e=>ht({find:/\^2$/,replace:e??"²"}),DT=e=>ht({find:/\^3$/,replace:e??"³"}),IT=e=>ht({find:/(?:^|\s)(1\/4)\s$/,replace:e??"¼"}),RT=e=>ht({find:/(?:^|\s)(3\/4)\s$/,replace:e??"¾"}),$T=AE.create({name:"typography",addOptions(){return{closeDoubleQuote:"”",closeSingleQuote:"’",copyright:"©",ellipsis:"…",emDash:"—",laquo:"«",leftArrow:"←",multiplication:"×",notEqual:"≠",oneHalf:"½",oneQuarter:"¼",openDoubleQuote:"“",openSingleQuote:"‘",plusMinus:"±",raquo:"»",registeredTrademark:"®",rightArrow:"→",servicemark:"℠",superscriptThree:"³",superscriptTwo:"²",threeQuarters:"¾",trademark:"™"}},addInputRules(){const e=[];return this.options.emDash!==!1&&e.push(mT(this.options.emDash)),this.options.ellipsis!==!1&&e.push(yT(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&e.push(gT(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&e.push(vT(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&e.push(bT(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&e.push(xT(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&e.push(wT(this.options.leftArrow)),this.options.rightArrow!==!1&&e.push(ST(this.options.rightArrow)),this.options.copyright!==!1&&e.push(jT(this.options.copyright)),this.options.trademark!==!1&&e.push(kT(this.options.trademark)),this.options.servicemark!==!1&&e.push(AT(this.options.servicemark)),this.options.registeredTrademark!==!1&&e.push(OT(this.options.registeredTrademark)),this.options.oneHalf!==!1&&e.push(_T(this.options.oneHalf)),this.options.plusMinus!==!1&&e.push(PT(this.options.plusMinus)),this.options.notEqual!==!1&&e.push(ET(this.options.notEqual)),this.options.laquo!==!1&&e.push(NT(this.options.laquo)),this.options.raquo!==!1&&e.push(CT(this.options.raquo)),this.options.multiplication!==!1&&e.push(TT(this.options.multiplication)),this.options.superscriptTwo!==!1&&e.push(MT(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&e.push(DT(this.options.superscriptThree)),this.options.oneQuarter!==!1&&e.push(IT(this.options.oneQuarter)),this.options.threeQuarters!==!1&&e.push(RT(this.options.threeQuarters)),e}}),BT=$T;const x0=[{id:"1",text:"What made today meaningful?",category:"reflection"},{id:"2",text:"What challenged you today?",category:"challenge"},{id:"3",text:"What are you grateful for?",category:"gratitude"},{id:"4",text:"What did you learn about yourself today?",category:"reflection"},{id:"5",text:"How did you grow today?",category:"reflection"},{id:"6",text:"What moments brought you joy?",category:"gratitude"},{id:"7",text:"What would you do differently?",category:"reflection"},{id:"8",text:"Who impacted your day positively?",category:"gratitude"}],LT=(e=new Date)=>{const r=Math.floor((e.getTime()-new Date(e.getFullYear(),0,0).getTime())/1e3/60/60/24)%x0.length;return x0[r]},qT=({continuous:e=!0,interimResults:t=!0,lang:r="en-US",onResult:n,onError:a,onStart:i,onEnd:o}={})=>{const[s,l]=N.useState(!1),[c,u]=N.useState(""),[f,p]=N.useState(""),[g,b]=N.useState(""),[v,y]=N.useState(null),[w,k]=N.useState(!1),A=N.useRef(null),E=N.useRef(!1),j=N.useRef(null);N.useEffect(()=>{const M=window.SpeechRecognition||window.webkitSpeechRecognition,K=!!M;if(console.log("Speech recognition browser support check:",{SpeechRecognition:!!window.SpeechRecognition,webkitSpeechRecognition:!!window.webkitSpeechRecognition,supported:K,userAgent:navigator.userAgent}),k(K),!M){console.warn("Speech recognition not supported in this browser");return}console.log("Initializing speech recognition with config:",{continuous:e,interimResults:t,lang:r,maxAlternatives:1});const I=new M;return I.continuous=e,I.interimResults=t,I.lang=r,I.maxAlternatives=1,I.onresult=B=>{console.log("Speech recognition result event:",{resultIndex:B.resultIndex,resultsLength:B.results.length,event:B});let z="",Q="";for(let X=B.resultIndex;X<B.results.length;X++){const Z=B.results[X],le=Z[0].transcript;console.log("Processing result:",{index:X,isFinal:Z.isFinal,transcript:le,confidence:Z[0].confidence}),Z.isFinal?Q+=le:z+=le}if(Q){const X=Q.trim();console.log("Final text to process:",X),b(Z=>Z+X+" "),u(Z=>Z+X+" "),n?.(X,!0),p("")}if(z&&!Q){const X=z.trim();console.log("Interim text to process:",X),p(X),n?.(X,!1)}y(null)},I.onstart=()=>{console.log("Speech recognition started"),l(!0),E.current=!0,y(null),i?.()},I.onend=()=>{console.log("Speech recognition ended"),l(!1),E.current=!1,p(""),o?.()},I.onerror=B=>{console.error("Speech recognition error:",B);let z="Speech recognition error";switch(B.error){case"no-speech":z="No speech detected. Please try speaking closer to the microphone.";break;case"audio-capture":z="Audio capture failed. Please check your microphone.";break;case"not-allowed":z="Microphone access denied. Please allow microphone access.";break;case"network":z="Network error occurred. Please check your internet connection.";break;case"aborted":z="Speech recognition was aborted.";break;case"bad-grammar":z="Grammar error in speech recognition.";break;case"language-not-supported":z="Language not supported.";break;default:z=B.message||`Speech recognition error: ${B.error}`}y(z),l(!1),E.current=!1,a?.(z)},I.onnomatch=()=>{console.warn("No speech match found"),y("No speech was recognized. Please try again.")},I.onaudiostart=()=>{console.log("Audio started")},I.onaudioend=()=>{console.log("Audio ended")},I.onsoundstart=()=>{console.log("Sound detected")},I.onsoundend=()=>{console.log("Sound ended")},I.onspeechstart=()=>{console.log("Speech started"),j.current&&(clearTimeout(j.current),j.current=null)},I.onspeechend=()=>{console.log("Speech ended")},A.current=I,()=>{A.current&&E.current&&A.current.stop(),j.current&&clearTimeout(j.current)}},[e,t,r,n,a,i,o]);const O=N.useCallback(()=>{if(console.log("Starting speech recognition...",{isSupported:w,recognitionExists:!!A.current,isCurrentlyListening:E.current}),!w){const M="Speech recognition is not supported in this browser";console.error(M),y(M);return}if(!A.current){const M="Speech recognition is not initialized";console.error(M),y(M);return}if(E.current){console.log("Speech recognition is already active");return}try{console.log("Clearing previous state and starting recognition..."),y(null),p(""),j.current=setTimeout(()=>{E.current&&(console.log("Stopping speech recognition due to timeout (30 seconds)"),P())},3e4),setTimeout(()=>{A.current&&!E.current&&(console.log("Calling recognition.start()"),A.current.start())},100)}catch(M){console.error("Failed to start speech recognition:",M),y("Failed to start speech recognition. Please try again."),l(!1),E.current=!1,j.current&&(clearTimeout(j.current),j.current=null)}},[w]),P=N.useCallback(()=>{A.current&&E.current&&(console.log("Stopping speech recognition..."),A.current.stop(),j.current&&(clearTimeout(j.current),j.current=null))},[]),T=N.useCallback(()=>{u(""),p(""),b(""),y(null)},[]);return N.useEffect(()=>()=>{j.current&&clearTimeout(j.current),A.current&&E.current&&A.current.stop()},[]),{isListening:s,isSupported:w,transcript:c,interimTranscript:f,finalTranscript:g,error:v,startListening:O,stopListening:P,resetTranscript:T}},FT=({editor:e,className:t=""})=>{const r=N.useCallback((u,f)=>{if(console.log("Speech result received:",{transcript:u,isFinal:f,editorExists:!!e}),!e||!u.trim()){console.log("Skipping speech result - no editor or empty transcript");return}try{if(f){const p=e.state.selection.from,g=u.trim(),b=e.state.doc.textContent,y=(p>0&&b.charAt(p-1)!==" "&&b.charAt(p-1)!==""?" ":"")+g+" ";console.log("Inserting final text at position:",p,"Text:",y),e.chain().focus().insertContentAt(p,y).run(),console.log("Text inserted successfully")}else console.log("Interim result:",u)}catch(p){console.error("Error inserting speech text into editor:",p)}},[e]),n=N.useCallback(u=>{console.error("Speech recognition error:",u)},[]),{isListening:a,isSupported:i,error:o,startListening:s,stopListening:l}=qT({continuous:!0,interimResults:!0,lang:"en-US",onResult:r,onError:n}),c=N.useCallback(()=>{if(!i){alert("Speech recognition is not supported in this browser. Please use Chrome, Edge, or Safari.");return}if(!e){console.warn("Editor not available");return}a?l():(e.commands.focus(),s())},[a,i,e,s,l]);return N.useEffect(()=>{o&&console.error("Speech recognition error:",o)},[o]),i?h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:c,className:`
          p-2 transition-colors rounded-md relative
          ${a?"text-red-600 bg-red-50 hover:bg-red-100 dark:text-red-400 dark:bg-red-900/20 dark:hover:bg-red-900/30":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}
          ${o?"text-red-500":""}
          ${t}
        `,title:a?"Stop voice input (Click to stop)":"Start voice input (Click to speak)",children:a?h.jsxs(h.Fragment,{children:[h.jsx(Uv,{className:"w-4 h-4"}),h.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}):h.jsxs(h.Fragment,{children:[h.jsx(Uv,{className:"w-4 h-4"}),o&&h.jsx(ni,{className:"absolute -top-1 -right-1 w-3 h-3 text-red-500"})]})}),o&&h.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-red-600 text-white text-xs rounded whitespace-nowrap z-10",children:[o,h.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-red-600"})]}),a&&h.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-green-600 text-white text-xs rounded whitespace-nowrap z-10",children:["Listening... Speak now",h.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-green-600"})]})]}):h.jsx("button",{className:`p-2 text-gray-400 cursor-not-allowed ${t}`,disabled:!0,title:"Speech recognition not supported in this browser",children:h.jsx(ME,{className:"w-4 h-4"})})},WT=3e4,rf="reflect-draft",tA=({entry:e,targetDate:t,onSave:r,onContentChange:n,className:a=""})=>{const[i,o]=N.useState(!1),[s,l]=N.useState(!1),[c,u]=N.useState(null),[f,p]=N.useState(0),[g,b]=N.useState(!0),[v]=N.useState(()=>LT()),y=N.useRef(),w=N.useRef(null),k=OE({extensions:[_E,BT,pT.configure({className:"has-focus",mode:"all"}),hT.configure({placeholder:({node:O})=>O.type.name==="heading"?"What's the heading?":g?v.text:"Start writing...",showOnlyWhenEditable:!0})],content:e?.content||tf.load(rf)||"",editorProps:{attributes:{class:"prose prose-gray dark:prose-invert max-w-none focus:outline-none min-h-[400px] p-6",spellcheck:"true"}},onUpdate:({editor:O})=>{const P=O.getHTML(),T=O.getText(),M=Ga.countWords(T);p(M),b(T.length===0),tf.save(rf,P),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{A(P,T,M)},WT),n?.(P,M)}}),A=N.useCallback(async(O,P,T)=>{if(!(!O.trim()||O==="<p></p>")){l(!0);try{const M=Ga.extractTags(P),K=Ga.estimateReadingTime(T);if(e)await _e.updateEntry(e.id,{content:O,plainText:P,metadata:{wordCount:T,readingTime:K,tags:M,mood:e.metadata.mood}});else{const I=await _e.createEntry({content:O,plainText:P,metadata:{wordCount:T,readingTime:K,tags:M}},t);r?.(I)}u(new Date),tf.remove(rf)}catch(M){console.error("Auto-save failed:",M)}finally{l(!1)}}},[e,t,r]),E=N.useCallback(()=>{if(!k)return;const O=k.getHTML(),P=k.getText(),T=Ga.countWords(P);A(O,P,T)},[k,A]),j=N.useCallback(()=>{o(!i),i?document.fullscreenElement&&document.exitFullscreen():w.current&&w.current.requestFullscreen&&w.current.requestFullscreen()},[i]);return N.useEffect(()=>{const O=P=>{if(P.key==="Escape"&&i&&(o(!1),document.fullscreenElement&&document.exitFullscreen()),P.ctrlKey||P.metaKey)switch(P.key){case"s":P.preventDefault(),E();break;case"Enter":P.shiftKey&&(P.preventDefault(),j());break}};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[i,E,j]),N.useEffect(()=>{const O=()=>{o(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",O),()=>document.removeEventListener("fullscreenchange",O)},[]),N.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]),k?h.jsxs("div",{ref:w,className:`
        ${i?"fixed inset-0 z-50 bg-white dark:bg-gray-900":"relative"} 
        ${a}
      `,children:[h.jsxs("div",{className:`
        flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700
        ${i?"bg-white dark:bg-gray-900":""}
      `,children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f," words",f>0&&h.jsxs("span",{className:"ml-2",children:[Ga.estimateReadingTime(f)," min read"]})]}),c&&h.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Last saved: ",c.toLocaleTimeString()]}),s&&h.jsxs("div",{className:"text-xs text-emerald-600 dark:text-emerald-400 flex items-center",children:[h.jsx(fm,{className:"w-3 h-3 mr-1 animate-pulse"}),"Saving..."]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(FT,{editor:k}),h.jsx("button",{onClick:E,disabled:s,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:"Save (Ctrl+S)",children:h.jsx(fm,{className:"w-4 h-4"})}),h.jsx("button",{onClick:j,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:i?"Exit fullscreen (ESC)":"Enter fullscreen (Ctrl+Shift+Enter)",children:i?h.jsx(DE,{className:"w-4 h-4"}):h.jsx(IE,{className:"w-4 h-4"})})]})]}),h.jsx("div",{className:`
        ${i?"h-[calc(100vh-80px)] overflow-y-auto":"min-h-[500px]"}
      `,children:h.jsx(PE,{editor:k,className:"h-full"})}),!i&&h.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:h.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[h.jsxs("div",{children:["Keyboard shortcuts: ",h.jsx("kbd",{children:"Ctrl+S"})," Save, ",h.jsx("kbd",{children:"Ctrl+Shift+Enter"})," Fullscreen"]}),h.jsx("div",{children:"Auto-save every 30 seconds • Use #tags to organize your thoughts"})]})})]}):h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsx("div",{className:"text-gray-500",children:"Loading editor..."})})};class zT{worker=null;modelConfig;loadingState={isLoading:!1,progress:0,stage:"idle",error:null};progressCallback;messageCallbacks=new Map;messageCounter=0;constructor(){this.modelConfig={model:"Qwen2.5-1.5B-Instruct-q4f32_1-MLC",model_id:"Qwen2.5-1.5B-Instruct-q4f32_1-MLC",temperature:.7,max_tokens:1e3},this.initializeWorker()}initializeWorker(){try{this.worker=new Worker(new URL("/assets/ai.worker-C7VjRKKY.js",import.meta.url),{type:"module"}),this.worker.onmessage=t=>{const{id:r,type:n,payload:a}=t.data;if(n==="PROGRESS")this.updateLoadingState(a);else if(r&&this.messageCallbacks.has(r)){const{resolve:i,reject:o}=this.messageCallbacks.get(r);this.messageCallbacks.delete(r),n==="SUCCESS"?i(a):n==="ERROR"&&o(new Error(a.error))}},this.worker.onerror=t=>{console.error("Worker error:",t),this.updateLoadingState({isLoading:!1,stage:"error",error:"Worker initialization failed"})}}catch(t){console.error("Failed to initialize AI worker:",t),this.updateLoadingState({isLoading:!1,stage:"error",error:"Web Worker not supported"})}}sendWorkerMessage(t,r){return new Promise((n,a)=>{if(!this.worker){a(new Error("Worker not initialized"));return}const i=`msg_${++this.messageCounter}`;this.messageCallbacks.set(i,{resolve:n,reject:a}),setTimeout(()=>{this.messageCallbacks.has(i)&&(this.messageCallbacks.delete(i),a(new Error("Worker message timeout")))},6e4),this.worker.postMessage({id:i,type:t,payload:r})})}async checkWebGPUSupport(){try{return(await this.sendWorkerMessage("CHECK_WEBGPU")).supported}catch(t){return console.error("Error checking WebGPU support:",t),!1}}setProgressCallback(t){this.progressCallback=t}updateLoadingState(t){this.loadingState={...this.loadingState,...t},this.progressCallback&&this.progressCallback(this.loadingState)}async loadModel(){if(this.loadingState.stage==="ready"){console.log("Model already loaded");return}try{this.updateLoadingState({isLoading:!0,progress:0,stage:"checking-support",error:null}),(await this.sendWorkerMessage("LOAD_MODEL")).loaded&&(this.updateLoadingState({isLoading:!1,progress:100,stage:"ready",error:null}),console.log("WebLLM model loaded successfully in worker"))}catch(t){const r=t instanceof Error?t.message:"Unknown error occurred";throw console.error("Failed to load WebLLM model:",t),this.updateLoadingState({isLoading:!1,progress:0,stage:"error",error:r}),t}}isModelReady(){return this.loadingState.stage==="ready"}getLoadingState(){return{...this.loadingState}}async chatCompletion(t,r){if(!this.isModelReady())throw new Error("Model not loaded. Please load the model first.");try{return(await this.sendWorkerMessage("CHAT_COMPLETION",{messages:t,options:{temperature:r?.temperature??this.modelConfig.temperature,max_tokens:r?.max_tokens??this.modelConfig.max_tokens,stream:r?.stream??!1}})).response||""}catch(n){throw console.error("Chat completion error:",n),n}}async analyzeText(t,r){const n=[];return r&&n.push({role:"system",content:r}),n.push({role:"user",content:t}),this.chatCompletion(n,{temperature:.3,max_tokens:500})}async unloadModel(){try{this.worker&&await this.sendWorkerMessage("UNLOAD_MODEL"),this.updateLoadingState({isLoading:!1,progress:0,stage:"idle",error:null}),console.log("Model unloaded successfully")}catch(t){console.error("Error unloading model:",t)}}getModelConfig(){return{...this.modelConfig}}updateModelConfig(t){this.modelConfig={...this.modelConfig,...t}}destroy(){this.worker&&(this.worker.terminate(),this.worker=null),this.messageCallbacks.clear()}}const nt=new zT,rA=N.createContext(void 0),UT=({children:e})=>{const[t,r]=N.useState({isLoading:!1,progress:0,stage:"idle",error:null}),[n,a]=N.useState(!1),[i,o]=N.useState(null),[s,l]=N.useState(nt.getModelConfig());N.useEffect(()=>{nt.setProgressCallback(y=>{r(y),a(y.stage==="ready")}),r(nt.getLoadingState()),a(nt.isModelReady())},[]),N.useEffect(()=>{(async()=>{try{const w=await nt.checkWebGPUSupport();o(w)}catch(w){console.error("Error checking WebGPU support:",w),o(!1)}})()},[]);const c=N.useCallback(async()=>{try{await nt.loadModel()}catch(y){throw console.error("Failed to load model:",y),y}},[]),u=N.useCallback(async()=>{try{await nt.unloadModel()}catch(y){throw console.error("Failed to unload model:",y),y}},[]),f=N.useCallback(async(y,w)=>{if(!n)throw new Error("Model not ready. Please load the model first.");return nt.analyzeText(y,w)},[n]),p=N.useCallback(async(y,w)=>{if(!n)throw new Error("Model not ready. Please load the model first.");return nt.chatCompletion(y,w)},[n]),g=N.useCallback(y=>{nt.updateModelConfig(y),l(nt.getModelConfig())},[]),b=N.useCallback(async()=>{const y=await nt.checkWebGPUSupport();return o(y),y},[]),v={loadingState:t,isModelReady:n,loadModel:c,unloadModel:u,analyzeText:f,chatCompletion:p,modelConfig:s,updateModelConfig:g,webGPUSupported:i,checkWebGPUSupport:b};return h.jsx(rA.Provider,{value:v,children:e})},$c=()=>{const e=N.useContext(rA);if(e===void 0)throw new Error("useLLM must be used within an LLMProvider");return e},KT=({className:e})=>{const{loadingState:t,isModelReady:r,loadModel:n,unloadModel:a,webGPUSupported:i,checkWebGPUSupport:o}=$c(),[s,l]=N.useState(!1),c=async()=>{l(!0);try{await n()}catch(b){console.error("Failed to load model:",b)}finally{l(!1)}},u=async()=>{try{await a()}catch(b){console.error("Failed to unload model:",b)}},f=()=>{switch(t.stage){case"ready":return"text-green-600";case"error":return"text-red-600";case"idle":return"text-gray-600 dark:text-gray-400";default:return"text-blue-600"}},p=()=>{switch(t.stage){case"ready":return h.jsx(wo,{className:"w-5 h-5 text-green-600"});case"error":return h.jsx(ni,{className:"w-5 h-5 text-red-600"});case"loading":case"downloading":case"compiling":case"initializing":return h.jsx(mo,{className:"w-5 h-5 animate-spin text-blue-600"});default:return h.jsx(rr,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}},g=()=>{switch(t.stage){case"idle":return"Not loaded";case"checking-support":return"Checking WebGPU support...";case"initializing":return"Initializing engine...";case"downloading":return"Downloading model (~1.8GB)...";case"loading":return"Loading model into memory...";case"compiling":return"Compiling for your device...";case"ready":return"Ready for AI analysis";case"error":return t.error||"Error occurred";default:return"Unknown status"}};return h.jsx("div",{className:e,children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"WebGPU Support:"}),h.jsx("span",{className:`text-sm px-2 py-1 rounded ${i===null?"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400":i?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"}`,children:i===null?"Checking...":i?"Supported":"Not Supported"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Model Status:"}),h.jsxs("div",{className:"flex items-center gap-2",children:[p(),h.jsx("span",{className:`text-sm ${f()}`,children:g()})]})]}),t.isLoading&&h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:h.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${t.progress}%`}})}),h.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:[Math.round(t.progress),"% complete"]})]})]}),h.jsx("div",{className:"flex gap-3",children:r?h.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[h.jsx(rr,{className:"w-4 h-4"}),"Unload Model"]}):h.jsxs("button",{onClick:c,disabled:s||t.isLoading||!i,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${s||t.isLoading||!i?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700 text-white"}`,children:[s||t.isLoading?h.jsx(mo,{className:"w-4 h-4 animate-spin"}):h.jsx(Mc,{className:"w-4 h-4"}),s||t.isLoading?"Loading...":"Load AI Model"]})}),!i&&h.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-300 bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg border border-amber-200 dark:border-amber-800",children:[h.jsx(ni,{className:"w-4 h-4 inline mr-1"}),"WebGPU is required for AI features. Please use a compatible browser like Chrome 113+ or Edge 113+."]}),i&&!r&&h.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:[h.jsx(rr,{className:"w-4 h-4 inline mr-1"}),"Load the AI model (Qwen2.5-1.5B-Instruct) to enable sentiment analysis and happiness metrics for your journal entries.",h.jsx("br",{}),h.jsx("strong",{children:"Note:"})," First-time loading requires downloading ~1.8GB."]}),r&&h.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300 bg-green-50 dark:bg-green-900/20 p-3 rounded-lg border border-green-200 dark:border-green-800",children:[h.jsx(wo,{className:"w-4 h-4 inline mr-1"}),'AI analysis is ready! Look for the "Analyze with AI" button in your journal entries.']})]})})},Mt=q.forwardRef(({className:e,variant:t="default",size:r="default",...n},a)=>h.jsx("button",{className:ut("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground shadow hover:bg-primary/90":t==="default","bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90":t==="destructive","border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground":t==="outline","bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80":t==="secondary","hover:bg-accent hover:text-accent-foreground":t==="ghost","text-primary underline-offset-4 hover:underline":t==="link"},{"h-9 px-4 py-2":r==="default","h-8 rounded-md px-3 text-xs":r==="sm","h-10 rounded-md px-8":r==="lg","h-9 w-9":r==="icon"},e),ref:a,...n}));Mt.displayName="Button";const it=q.forwardRef(({className:e,...t},r)=>h.jsx("div",{ref:r,className:ut("rounded-xl border bg-card text-card-foreground shadow",e),...t}));it.displayName="Card";const Kt=q.forwardRef(({className:e,...t},r)=>h.jsx("div",{ref:r,className:ut("flex flex-col space-y-1.5 p-6",e),...t}));Kt.displayName="CardHeader";const Gt=q.forwardRef(({className:e,...t},r)=>h.jsx("h3",{ref:r,className:ut("font-semibold leading-none tracking-tight",e),...t}));Gt.displayName="CardTitle";const GT=q.forwardRef(({className:e,...t},r)=>h.jsx("p",{ref:r,className:ut("text-sm text-muted-foreground",e),...t}));GT.displayName="CardDescription";const lt=q.forwardRef(({className:e,...t},r)=>h.jsx("div",{ref:r,className:ut("p-6 pt-0",e),...t}));lt.displayName="CardContent";const HT=q.forwardRef(({className:e,...t},r)=>h.jsx("div",{ref:r,className:ut("flex items-center p-6 pt-0",e),...t}));HT.displayName="CardFooter";const Mr=q.forwardRef(({className:e,variant:t="default",...r},n)=>h.jsx("div",{ref:n,className:ut("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80":t==="default","border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80":t==="secondary","border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80":t==="destructive","text-foreground":t==="outline"},e),...r}));Mr.displayName="Badge";const nA=q.forwardRef(({className:e,orientation:t="horizontal",...r},n)=>h.jsx("div",{ref:n,className:ut("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));nA.displayName="Separator";class VT{async analyzeSentiment(t){if(!nt.isModelReady())return console.warn("LLM service not ready for sentiment analysis"),null;try{const r=this.createSentimentPrompt(t.content||""),n=this.createSentimentSystemPrompt(),a=await nt.analyzeText(r,n);return this.parseAndValidateSentimentResponse(a,t.id)}catch(r){return console.error("Sentiment analysis error:",r),null}}async batchAnalyze(t){const r=new Map;if(!nt.isModelReady())return console.warn("LLM service not ready for batch sentiment analysis"),r;const n=3;for(let a=0;a<t.length;a+=n){const o=t.slice(a,a+n).map(async s=>{try{const l=await this.analyzeSentiment(s);l&&r.set(s.id,l)}catch(l){console.error(`Sentiment analysis failed for entry ${s.id}:`,l)}});await Promise.all(o),a+n<t.length&&await new Promise(s=>setTimeout(s,200))}return r}createSentimentSystemPrompt(){return`You are an expert emotional intelligence analyst specializing in journal entry analysis. Your task is to analyze the emotional content and sentiment of personal journal entries with empathy and accuracy.

You must respond with valid JSON only, containing exactly these fields:
{
  "sentiment": "very-negative" | "negative" | "neutral" | "positive" | "very-positive",
  "confidence": 0.85,
  "explanation": "Brief explanation of the sentiment analysis",
  "keywords": ["keyword1", "keyword2", "keyword3"]
}

Guidelines:
- Analyze the overall emotional tone and mood
- Consider context and nuance, not just individual words
- Be sensitive to mental health indicators
- Focus on the writer's emotional state, not external events
- Provide 3-5 relevant keywords that influenced your analysis
- Confidence should reflect how certain you are (0.0 to 1.0)
- Keep explanation concise but insightful`}createSentimentPrompt(t){const n=t.length>1500?t.substring(0,1500)+"...":t;return`Analyze the sentiment and emotional tone of this journal entry (${n.split(/\s+/).length} words):

"${n}"

Provide your analysis as JSON with sentiment classification, confidence score, explanation, and relevant keywords.`}parseAndValidateSentimentResponse(t,r){try{const n=this.extractJSONFromResponse(t),a=JSON.parse(n);if(!a.sentiment||typeof a.confidence!="number")throw new Error("Missing required fields in sentiment analysis response");if(!["very-negative","negative","neutral","positive","very-positive"].includes(a.sentiment))throw new Error(`Invalid sentiment type: ${a.sentiment}`);return{sentiment:a.sentiment,confidence:this.clampConfidence(a.confidence),explanation:typeof a.explanation=="string"?a.explanation:"No explanation provided",keywords:Array.isArray(a.keywords)?a.keywords.slice(0,5):[],analyzedAt:new Date}}catch(n){return console.error("Failed to parse sentiment analysis response:",n),console.log("Raw response:",t),{sentiment:"neutral",confidence:.1,explanation:"Analysis failed - using fallback neutral sentiment",keywords:[],analyzedAt:new Date}}}extractJSONFromResponse(t){t=t.replace(/```json\s*|```\s*/g,"");const r=t.indexOf("{"),n=t.lastIndexOf("}");if(r===-1||n===-1||n<=r)throw new Error("No valid JSON object found in response");return t.substring(r,n+1).trim()}clampConfidence(t){return Math.max(0,Math.min(1,t))}getSentimentScore(t){return{"very-negative":1,negative:3,neutral:5,positive:7,"very-positive":9}[t]}calculateAverageSentiment(t){if(t.length===0)return{averageScore:5,dominantSentiment:"neutral",distribution:{"very-negative":0,negative:0,neutral:0,positive:0,"very-positive":0}};const r=t.map(o=>this.getSentimentScore(o.sentiment)),n=r.reduce((o,s)=>o+s,0)/r.length,a={"very-negative":0,negative:0,neutral:0,positive:0,"very-positive":0};t.forEach(o=>{a[o.sentiment]++});const i=Object.entries(a).reduce((o,[s,l])=>l>o[1]?[s,l]:o,["neutral",0])[0];return{averageScore:n,dominantSentiment:i,distribution:a}}}const jm=new VT;class YT{async calculateEntryMetrics(t){if(!nt.isModelReady())return console.warn("LLM service not ready for metrics calculation"),null;try{const r=this.createHappinessPrompt(t.content||""),n=this.createHappinessSystemPrompt(),a=await nt.analyzeText(r,n);return this.parseAndValidateMetricsResponse(a,t.id)}catch(r){return console.error("Happiness metrics calculation error:",r),null}}async calculateAggregatedMetrics(t,r){if(t.length===0)return null;try{const n=r?t.filter(o=>{const s=new Date(o.created);return s>=r.start&&s<=r.end}):t;if(n.length===0)return null;const a=[],i=3;for(let o=0;o<n.length;o+=i){const l=n.slice(o,o+i).map(async u=>await this.calculateEntryMetrics(u)),c=await Promise.all(l);a.push(...c.filter(Boolean)),o+i<n.length&&await new Promise(u=>setTimeout(u,300))}return a.length===0?null:this.aggregateMetrics(a,n.length)}catch(n){return console.error("Aggregated happiness metrics calculation failed:",n),null}}async calculateTimeBasedMetrics(t){const r=new Date,n=new Date(r.getTime()-7*24*60*60*1e3),a=new Date(r.getTime()-30*24*60*60*1e3),i=new Date(r.getTime()-90*24*60*60*1e3),[o,s,l]=await Promise.all([this.calculateAggregatedMetrics(t,{start:n,end:r}),this.calculateAggregatedMetrics(t,{start:a,end:r}),this.calculateAggregatedMetrics(t,{start:i,end:r})]);return{weekly:o,monthly:s,quarterly:l}}generateInsights(t){const r=[];return t.lifeEvaluation>=7?r.push("You show high overall life satisfaction - keep nurturing what brings you joy!"):t.lifeEvaluation<=4&&r.push("Your overall life satisfaction seems lower lately. Consider what changes might help."),t.positiveAffect>=7?r.push("Strong positive emotions shine through your entries - gratitude and joy are evident."):t.positiveAffect<=4&&r.push("You might benefit from activities that bring more positive emotions into your daily life."),t.negativeAffect>=7?r.push("High stress or worry levels detected. Consider stress management techniques or seeking support."):t.negativeAffect<=4&&r.push("You're managing stress well - your emotional balance seems stable."),t.socialSupport>=7?r.push("Strong social connections are evident - your relationships are a source of strength."):t.socialSupport<=4&&r.push("Consider strengthening social connections - reaching out to friends or family might help."),t.personalGrowth>=7?r.push("You show strong personal growth and sense of purpose - keep pursuing meaningful goals."):t.personalGrowth<=4&&r.push("Consider setting new learning goals or exploring activities that provide a sense of accomplishment."),t.overallScore>=7?r.push("Your overall happiness metrics show positive wellbeing across multiple dimensions."):t.overallScore<=4&&r.push("Multiple wellbeing areas could benefit from attention. Small daily improvements can make a big difference."),r.slice(0,4)}createHappinessSystemPrompt(){return`You are a wellbeing expert specializing in analyzing personal journal entries for happiness and life satisfaction metrics. Your analysis follows the 5-dimensional happiness framework used in positive psychology research.

You must respond with valid JSON only, containing exactly these fields:
{
  "lifeEvaluation": 7.2,
  "positiveAffect": 6.8,
  "negativeAffect": 3.1,
  "socialSupport": 8.0,
  "personalGrowth": 7.5,
  "insights": ["insight1", "insight2", "insight3"]
}

Scoring Guidelines (1-10 scale):
- lifeEvaluation: Overall life satisfaction, contentment with life as a whole
- positiveAffect: Joy, gratitude, serenity, interest, hope, pride, amusement, inspiration, awe, love
- negativeAffect: Worry, sadness, anger, stress, pain (higher score = more negative emotions)
- socialSupport: Sense of having people to count on, relationship quality, social connections
- personalGrowth: Learning, sense of purpose, accomplishment, progress toward goals

Be nuanced in your scoring - consider context, tone, and implications beyond surface words.`}createHappinessPrompt(t){const n=t.length>1500?t.substring(0,1500)+"...":t;return`Analyze this journal entry (${n.split(/\s+/).length} words) across the 5 dimensions of happiness and wellbeing:

"${n}"

Provide scores (1-10) for each dimension and 2-3 key insights about the writer's wellbeing state.`}parseAndValidateMetricsResponse(t,r){try{const n=this.extractJSONFromResponse(t),a=JSON.parse(n),i={lifeEvaluation:this.clampScore(a.lifeEvaluation),positiveAffect:this.clampScore(a.positiveAffect),negativeAffect:this.clampScore(a.negativeAffect),socialSupport:this.clampScore(a.socialSupport),personalGrowth:this.clampScore(a.personalGrowth),overallScore:0,analyzedAt:new Date,confidence:this.calculateConfidence(a),insights:Array.isArray(a.insights)?a.insights.slice(0,3):[]};return i.overallScore=this.calculateOverallScore(i),i}catch(n){return console.error("Failed to parse happiness metrics response:",n),console.log("Raw response:",t),{lifeEvaluation:5,positiveAffect:5,negativeAffect:5,socialSupport:5,personalGrowth:5,overallScore:5,analyzedAt:new Date,confidence:.1,insights:["Analysis failed - using fallback neutral metrics"]}}}extractJSONFromResponse(t){t=t.replace(/```json\s*|```\s*/g,"");const r=t.indexOf("{"),n=t.lastIndexOf("}");if(r===-1||n===-1||n<=r)throw new Error("No valid JSON object found in response");return t.substring(r,n+1).trim()}clampScore(t){const r=typeof t=="number"?t:parseFloat(t)||5;return Math.max(1,Math.min(10,r))}calculateConfidence(t){let r=.5;const n=["lifeEvaluation","positiveAffect","negativeAffect","socialSupport","personalGrowth"],a=n.filter(i=>typeof t[i]=="number").length;return r+=a/n.length*.4,Array.isArray(t.insights)&&t.insights.length>0&&(r+=.1),Math.max(0,Math.min(1,r))}calculateOverallScore(t){const r={lifeEvaluation:.25,positiveAffect:.2,negativeAffect:.15,socialSupport:.2,personalGrowth:.2},n=11-t.negativeAffect;return t.lifeEvaluation*r.lifeEvaluation+t.positiveAffect*r.positiveAffect+n*r.negativeAffect+t.socialSupport*r.socialSupport+t.personalGrowth*r.personalGrowth}aggregateMetrics(t,r){const n=t.length,a={lifeEvaluation:t.reduce((i,o)=>i+o.lifeEvaluation,0)/n,positiveAffect:t.reduce((i,o)=>i+o.positiveAffect,0)/n,negativeAffect:t.reduce((i,o)=>i+o.negativeAffect,0)/n,socialSupport:t.reduce((i,o)=>i+o.socialSupport,0)/n,personalGrowth:t.reduce((i,o)=>i+o.personalGrowth,0)/n,overallScore:0,analyzedAt:new Date,confidence:t.reduce((i,o)=>i+o.confidence,0)/n,insights:this.aggregateInsights(t)};return a.overallScore=this.calculateOverallScore(a),a}aggregateInsights(t){const r=t.flatMap(a=>a.insights),n=new Map;return r.forEach(a=>{const i=a.toLowerCase().substring(0,50);n.set(i,(n.get(i)||0)+1)}),Array.from(n.entries()).sort((a,i)=>i[1]-a[1]).slice(0,3).map(([a])=>r.find(i=>i.toLowerCase().startsWith(a))||a)}}const km=new YT,Am={"very-negative":"Very Negative",negative:"Negative",neutral:"Neutral",positive:"Positive","very-positive":"Very Positive"},rg={"very-negative":"#ef4444",negative:"#f97316",neutral:"#6b7280",positive:"#22c55e","very-positive":"#10b981"},aA=({entry:e,onAnalysisComplete:t,className:r})=>{const{isModelReady:n}=$c(),[a,i]=N.useState(!1),[o,s]=N.useState(null),[l,c]=N.useState(null),[u,f]=N.useState(null),[p,g]=N.useState(!1);N.useEffect(()=>{(async()=>{g(!0);try{const A=await _e.getAIAnalysisForEntry(e.id);A&&(s(A.sentiment),c(A.happiness))}catch(A){console.error("Failed to load existing analysis:",A)}finally{g(!1)}})()},[e.id]);const b=async()=>{if(!n){f("AI model not loaded. Please load the model first.");return}i(!0),f(null);try{const[k,A]=await Promise.all([jm.analyzeSentiment(e),km.calculateEntryMetrics(e)]);if(s(k),c(A),k&&A)try{await _e.saveAIAnalysis({entryId:e.id,sentiment:k,happiness:A}),console.log("AI analysis results saved to database")}catch(E){console.error("Failed to save analysis results:",E)}t?.(k,A)}catch(k){const A=k instanceof Error?k.message:"Analysis failed";f(A),console.error("AI analysis failed:",k)}finally{i(!1)}},v=k=>rg[k]||"#6b7280",y=()=>o?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h4",{className:"font-medium text-sm",children:"Sentiment Analysis"}),h.jsx(Mr,{style:{backgroundColor:v(o.sentiment)+"20",color:v(o.sentiment)},children:Am[o.sentiment]})]}),h.jsxs("div",{className:"text-sm text-gray-600",children:[h.jsxs("div",{className:"flex justify-between mb-1",children:[h.jsx("span",{children:"Confidence:"}),h.jsxs("span",{children:[Math.round(o.confidence*100),"%"]})]}),o.explanation&&h.jsxs("p",{className:"mt-2 italic",children:['"',o.explanation,'"']}),o.keywords.length>0&&h.jsxs("div",{className:"mt-2",children:[h.jsx("span",{className:"font-medium",children:"Key emotions: "}),o.keywords.join(", ")]})]})]}):null,w=()=>{if(!l)return null;const k=[{key:"lifeEvaluation",label:"Life Satisfaction",icon:sa},{key:"positiveAffect",label:"Positive Emotions",icon:RE},{key:"socialSupport",label:"Social Connection",icon:$E},{key:"personalGrowth",label:"Growth & Purpose",icon:fs}];return h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h4",{className:"font-medium text-sm",children:"Happiness Metrics"}),h.jsxs(Mr,{variant:"outline",children:["Overall: ",l.overallScore.toFixed(1),"/10"]})]}),h.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:k.map(({key:A,label:E,icon:j})=>{const O=l[A];return h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(j,{className:"w-3 h-3 text-gray-500"}),h.jsxs("span",{className:"truncate",children:[E,":"]}),h.jsx("span",{className:"font-medium",children:O.toFixed(1)})]},A)})}),l.insights.length>0&&h.jsxs("div",{className:"mt-2",children:[h.jsx("span",{className:"font-medium text-xs",children:"Insights:"}),h.jsx("ul",{className:"text-xs text-gray-600 mt-1 space-y-1",children:l.insights.slice(0,2).map((A,E)=>h.jsxs("li",{className:"flex items-start gap-1",children:[h.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),h.jsx("span",{children:A})]},E))})]})]})};return n?p?h.jsx(it,{className:r,children:h.jsx(lt,{className:"pt-4",children:h.jsx("div",{className:"text-center",children:h.jsxs("div",{className:"text-sm text-gray-500 flex items-center justify-center gap-2",children:[h.jsx(mo,{className:"w-4 h-4 animate-spin"}),"Loading analysis..."]})})})}):h.jsx(it,{className:r,children:h.jsxs(lt,{className:"pt-4",children:[!o&&!l&&h.jsx("div",{className:"text-center",children:h.jsxs(Mt,{onClick:b,disabled:a,className:"flex items-center gap-2",children:[a?h.jsx(mo,{className:"w-4 h-4 animate-spin"}):h.jsx(rr,{className:"w-4 h-4"}),a?"Analyzing...":"Analyze with AI"]})}),u&&h.jsxs("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md flex items-center gap-2",children:[h.jsx(ni,{className:"w-4 h-4"}),u]}),(o||l)&&h.jsxs("div",{className:"space-y-4",children:[y(),o&&l&&h.jsx(nA,{}),w(),h.jsx("div",{className:"pt-2 border-t",children:h.jsxs(Mt,{onClick:b,disabled:a,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[a?h.jsx(mo,{className:"w-3 h-3 animate-spin"}):h.jsx(rr,{className:"w-3 h-3"}),a?"Re-analyzing...":"Re-analyze"]})})]})]})}):h.jsx("div",{className:`text-center py-4 ${r}`,children:h.jsxs("div",{className:"text-sm text-gray-500",children:[h.jsx(rr,{className:"w-4 h-4 inline mr-1"}),"Load the AI model to enable analysis"]})})},w0=()=>{const[e,t]=N.useState(),[r,n]=N.useState(!0),a=Ni(),i=new Date,{isModelReady:o}=$c();N.useEffect(()=>{(async()=>{try{const u=await _e.getEntryByDate(i);t(u)}catch(u){console.error("Failed to load today's entry:",u)}finally{n(!1)}})()},[]);const s=c=>{t(c)},l=(c,u)=>{console.log("AI Analysis completed on Today view:",{sentiment:c,metrics:u})};return r?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."})}):h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:Be.formatDate(i)}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:e?"Continue writing your thoughts...":"Start your daily reflection..."})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsxs("button",{onClick:()=>a("/entries"),className:"flex items-center px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[h.jsx(tn,{className:"w-4 h-4 mr-2"}),"All Entries"]}),h.jsxs("button",{onClick:()=>a("/calendar"),className:"flex items-center px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[h.jsx(va,{className:"w-4 h-4 mr-2"}),"Calendar"]})]})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 mb-6",children:h.jsx(tA,{entry:e,onSave:s})}),e&&h.jsx("div",{className:"mb-6",children:h.jsx(aA,{entry:e,onAnalysisComplete:l})}),(!e||!o)&&h.jsxs("div",{className:"mb-6 bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700 text-center",children:[h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[!e&&"Save your journal entry to enable AI analysis",e&&!o&&"Load the AI model in Settings to enable analysis"]}),!o&&h.jsx("button",{onClick:()=>a("/settings"),className:"mt-2 text-sm text-emerald-600 dark:text-emerald-400 hover:underline",children:"Go to Settings"})]})]})},XT=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(""),[o,s]=N.useState([]),[l,c]=N.useState(!1),[u,f]=N.useState(!0),[p,g]=N.useState("all"),b=Ni(),v=N.useRef(null),y=N.useRef();N.useEffect(()=>{(async()=>{try{const T=await _e.getAllEntries();t(T),n(T)}catch(T){console.error("Failed to load entries:",T)}finally{f(!1)}})()},[]),N.useEffect(()=>{if(!a.trim()){n(e),s([]),c(!1);return}return y.current&&clearTimeout(y.current),y.current=setTimeout(async()=>{try{let P;switch(p){case"tags":const T=a.split(" ").map(M=>M.replace("#",""));P=await _e.searchEntriesByTags(T);break;case"fuzzy":P=await _e.searchEntries(a,{fuzzy:!0,suggest:!0});break;default:P=await _e.searchEntries(a,{suggest:!0})}if(n(P),p!=="tags"){const T=await _e.getSearchSuggestions(a);s(T.slice(0,5))}}catch(P){console.error("Search failed:",P),n([]),s([])}},300),c(a.trim().length>0),()=>{y.current&&clearTimeout(y.current)}},[a,e,p]);const w=P=>{b(`/entry/${P.id}`)},k=P=>{i(P.target.value)},A=P=>{i(P),c(!1),v.current?.focus()},E=P=>{g(P),c(!1)},j=()=>{a.trim()&&o.length>0&&c(!0)},O=()=>{setTimeout(()=>c(!1),200)};return u?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading entries..."})}):h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[h.jsx(tn,{className:"w-8 h-8 mr-3"}),"Journal Entries"]}),h.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[e.length," ",e.length===1?"entry":"entries"," in your journal"]})]}),h.jsxs("button",{onClick:()=>b("/calendar"),className:"flex items-center px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[h.jsx(va,{className:"w-4 h-4 mr-2"}),"Calendar View"]})]})}),h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"flex space-x-2 mb-3",children:[h.jsxs("button",{onClick:()=>E("all"),className:`px-3 py-1 text-xs rounded-full transition-colors ${p==="all"?"bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[h.jsx(Kv,{className:"w-3 h-3 inline mr-1"}),"All Content"]}),h.jsxs("button",{onClick:()=>E("tags"),className:`px-3 py-1 text-xs rounded-full transition-colors ${p==="tags"?"bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[h.jsx(BE,{className:"w-3 h-3 inline mr-1"}),"Tags Only"]}),h.jsxs("button",{onClick:()=>E("fuzzy"),className:`px-3 py-1 text-xs rounded-full transition-colors ${p==="fuzzy"?"bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[h.jsx(Dc,{className:"w-3 h-3 inline mr-1"}),"Smart Search"]})]}),h.jsxs("div",{className:"relative",children:[h.jsx(Kv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),h.jsx("input",{ref:v,type:"text",placeholder:`Search entries... ${p==="tags"?"(enter tag names)":p==="fuzzy"?"(smart/fuzzy search)":"(full-text search)"}`,value:a,onChange:k,onFocus:j,onBlur:O,className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-gray-900 dark:text-white"}),l&&o.length>0&&h.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:h.jsxs("div",{className:"p-2",children:[h.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Suggestions:"}),o.map((P,T)=>h.jsx("button",{onClick:()=>A(P),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:P},T))]})})]}),a&&h.jsxs("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:[r.length," result",r.length!==1?"s":""," found",p==="fuzzy"&&" (smart search enabled)",p==="tags"&&" (tag search)"]})]})}),r.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(tn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:a?"No entries found":"No entries yet"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a?"Try a different search term":"Start writing to see your entries here"}),!a&&h.jsx("button",{onClick:()=>b("/"),className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:"Write First Entry"})]}):h.jsx("div",{className:"space-y-4",children:r.map(P=>h.jsx("div",{onClick:()=>w(P),className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700 hover:border-emerald-300 dark:hover:border-emerald-600 cursor-pointer transition-all duration-200 hover:shadow-md",children:h.jsx("div",{className:"flex items-start justify-between",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Be.formatDate(P.targetDate)}),h.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 space-x-3",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ak,{className:"w-3 h-3 mr-1"}),Be.formatTime(P.created)]}),h.jsxs("div",{children:[P.metadata.wordCount," words"]}),h.jsxs("div",{children:[P.metadata.readingTime," min read"]})]})]}),h.jsx("p",{className:"text-gray-700 dark:text-gray-300 line-clamp-3",children:Ga.truncate(P.plainText,200)}),P.metadata.tags.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[P.metadata.tags.slice(0,5).map(T=>h.jsxs("span",{className:"px-2 py-1 text-xs bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 rounded",children:["#",T]},T)),P.metadata.tags.length>5&&h.jsxs("span",{className:"px-2 py-1 text-xs text-gray-500 dark:text-gray-400",children:["+",P.metadata.tags.length-5," more"]})]})]})})},P.id))})]})};class JT{defaultConfig={minEntriesForSummary:2,maxSummaryLength:800,includeEmotionalArc:!0,includeThemes:!0,autoGenerateAnalysis:!0,retryAttempts:3};async generateWeeklySummary(t){try{const{weekStartDate:r,weekEndDate:n,entries:a,includeAnalysis:i=!0}=t;if(a.length<this.defaultConfig.minEntriesForSummary)return{success:!1,error:`Minimum ${this.defaultConfig.minEntriesForSummary} entries required for weekly summary`,summary:{}};const o=await this.generateWeeklyNarrative(a,r,n);if(!o)return{success:!1,error:"Failed to generate weekly summary text",summary:{}};const{weekNumber:s,year:l}=_e.getWeekBounds(r),c=await _e.saveWeeklySummary({weekStartDate:r,weekEndDate:n,weekNumber:s,year:l,summary:o,entryIds:a.map(f=>f.id),wordCount:o.split(/\s+/).length});let u;if(i)try{u=await this.generateWeeklySummaryAnalysis(c)}catch(f){console.warn("Failed to generate weekly analysis, but summary was saved:",f)}return{success:!0,summary:c,analysis:u}}catch(r){return console.error("Error generating weekly summary:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred",summary:{}}}}async generateWeeklyNarrative(t,r,n){const i=t.sort((c,u)=>new Date(c.targetDate).getTime()-new Date(u.targetDate).getTime()).map((c,u)=>`**${Be.formatDate(new Date(c.targetDate))}** (${c.metadata.wordCount} words):
${c.plainText}
`).join(`
---

`),o=`${Be.formatDate(r)} to ${Be.formatDate(n)}`,s=`You are an AI assistant specialized in creating insightful weekly summaries from journal entries. Your task is to synthesize multiple daily journal entries into a cohesive, meaningful weekly narrative.

Your weekly summary should:
1. Capture the overarching themes and patterns of the week
2. Identify significant moments, achievements, or challenges
3. Note emotional progressions or changes throughout the week
4. Highlight personal growth, insights, or realizations
5. Connect related events or thoughts across different days
6. Maintain a reflective, personal tone that honors the original voice

Write in first person and create a flowing narrative that feels natural and insightful. Aim for 400-600 words.`,l=`Please create a weekly summary for the week of ${o}. Here are the daily journal entries:

${i}

Create a cohesive weekly narrative that captures the essence of this week, identifying key themes, emotional arcs, and meaningful moments. Focus on the bigger picture while including specific details that matter.`;try{return(await nt.analyzeText(l,s)).trim()}catch(c){throw console.error("Error generating weekly narrative:",c),new Error("Failed to generate weekly narrative")}}async generateWeeklySummaryAnalysis(t){try{const r=await this.analyzeWeeklySentiment(t.summary),n=await this.analyzeWeeklyHappiness(t.summary),a=await this.extractWeeklyThemes(t.summary),i=await this.analyzeEmotionalArc(t.summary),o=await this.identifyGrowthAreas(t.summary);return await _e.saveWeeklySummaryAnalysis({weeklySummaryId:t.id,sentiment:r,happiness:n,weeklyThemes:a,emotionalArc:i,growthAreas:o})}catch(r){throw console.error("Error generating weekly summary analysis:",r),r}}async analyzeWeeklySentiment(t){const r=`You are an expert in sentiment analysis. Analyze the sentiment of the provided weekly journal summary and respond with a JSON object containing:
- sentiment: one of "very-negative", "negative", "neutral", "positive", "very-positive"
- confidence: a number between 0 and 1
- explanation: a brief explanation of the sentiment analysis
- keywords: an array of 3-5 key emotional words from the text

Only respond with valid JSON.`,n=`Analyze the sentiment of this weekly summary:

${t}`;try{const a=await nt.analyzeText(n,r),i=JSON.parse(a);return{sentiment:i.sentiment,confidence:Math.max(0,Math.min(1,i.confidence||.7)),explanation:i.explanation||"Sentiment analysis completed",keywords:Array.isArray(i.keywords)?i.keywords.slice(0,5):[],analyzedAt:new Date}}catch(a){return console.warn("Failed to parse sentiment analysis, using default:",a),{sentiment:"neutral",confidence:.5,explanation:"Unable to analyze sentiment",keywords:[],analyzedAt:new Date}}}async analyzeWeeklyHappiness(t){const r=`You are an expert in positive psychology and happiness metrics. Analyze the provided weekly journal summary and rate the following dimensions on a scale of 1-10:

1. lifeEvaluation: Overall life satisfaction and contentment
2. positiveAffect: Joy, gratitude, serenity, interest, hope, pride, amusement, inspiration, awe, love
3. negativeAffect: Worry, sadness, anger, stress, pain (1=very high stress, 10=very low stress)
4. socialSupport: Having someone to count on, social connections
5. personalGrowth: Learning, purpose, accomplishment, development

Respond with a JSON object containing these scores and an insights array with 2-3 key observations. Also include a confidence score (0-1).`,n=`Analyze the happiness metrics for this weekly summary:

${t}`;try{const a=await nt.analyzeText(n,r),i=JSON.parse(a),o=this.clampScore(i.lifeEvaluation),s=this.clampScore(i.positiveAffect),l=this.clampScore(i.negativeAffect),c=this.clampScore(i.socialSupport),u=this.clampScore(i.personalGrowth),f=Number((o*.25+s*.2+l*.15+c*.2+u*.2).toFixed(1));return{lifeEvaluation:o,positiveAffect:s,negativeAffect:l,socialSupport:c,personalGrowth:u,overallScore:f,confidence:Math.max(0,Math.min(1,i.confidence||.7)),insights:Array.isArray(i.insights)?i.insights.slice(0,3):[],analyzedAt:new Date}}catch(a){return console.warn("Failed to parse happiness analysis, using default:",a),{lifeEvaluation:5,positiveAffect:5,negativeAffect:5,socialSupport:5,personalGrowth:5,overallScore:5,confidence:.3,insights:["Unable to analyze happiness metrics"],analyzedAt:new Date}}}async extractWeeklyThemes(t){const r='Extract 3-5 key themes from this weekly journal summary. Themes should be concise phrases (1-3 words) that capture the main topics, activities, or focus areas of the week. Examples: "work stress", "family time", "personal growth", "health focus", "creative projects". Respond with a JSON array of theme strings.';try{const n=await nt.analyzeText(t,r),a=JSON.parse(n);return Array.isArray(a)?a.slice(0,5):[]}catch(n){return console.warn("Failed to extract themes:",n),[]}}async analyzeEmotionalArc(t){const r=`Analyze the emotional progression throughout this weekly summary. Respond with a JSON object containing:
- progression: one of "improving", "declining", "stable", "mixed"
- description: a brief description of the emotional journey
- keyMoments: an array of 1-3 significant emotional moments or turning points`;try{const n=await nt.analyzeText(t,r),a=JSON.parse(n);return{progression:["improving","declining","stable","mixed"].includes(a.progression)?a.progression:"stable",description:a.description||"Emotional progression throughout the week",keyMoments:Array.isArray(a.keyMoments)?a.keyMoments.slice(0,3):[]}}catch(n){return console.warn("Failed to analyze emotional arc:",n),{progression:"stable",description:"Unable to analyze emotional progression",keyMoments:[]}}}async identifyGrowthAreas(t){const r="Identify 2-4 areas of personal growth, learning, or development mentioned in this weekly summary. These could be skills learned, insights gained, challenges overcome, or personal realizations. Respond with a JSON array of concise growth area descriptions.";try{const n=await nt.analyzeText(t,r),a=JSON.parse(n);return Array.isArray(a)?a.slice(0,4):[]}catch(n){return console.warn("Failed to identify growth areas:",n),[]}}async batchGenerateWeeklySummaries(t){const{startDate:r,endDate:n,generateAnalysis:a=!0,onProgress:i}=t,s=(await _e.getWeeksWithEntries(r,n)).filter(g=>g.entryCount>=this.defaultConfig.minEntriesForSummary),l=[],c=[],u=[];let f=0;const p=s.length;for(const g of s){try{i?.({currentWeek:g.weekStart,completedWeeks:f,totalWeeks:p,progress:f/p*100,message:`Processing week of ${Be.formatDate(g.weekStart)}`,errors:u.map(v=>v.error)});const b=await this.generateWeeklySummary({weekStartDate:g.weekStart,weekEndDate:g.weekEnd,entries:g.entries,includeAnalysis:a});b.success?(l.push(b.summary),b.analysis&&c.push(b.analysis)):u.push({week:g.weekStart,error:b.error||"Unknown error"})}catch(b){u.push({week:g.weekStart,error:b instanceof Error?b.message:"Processing failed"})}f++}return i?.({currentWeek:new Date,completedWeeks:f,totalWeeks:p,progress:100,message:"Batch processing complete",errors:u.map(g=>g.error)}),{summaries:l,analyses:c,errors:u,totalProcessed:f,successCount:l.length,failureCount:u.length}}async getWeeklySummaryStats(t,r){const n=t&&r?await _e.getWeeklySummariesByDateRange(t,r):await _e.getAllWeeklySummaries(),a=t&&r?await _e.getWeeklySummaryAnalysesByDateRange(t,r):await _e.getAllWeeklySummaryAnalyses();if(n.length===0)return{totalWeeks:0,averageWordCount:0,averageHappiness:0,sentimentDistribution:{"very-negative":0,negative:0,neutral:0,positive:0,"very-positive":0},commonThemes:[],growthTrends:[],emotionalProgressions:{improving:0,declining:0,stable:0,mixed:0}};const i=n.reduce((y,w)=>y+w.wordCount,0),o=Math.round(i/n.length),s=a.map(y=>y.happiness.overallScore),l=s.length>0?Number((s.reduce((y,w)=>y+w,0)/s.length).toFixed(1)):0,c={"very-negative":0,negative:0,neutral:0,positive:0,"very-positive":0};a.forEach(y=>{c[y.sentiment.sentiment]++});const u=Object.fromEntries(Object.entries(c).map(([y,w])=>[y,a.length>0?w/a.length*100:0])),f=new Map;a.forEach(y=>{y.weeklyThemes.forEach(w=>{f.set(w,(f.get(w)||0)+1)})});const p=Array.from(f.entries()).map(([y,w])=>({theme:y,frequency:w})).sort((y,w)=>w.frequency-y.frequency).slice(0,10),g=new Map;a.forEach(y=>{y.growthAreas.forEach(w=>{g.set(w,(g.get(w)||0)+1)})});const b=Array.from(g.entries()).map(([y,w])=>({area:y,frequency:w})).sort((y,w)=>w.frequency-y.frequency).slice(0,10),v={improving:0,declining:0,stable:0,mixed:0};return a.forEach(y=>{v[y.emotionalArc.progression]++}),{totalWeeks:n.length,averageWordCount:o,averageHappiness:l,sentimentDistribution:u,commonThemes:p,growthTrends:b,emotionalProgressions:v}}clampScore(t){const r=Number(t)||5;return Math.max(1,Math.min(10,r))}getConfig(){return{...this.defaultConfig}}updateConfig(t){this.defaultConfig={...this.defaultConfig,...t}}}const el=new JT;class QT{async generateWeekSummary(t){try{const{weekStartDate:r,weekEndDate:n}=_e.getWeekBounds(t),a=await _e.getEntriesByDateRange(r,n);if(a.length<2)return console.log(`Insufficient entries for week of ${Be.formatDate(r)} (${a.length} entries)`),null;const i=await el.generateWeeklySummary({weekStartDate:r,weekEndDate:n,entries:a,includeAnalysis:!0});return i.success?{summary:i.summary,analysis:i.analysis}:(console.error("Failed to generate weekly summary:",i.error),null)}catch(r){return console.error("Error in generateWeekSummary:",r),null}}async getOrCreateWeeklySummary(t){try{const{weekStartDate:r,weekEndDate:n}=_e.getWeekBounds(t),a=await _e.getWeeklySummaryByWeek(r,n);if(a){const i=await _e.getWeeklySummaryAnalysisForSummary(a.id);return{summary:a,analysis:i}}return await this.generateWeekSummary(t)}catch(r){return console.error("Error in getOrCreateWeeklySummary:",r),null}}async getWeeklyInsights(t){try{const{weekStartDate:r,weekEndDate:n}=_e.getWeekBounds(t),a=await _e.getEntriesByDateRange(r,n),i=await this.getOrCreateWeeklySummary(t);if(!i)return null;const{summary:o,analysis:s}=i,l=s?.happiness.overallScore||0,c=s?.sentiment.sentiment||"neutral",u=s?[...s.weeklyThemes.slice(0,2),...s.growthAreas.slice(0,2)]:[];return{weekStart:r,weekEnd:n,summary:o,analysis:s,dailyEntries:a,averageHappiness:l,dominantSentiment:c,keyHighlights:u}}catch(r){return console.error("Error getting weekly insights:",r),null}}async batchGenerateSummaries(t,r,n){try{const a=await el.batchGenerateWeeklySummaries({startDate:t,endDate:r,generateAnalysis:!0,onProgress:i=>{n?.(i.completedWeeks,i.totalWeeks,Be.formatDate(i.currentWeek))}});return{success:a.successCount,failed:a.failureCount,errors:a.errors.map(i=>i.error)}}catch(a){return console.error("Error in batch generation:",a),{success:0,failed:1,errors:[a instanceof Error?a.message:"Unknown error"]}}}async getEligibleWeeks(t,r){try{const a=(await _e.getWeeksWithEntries(t,r)).filter(o=>o.entryCount>=2),i=[];for(const o of a){const s=await _e.getWeeklySummaryByWeek(o.weekStart,o.weekEnd);i.push({weekStart:o.weekStart,weekEnd:o.weekEnd,entryCount:o.entryCount,hasSummary:!!s})}return i}catch(n){return console.error("Error getting eligible weeks:",n),[]}}async getStatistics(t,r){try{return await el.getWeeklySummaryStats(t,r)}catch(n){return console.error("Error getting weekly statistics:",n),{totalWeeks:0,averageWordCount:0,averageHappiness:0,sentimentDistribution:{"very-negative":0,negative:0,neutral:0,positive:0,"very-positive":0},commonThemes:[],growthTrends:[],emotionalProgressions:{improving:0,declining:0,stable:0,mixed:0}}}}async deleteWeeklySummary(t){try{return await _e.deleteWeeklySummary(t),!0}catch(r){return console.error("Error deleting weekly summary:",r),!1}}async updateWeeklySummary(t,r){try{const n=r.split(/\s+/).length;return await _e.updateWeeklySummary(t,{summary:r,wordCount:n}),!0}catch(n){return console.error("Error updating weekly summary:",n),!1}}async regenerateAnalysis(t){try{const r=await _e.getWeeklySummary(t);return r?await el.generateWeeklySummaryAnalysis(r):(console.error("Weekly summary not found:",t),null)}catch(r){return console.error("Error regenerating analysis:",r),null}}}const Vr=new QT;class ZT{async getWeeklySummaryIndicators(t,r){const n=new Date(t,r,1),a=new Date(t,r+1,0,23,59,59,999),i=await _e.getWeeksWithEntries(n,a),o=new Map;for(const s of i){const l=await _e.getWeeklySummaryByWeek(s.weekStart,s.weekEnd);let c;l&&(c=await _e.getWeeklySummaryAnalysisForSummary(l.id));const u=this.getWeekKey(s.weekStart,s.weekEnd);o.set(u,{weekStart:s.weekStart,weekEnd:s.weekEnd,hasSummary:!!l,entryCount:s.entryCount,summary:l,analysis:c})}return o}getWeekForDate(t){const{weekStartDate:r,weekEndDate:n}=_e.getWeekBounds(t);return{weekStart:r,weekEnd:n,weekKey:this.getWeekKey(r,n)}}getWeekKey(t,r){return`${t.toISOString().split("T")[0]}_${r.toISOString().split("T")[0]}`}async getOrCreateWeeklySummaryForWeek(t,r){return await Vr.getOrCreateWeeklySummary(t)}isDateInWeek(t,r,n){const a=t.getTime();return a>=r.getTime()&&a<=n.getTime()}getDatesInWeek(t,r){const n=[],a=new Date(t);for(;a<=r;)n.push(new Date(a)),a.setDate(a.getDate()+1);return n}}const kn=new ZT;function Cn(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function S0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function iA(...e){return t=>{let r=!1;const n=e.map(a=>{const i=S0(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():S0(e[a],null)}}}}function wa(...e){return N.useCallback(iA(...e),e)}function eM(e,t){const r=N.createContext(t),n=i=>{const{children:o,...s}=i,l=N.useMemo(()=>s,Object.values(s));return h.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function a(i){const o=N.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function tM(e,t=[]){let r=[];function n(i,o){const s=N.createContext(o),l=r.length;r=[...r,o];const c=f=>{const{scope:p,children:g,...b}=f,v=p?.[e]?.[l]||s,y=N.useMemo(()=>b,Object.values(b));return h.jsx(v.Provider,{value:y,children:g})};c.displayName=i+"Provider";function u(f,p){const g=p?.[e]?.[l]||s,b=N.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,u]}const a=()=>{const i=r.map(o=>N.createContext(o));return function(s){const l=s?.[e]||i;return N.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return a.scopeName=e,[n,rM(a,...t)]}function rM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...s,...f}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Il=globalThis?.document?N.useLayoutEffect:()=>{},nM=wk[" useId ".trim().toString()]||(()=>{}),aM=0;function nf(e){const[t,r]=N.useState(nM());return Il(()=>{r(n=>n??String(aM++))},[e]),e||(t?`radix-${t}`:"")}function da(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...r)=>t.current?.(...r),[])}function iM({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=oM({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,s=da(r),l=N.useCallback(c=>{if(i){const f=typeof c=="function"?c(e):c;f!==e&&s(f)}else a(c)},[i,e,a,s]);return[o,l]}function oM({defaultProp:e,onChange:t}){const r=N.useState(e),[n]=r,a=N.useRef(n),i=da(t);return N.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}function oA(e){const t=sM(e),r=N.forwardRef((n,a)=>{const{children:i,...o}=n,s=N.Children.toArray(i),l=s.find(cM);if(l){const c=l.props.children,u=s.map(f=>f===l?N.Children.count(c)>1?N.Children.only(null):N.isValidElement(c)?c.props.children:null:f);return h.jsx(t,{...o,ref:a,children:N.isValidElement(c)?N.cloneElement(c,void 0,u):null})}return h.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function sM(e){const t=N.forwardRef((r,n)=>{const{children:a,...i}=r;if(N.isValidElement(a)){const o=fM(a),s=uM(i,a.props);return a.type!==N.Fragment&&(s.ref=n?iA(n,o):o),N.cloneElement(a,s)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lM=Symbol("radix.slottable");function cM(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lM}function uM(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...s)=>{i(...s),a(...s)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function fM(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],sn=dM.reduce((e,t)=>{const r=oA(`Primitive.${t}`),n=N.forwardRef((a,i)=>{const{asChild:o,...s}=a,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...s,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function hM(e,t){e&&EE.flushSync(()=>e.dispatchEvent(t))}function pM(e,t=globalThis?.document){const r=da(e);N.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var mM="DismissableLayer",Om="dismissableLayer.update",yM="dismissableLayer.pointerDownOutside",gM="dismissableLayer.focusOutside",j0,sA=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lA=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:s,...l}=e,c=N.useContext(sA),[u,f]=N.useState(null),p=u?.ownerDocument??globalThis?.document,[,g]=N.useState({}),b=wa(t,P=>f(P)),v=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(y),k=u?v.indexOf(u):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,E=k>=w,j=xM(P=>{const T=P.target,M=[...c.branches].some(K=>K.contains(T));!E||M||(a?.(P),o?.(P),P.defaultPrevented||s?.())},p),O=wM(P=>{const T=P.target;[...c.branches].some(K=>K.contains(T))||(i?.(P),o?.(P),P.defaultPrevented||s?.())},p);return pM(P=>{k===c.layers.size-1&&(n?.(P),!P.defaultPrevented&&s&&(P.preventDefault(),s()))},p),N.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(j0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),k0(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=j0)}},[u,p,r,c]),N.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),k0())},[u,c]),N.useEffect(()=>{const P=()=>g({});return document.addEventListener(Om,P),()=>document.removeEventListener(Om,P)},[]),h.jsx(sn.div,{...l,ref:b,style:{pointerEvents:A?E?"auto":"none":void 0,...e.style},onFocusCapture:Cn(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Cn(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Cn(e.onPointerDownCapture,j.onPointerDownCapture)})});lA.displayName=mM;var vM="DismissableLayerBranch",bM=N.forwardRef((e,t)=>{const r=N.useContext(sA),n=N.useRef(null),a=wa(t,n);return N.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),h.jsx(sn.div,{...e,ref:a})});bM.displayName=vM;function xM(e,t=globalThis?.document){const r=da(e),n=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const i=s=>{if(s.target&&!n.current){let l=function(){cA(yM,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function wM(e,t=globalThis?.document){const r=da(e),n=N.useRef(!1);return N.useEffect(()=>{const a=i=>{i.target&&!n.current&&cA(gM,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function k0(){const e=new CustomEvent(Om);document.dispatchEvent(e)}function cA(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?hM(a,i):a.dispatchEvent(i)}var af="focusScope.autoFocusOnMount",of="focusScope.autoFocusOnUnmount",A0={bubbles:!1,cancelable:!0},SM="FocusScope",uA=N.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[s,l]=N.useState(null),c=da(a),u=da(i),f=N.useRef(null),p=wa(t,v=>l(v)),g=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let v=function(A){if(g.paused||!s)return;const E=A.target;s.contains(E)?f.current=E:jn(f.current,{select:!0})},y=function(A){if(g.paused||!s)return;const E=A.relatedTarget;E!==null&&(s.contains(E)||jn(f.current,{select:!0}))},w=function(A){if(document.activeElement===document.body)for(const j of A)j.removedNodes.length>0&&jn(s)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const k=new MutationObserver(w);return s&&k.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),k.disconnect()}}},[n,s,g.paused]),N.useEffect(()=>{if(s){_0.add(g);const v=document.activeElement;if(!s.contains(v)){const w=new CustomEvent(af,A0);s.addEventListener(af,c),s.dispatchEvent(w),w.defaultPrevented||(jM(PM(fA(s)),{select:!0}),document.activeElement===v&&jn(s))}return()=>{s.removeEventListener(af,c),setTimeout(()=>{const w=new CustomEvent(of,A0);s.addEventListener(of,u),s.dispatchEvent(w),w.defaultPrevented||jn(v??document.body,{select:!0}),s.removeEventListener(of,u),_0.remove(g)},0)}}},[s,c,u,g]);const b=N.useCallback(v=>{if(!r&&!n||g.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(y&&w){const k=v.currentTarget,[A,E]=kM(k);A&&E?!v.shiftKey&&w===E?(v.preventDefault(),r&&jn(A,{select:!0})):v.shiftKey&&w===A&&(v.preventDefault(),r&&jn(E,{select:!0})):w===k&&v.preventDefault()}},[r,n,g.paused]);return h.jsx(sn.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});uA.displayName=SM;function jM(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(jn(n,{select:t}),document.activeElement!==r)return}function kM(e){const t=fA(e),r=O0(t,e),n=O0(t.reverse(),e);return[r,n]}function fA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function O0(e,t){for(const r of e)if(!AM(r,{upTo:t}))return r}function AM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function OM(e){return e instanceof HTMLInputElement&&"select"in e}function jn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&OM(e)&&t&&e.select()}}var _0=_M();function _M(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=P0(e,t),e.unshift(t)},remove(t){e=P0(e,t),e[0]?.resume()}}}function P0(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function PM(e){return e.filter(t=>t.tagName!=="A")}var EM="Portal",dA=N.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=N.useState(!1);Il(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?NE.createPortal(h.jsx(sn.div,{...n,ref:t}),o):null});dA.displayName=EM;function NM(e,t){return N.useReducer((r,n)=>t[r][n]??r,e)}var Bc=e=>{const{present:t,children:r}=e,n=CM(t),a=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),i=wa(n.ref,TM(a));return typeof r=="function"||n.isPresent?N.cloneElement(a,{ref:i}):null};Bc.displayName="Presence";function CM(e){const[t,r]=N.useState(),n=N.useRef({}),a=N.useRef(e),i=N.useRef("none"),o=e?"mounted":"unmounted",[s,l]=NM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const c=tl(n.current);i.current=s==="mounted"?c:"none"},[s]),Il(()=>{const c=n.current,u=a.current;if(u!==e){const p=i.current,g=tl(c);e?l("MOUNT"):g==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),Il(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,f=g=>{const v=tl(n.current).includes(g.animationName);if(g.target===t&&v&&(l("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=g=>{g.target===t&&(i.current=tl(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:N.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function tl(e){return e?.animationName||"none"}function TM(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sf=0;function MM(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??E0()),document.body.insertAdjacentElement("beforeend",e[1]??E0()),sf++,()=>{sf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),sf--}},[])}function E0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tr=function(){return Tr=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Tr.apply(this,arguments)};function hA(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function DM(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var jl="right-scroll-bar-position",kl="width-before-scroll-bar",IM="with-scroll-bars-hidden",RM="--removed-body-scroll-bar-size";function lf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $M(e,t){var r=N.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var BM=typeof window<"u"?N.useLayoutEffect:N.useEffect,N0=new WeakMap;function LM(e,t){var r=$M(null,function(n){return e.forEach(function(a){return lf(a,n)})});return BM(function(){var n=N0.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(s){i.has(s)||lf(s,null)}),i.forEach(function(s){a.has(s)||lf(s,o)})}N0.set(r,e)},[e]),r}function qM(e){return e}function FM(e,t){t===void 0&&(t=qM);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(s){return i(s)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(i),o=r}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return a}function WM(e){e===void 0&&(e={});var t=FM(null);return t.options=Tr({async:!0,ssr:!1},e),t}var pA=function(e){var t=e.sideCar,r=hA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,Tr({},r))};pA.isSideCarExport=!0;function zM(e,t){return e.useMedium(t),pA}var mA=WM(),cf=function(){},Lc=N.forwardRef(function(e,t){var r=N.useRef(null),n=N.useState({onScrollCapture:cf,onWheelCapture:cf,onTouchMoveCapture:cf}),a=n[0],i=n[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,p=e.sideCar,g=e.noIsolation,b=e.inert,v=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,k=e.gapMode,A=hA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,j=LM([r,t]),O=Tr(Tr({},A),a);return N.createElement(N.Fragment,null,u&&N.createElement(E,{sideCar:mA,removeScrollBar:c,shards:f,noIsolation:g,inert:b,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:k}),o?N.cloneElement(N.Children.only(s),Tr(Tr({},O),{ref:j})):N.createElement(w,Tr({},O,{className:l,ref:j}),s))});Lc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lc.classNames={fullWidth:kl,zeroRight:jl};var UM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=UM();return t&&e.setAttribute("nonce",t),e}function GM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function HM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var VM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=KM())&&(GM(t,r),HM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},YM=function(){var e=VM();return function(t,r){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},yA=function(){var e=YM(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},XM={left:0,top:0,right:0,gap:0},uf=function(e){return parseInt(e||"",10)||0},JM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[uf(r),uf(n),uf(a)]},QM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return XM;var t=JM(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ZM=yA(),Qa="data-scroll-locked",eD=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(IM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Qa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jl,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(kl,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(jl," .").concat(jl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(kl," .").concat(kl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Qa,`] {
    `).concat(RM,": ").concat(s,`px;
  }
`)},C0=function(){var e=parseInt(document.body.getAttribute(Qa)||"0",10);return isFinite(e)?e:0},tD=function(){N.useEffect(function(){return document.body.setAttribute(Qa,(C0()+1).toString()),function(){var e=C0()-1;e<=0?document.body.removeAttribute(Qa):document.body.setAttribute(Qa,e.toString())}},[])},rD=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;tD();var i=N.useMemo(function(){return QM(a)},[a]);return N.createElement(ZM,{styles:eD(i,!t,a,r?"":"!important")})},_m=!1;if(typeof window<"u")try{var rl=Object.defineProperty({},"passive",{get:function(){return _m=!0,!0}});window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{_m=!1}var $a=_m?{passive:!1}:!1,nD=function(e){return e.tagName==="TEXTAREA"},gA=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!nD(e)&&r[t]==="visible")},aD=function(e){return gA(e,"overflowY")},iD=function(e){return gA(e,"overflowX")},T0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=vA(e,n);if(a){var i=bA(e,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},oD=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},sD=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},vA=function(e,t){return e==="v"?aD(t):iD(t)},bA=function(e,t){return e==="v"?oD(t):sD(t)},lD=function(e,t){return e==="h"&&t==="rtl"?-1:1},cD=function(e,t,r,n,a){var i=lD(e,window.getComputedStyle(t).direction),o=i*n,s=r.target,l=t.contains(s),c=!1,u=o>0,f=0,p=0;do{var g=bA(e,s),b=g[0],v=g[1],y=g[2],w=v-y-i*b;(b||w)&&vA(e,s)&&(f+=w,p+=b),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&Math.abs(f)<1||!u&&Math.abs(p)<1)&&(c=!0),c},nl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},M0=function(e){return[e.deltaX,e.deltaY]},D0=function(e){return e&&"current"in e?e.current:e},uD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dD=0,Ba=[];function hD(e){var t=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),a=N.useState(dD++)[0],i=N.useState(yA)[0],o=N.useRef(e);N.useEffect(function(){o.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=DM([e.lockRef.current],(e.shards||[]).map(D0),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var s=N.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var w=nl(v),k=r.current,A="deltaX"in v?v.deltaX:k[0]-w[0],E="deltaY"in v?v.deltaY:k[1]-w[1],j,O=v.target,P=Math.abs(A)>Math.abs(E)?"h":"v";if("touches"in v&&P==="h"&&O.type==="range")return!1;var T=T0(P,O);if(!T)return!0;if(T?j=P:(j=P==="v"?"h":"v",T=T0(P,O)),!T)return!1;if(!n.current&&"changedTouches"in v&&(A||E)&&(n.current=j),!j)return!0;var M=n.current||j;return cD(M,y,v,M==="h"?A:E)},[]),l=N.useCallback(function(v){var y=v;if(!(!Ba.length||Ba[Ba.length-1]!==i)){var w="deltaY"in y?M0(y):nl(y),k=t.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&uD(j.delta,w)})[0];if(k&&k.should){y.cancelable&&y.preventDefault();return}if(!k){var A=(o.current.shards||[]).map(D0).filter(Boolean).filter(function(j){return j.contains(y.target)}),E=A.length>0?s(y,A[0]):!o.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),c=N.useCallback(function(v,y,w,k){var A={name:v,delta:y,target:w,should:k,shadowParent:pD(w)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(E){return E!==A})},1)},[]),u=N.useCallback(function(v){r.current=nl(v),n.current=void 0},[]),f=N.useCallback(function(v){c(v.type,M0(v),v.target,s(v,e.lockRef.current))},[]),p=N.useCallback(function(v){c(v.type,nl(v),v.target,s(v,e.lockRef.current))},[]);N.useEffect(function(){return Ba.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,$a),document.addEventListener("touchmove",l,$a),document.addEventListener("touchstart",u,$a),function(){Ba=Ba.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,$a),document.removeEventListener("touchmove",l,$a),document.removeEventListener("touchstart",u,$a)}},[]);var g=e.removeScrollBar,b=e.inert;return N.createElement(N.Fragment,null,b?N.createElement(i,{styles:fD(a)}):null,g?N.createElement(rD,{gapMode:e.gapMode}):null)}function pD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mD=zM(mA,hD);var xA=N.forwardRef(function(e,t){return N.createElement(Lc,Tr({},e,{ref:t,sideCar:mD}))});xA.classNames=Lc.classNames;var yD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},La=new WeakMap,al=new WeakMap,il={},ff=0,wA=function(e){return e&&(e.host||wA(e.parentNode))},gD=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=wA(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},vD=function(e,t,r,n){var a=gD(t,Array.isArray(e)?e:[e]);il[r]||(il[r]=new WeakMap);var i=il[r],o=[],s=new Set,l=new Set(a),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};a.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(s.has(p))u(p);else try{var g=p.getAttribute(n),b=g!==null&&g!=="false",v=(La.get(p)||0)+1,y=(i.get(p)||0)+1;La.set(p,v),i.set(p,y),o.push(p),v===1&&b&&al.set(p,!0),y===1&&p.setAttribute(r,"true"),b||p.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return u(t),s.clear(),ff++,function(){o.forEach(function(f){var p=La.get(f)-1,g=i.get(f)-1;La.set(f,p),i.set(f,g),p||(al.has(f)||f.removeAttribute(n),al.delete(f)),g||f.removeAttribute(r)}),ff--,ff||(La=new WeakMap,La=new WeakMap,al=new WeakMap,il={})}},bD=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=yD(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),vD(n,a,r,"aria-hidden")):function(){return null}},ng="Dialog",[SA,fG]=tM(ng),[xD,kr]=SA(ng),jA=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,s=N.useRef(null),l=N.useRef(null),[c=!1,u]=iM({prop:n,defaultProp:a,onChange:i});return h.jsx(xD,{scope:t,triggerRef:s,contentRef:l,contentId:nf(),titleId:nf(),descriptionId:nf(),open:c,onOpenChange:u,onOpenToggle:N.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};jA.displayName=ng;var kA="DialogTrigger",wD=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kr(kA,r),i=wa(t,a.triggerRef);return h.jsx(sn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":og(a.open),...n,ref:i,onClick:Cn(e.onClick,a.onOpenToggle)})});wD.displayName=kA;var ag="DialogPortal",[SD,AA]=SA(ag,{forceMount:void 0}),OA=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=kr(ag,t);return h.jsx(SD,{scope:t,forceMount:r,children:N.Children.map(n,o=>h.jsx(Bc,{present:r||i.open,children:h.jsx(dA,{asChild:!0,container:a,children:o})}))})};OA.displayName=ag;var Rl="DialogOverlay",_A=N.forwardRef((e,t)=>{const r=AA(Rl,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=kr(Rl,e.__scopeDialog);return i.modal?h.jsx(Bc,{present:n||i.open,children:h.jsx(kD,{...a,ref:t})}):null});_A.displayName=Rl;var jD=oA("DialogOverlay.RemoveScroll"),kD=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kr(Rl,r);return h.jsx(xA,{as:jD,allowPinchZoom:!0,shards:[a.contentRef],children:h.jsx(sn.div,{"data-state":og(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ha="DialogContent",PA=N.forwardRef((e,t)=>{const r=AA(ha,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=kr(ha,e.__scopeDialog);return h.jsx(Bc,{present:n||i.open,children:i.modal?h.jsx(AD,{...a,ref:t}):h.jsx(OD,{...a,ref:t})})});PA.displayName=ha;var AD=N.forwardRef((e,t)=>{const r=kr(ha,e.__scopeDialog),n=N.useRef(null),a=wa(t,r.contentRef,n);return N.useEffect(()=>{const i=n.current;if(i)return bD(i)},[]),h.jsx(EA,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Cn(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Cn(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&i.preventDefault()}),onFocusOutside:Cn(e.onFocusOutside,i=>i.preventDefault())})}),OD=N.forwardRef((e,t)=>{const r=kr(ha,e.__scopeDialog),n=N.useRef(!1),a=N.useRef(!1);return h.jsx(EA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),EA=N.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,s=kr(ha,r),l=N.useRef(null),c=wa(t,l);return MM(),h.jsxs(h.Fragment,{children:[h.jsx(uA,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:h.jsx(lA,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":og(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(_D,{titleId:s.titleId}),h.jsx(ED,{contentRef:l,descriptionId:s.descriptionId})]})]})}),ig="DialogTitle",NA=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kr(ig,r);return h.jsx(sn.h2,{id:a.titleId,...n,ref:t})});NA.displayName=ig;var CA="DialogDescription",TA=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kr(CA,r);return h.jsx(sn.p,{id:a.descriptionId,...n,ref:t})});TA.displayName=CA;var MA="DialogClose",DA=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kr(MA,r);return h.jsx(sn.button,{type:"button",...n,ref:t,onClick:Cn(e.onClick,()=>a.onOpenChange(!1))})});DA.displayName=MA;function og(e){return e?"open":"closed"}var IA="DialogTitleWarning",[dG,RA]=eM(IA,{contentName:ha,titleName:ig,docsSlug:"dialog"}),_D=({titleId:e})=>{const t=RA(IA),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},PD="DialogDescriptionWarning",ED=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RA(PD).contentName}}.`;return N.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ND=jA,CD=OA,$A=_A,BA=PA,LA=NA,qA=TA,TD=DA;const MD=ND,DD=CD,FA=N.forwardRef(({className:e,...t},r)=>h.jsx($A,{ref:r,className:ut("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));FA.displayName=$A.displayName;const WA=N.forwardRef(({className:e,children:t,...r},n)=>h.jsxs(DD,{children:[h.jsx(FA,{}),h.jsxs(BA,{ref:n,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,h.jsxs(TD,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(Ok,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));WA.displayName=BA.displayName;const zA=({className:e,...t})=>h.jsx("div",{className:ut("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});zA.displayName="DialogHeader";const UA=N.forwardRef(({className:e,...t},r)=>h.jsx(LA,{ref:r,className:ut("text-lg font-semibold leading-none tracking-tight",e),...t}));UA.displayName=LA.displayName;const ID=N.forwardRef(({className:e,...t},r)=>h.jsx(qA,{ref:r,className:ut("text-sm text-muted-foreground",e),...t}));ID.displayName=qA.displayName;const RD=({isOpen:e,onClose:t,weekStart:r,weekEnd:n,entryCount:a,onSummaryGenerated:i})=>{const[o,s]=N.useState(null),[l,c]=N.useState(null),[u,f]=N.useState(!1),[p,g]=N.useState(!1),[b,v]=N.useState(null);N.useEffect(()=>{e&&y()},[e,r,n]);const y=async()=>{try{f(!0),v(null);const j=await kn.getOrCreateWeeklySummaryForWeek(r,n);j?(s(j.summary),c(j.analysis||null)):(s(null),c(null))}catch(j){console.error("Error loading weekly summary:",j),v("Failed to load weekly summary")}finally{f(!1)}},w=async()=>{try{g(!0),v(null);const j=await kn.getOrCreateWeeklySummaryForWeek(r,n);j?(s(j.summary),c(j.analysis||null),i?.(j.summary)):v("Failed to generate weekly summary. Insufficient entries or processing error.")}catch(j){console.error("Error generating weekly summary:",j),v("Error generating weekly summary")}finally{g(!1)}},k=j=>rg[j]||"#6b7280",A=j=>{switch(j){case"improving":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"declining":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"mixed":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},E=`${Be.formatDate(r)} - ${Be.formatDate(n)}`;return h.jsx(MD,{open:e,onOpenChange:t,children:h.jsxs(WA,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[h.jsx(zA,{children:h.jsxs(UA,{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(va,{className:"w-5 h-5 mr-2 text-blue-500"}),"Weekly Summary"]}),h.jsx(Mt,{variant:"ghost",size:"sm",onClick:t,children:h.jsx(Ok,{className:"w-4 h-4"})})]})}),h.jsxs("div",{className:"space-y-6",children:[h.jsx(it,{children:h.jsx(lt,{className:"p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold text-lg",children:E}),h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a," journal entries this week",o&&h.jsxs("span",{className:"ml-2",children:["• ",o.wordCount," words in summary"]})]})]}),!o&&a>=2&&h.jsxs(Mt,{onClick:w,disabled:p||u,className:"min-w-[140px]",children:[p?h.jsx(Al,{className:"w-4 h-4 animate-spin mr-2"}):h.jsx(Ol,{className:"w-4 h-4 mr-2"}),p?"Generating...":"Generate Summary"]})]})})}),u&&h.jsxs("div",{className:"flex items-center justify-center py-8",children:[h.jsx(Al,{className:"w-6 h-6 animate-spin mr-2"}),h.jsx("span",{children:"Loading weekly summary..."})]}),b&&h.jsx(it,{className:"border-red-200 dark:border-red-800",children:h.jsx(lt,{className:"p-4",children:h.jsxs("div",{className:"flex items-center space-x-2 text-red-600 dark:text-red-400",children:[h.jsx(ni,{className:"w-5 h-5"}),h.jsx("span",{children:b})]})})}),!u&&!o&&a<2&&h.jsx(it,{children:h.jsxs(lt,{className:"p-6 text-center",children:[h.jsx(Ir,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),h.jsx("h3",{className:"text-lg font-medium mb-2",children:"Insufficient Entries"}),h.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["At least 2 journal entries are required to generate a weekly summary. This week has ",a," entries."]})]})}),o&&!u&&h.jsxs("div",{className:"space-y-6",children:[h.jsx(it,{children:h.jsxs(lt,{className:"p-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(Ir,{className:"w-5 h-5 mr-2 text-emerald-500"}),h.jsx("h3",{className:"text-lg font-semibold",children:"Weekly Narrative"})]}),h.jsx("div",{className:"prose dark:prose-invert max-w-none",children:h.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:o.summary})}),h.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:["Generated on ",Be.formatDate(o.createdAt)]})]})}),l&&h.jsx(it,{children:h.jsxs(lt,{className:"p-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(rr,{className:"w-5 h-5 mr-2 text-purple-500"}),h.jsx("h3",{className:"text-lg font-semibold",children:"AI Analysis"})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:k(l.sentiment.sentiment)}}),h.jsx("span",{className:"text-sm font-medium capitalize",children:l.sentiment.sentiment.replace("-"," ")})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(fs,{className:"w-4 h-4 mr-1 text-emerald-500"}),h.jsxs("span",{className:"text-sm font-medium",children:[l.happiness.overallScore.toFixed(1),"/10 Overall Happiness"]})]}),h.jsxs(Mr,{className:A(l.emotionalArc.progression),children:[l.emotionalArc.progression," progression"]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Happiness Breakdown"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(So,{className:"w-4 h-4 mr-2 text-blue-500"}),h.jsxs("div",{className:"text-sm",children:[h.jsx("div",{className:"font-medium",children:"Life Evaluation"}),h.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[l.happiness.lifeEvaluation.toFixed(1),"/10"]})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Dc,{className:"w-4 h-4 mr-2 text-amber-500"}),h.jsxs("div",{className:"text-sm",children:[h.jsx("div",{className:"font-medium",children:"Positive Affect"}),h.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[l.happiness.positiveAffect.toFixed(1),"/10"]})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(sa,{className:"w-4 h-4 mr-2 text-red-500"}),h.jsxs("div",{className:"text-sm",children:[h.jsx("div",{className:"font-medium",children:"Stress Level"}),h.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[l.happiness.negativeAffect.toFixed(1),"/10"]})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(_l,{className:"w-4 h-4 mr-2 text-green-500"}),h.jsxs("div",{className:"text-sm",children:[h.jsx("div",{className:"font-medium",children:"Social Support"}),h.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[l.happiness.socialSupport.toFixed(1),"/10"]})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(tn,{className:"w-4 h-4 mr-2 text-indigo-500"}),h.jsxs("div",{className:"text-sm",children:[h.jsx("div",{className:"font-medium",children:"Personal Growth"}),h.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[l.happiness.personalGrowth.toFixed(1),"/10"]})]})]})]})]}),l.weeklyThemes.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Weekly Themes"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:l.weeklyThemes.map((j,O)=>h.jsx(Mr,{variant:"outline",children:j},O))})]}),l.growthAreas.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Growth Areas"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:l.growthAreas.map((j,O)=>h.jsx(Mr,{variant:"outline",className:"bg-purple-50 text-purple-700 dark:bg-purple-900/30",children:j},O))})]}),l.emotionalArc.description&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Emotional Journey"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l.emotionalArc.description}),l.emotionalArc.keyMoments.length>0&&h.jsxs("div",{className:"mt-2",children:[h.jsx("div",{className:"text-xs font-medium mb-1",children:"Key Moments:"}),h.jsx("ul",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:l.emotionalArc.keyMoments.map((j,O)=>h.jsxs("li",{children:["• ",j]},O))})]})]})]})]})})]})]})]})})},$D=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],BD=["January","February","March","April","May","June","July","August","September","October","November","December"],KA=N.forwardRef(({selectedDate:e=new Date,onDateSelect:t,onEntryClick:r,className:n=""},a)=>{const[i,o]=N.useState(new Date(e)),[s,l]=N.useState({}),[c,u]=N.useState({}),[f,p]=N.useState(0),[g,b]=N.useState(!0),[v,y]=N.useState(null),[w,k]=N.useState(null),[A,E]=N.useState(null),[j,O]=N.useState(!1),P=i.getFullYear(),T=i.getMonth(),M=N.useMemo(()=>{const re=new Date(P,T,1),ae=new Date(re);ae.setDate(ae.getDate()-re.getDay());const fe=[],ce=new Date(ae);for(let ge=0;ge<42;ge++)fe.push({date:new Date(ce),isCurrentMonth:ce.getMonth()===T,isToday:Be.isToday(ce),isSelected:e&&Be.isSameDay(ce,e),dateKey:Be.getDateKey(ce)}),ce.setDate(ce.getDate()+1);return fe},[P,T,e]),K=async()=>{b(!0);try{const re=await _e.getCalendarData(P,T),ae={};for(const[pe,je]of re.entries()){const Re=new Date(pe),Wt=await _e.getEntryByDate(Re);ae[pe]={wordCount:je.wordCount,preview:je.preview,entry:Wt,aiAnalysis:je.aiAnalysis}}l(ae);const fe=await kn.getWeeklySummaryIndicators(P,T),ce={};for(const[pe,je]of fe.entries())ce[pe]=je;u(ce);const ge=await _e.getCurrentStreak();p(ge)}catch(re){console.error("Failed to load calendar data:",re)}finally{b(!1)}};N.useEffect(()=>{K()},[P,T]),N.useImperativeHandle(a,()=>({forceRefresh:K}));const I=re=>{const ae=new Date(i);re==="prev"?ae.setMonth(ae.getMonth()-1):ae.setMonth(ae.getMonth()+1),o(ae)},B=re=>{const ae=Be.getDateKey(re),fe=s[ae];fe?.entry?r?.(fe.entry):t?.(re)},z=(re,ae,fe)=>{E({weekStart:re,weekEnd:ae,entryCount:fe}),O(!0)},Q=re=>{const{weekKey:ae}=kn.getWeekForDate(re);return c[ae]},X=re=>{if(!w)return!1;const ae=c[w];return ae?kn.isDateInWeek(re,ae.weekStart,ae.weekEnd):!1},Z=re=>{const ae=s[re];if(!ae)return"";if(ae.aiAnalysis){const ce=ae.aiAnalysis.happiness.overallScore;return ce>=7?"bg-green-300 dark:bg-green-700":ce>=5?"bg-yellow-300 dark:bg-yellow-700":ce>=3?"bg-orange-300 dark:bg-orange-700":"bg-red-300 dark:bg-red-700"}const{wordCount:fe}=ae;return fe===0?"":fe<100?"bg-emerald-200 dark:bg-emerald-800":fe<300?"bg-emerald-300 dark:bg-emerald-700":fe<500?"bg-emerald-400 dark:bg-emerald-600":"bg-emerald-500 dark:bg-emerald-500"},le=re=>{const ae=s[re];if(!ae)return"No entry";const fe=new Date(re);if(ae.aiAnalysis){const{happiness:ce,sentiment:ge}=ae.aiAnalysis;return h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"font-semibold",children:[Be.formatDate(fe)," - ",ae.wordCount," words"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(sa,{className:"w-4 h-4 mr-1 text-red-500"}),h.jsxs("span",{className:"font-medium",children:["Overall: ",ce.overallScore.toFixed(1),"/10"]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1 text-xs",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(So,{className:"w-3 h-3 mr-1 text-blue-500"}),h.jsxs("span",{children:["Life: ",ce.lifeEvaluation.toFixed(1)]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Dc,{className:"w-3 h-3 mr-1 text-amber-500"}),h.jsxs("span",{children:["Positive: ",ce.positiveAffect.toFixed(1)]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(So,{className:"w-3 h-3 mr-1 text-purple-500"}),h.jsxs("span",{children:["Stress: ",ce.negativeAffect.toFixed(1)]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(_l,{className:"w-3 h-3 mr-1 text-green-500"}),h.jsxs("span",{children:["Social: ",ce.socialSupport.toFixed(1)]})]}),h.jsxs("div",{className:"flex items-center",style:{gridColumn:"1 / -1"},children:[h.jsx(tn,{className:"w-3 h-3 mr-1 text-indigo-500"}),h.jsxs("span",{children:["Growth: ",ce.personalGrowth.toFixed(1)]})]})]}),h.jsx("div",{className:"text-xs pt-1 border-t border-gray-700 dark:border-gray-300",children:h.jsxs("div",{className:"font-medium",children:["Sentiment: ",Am[ge.sentiment]]})})]})}return`${Be.formatDate(fe)}
${ae.wordCount} words

${ae.preview}...`},ue=re=>{const ae=c[re];if(!ae)return"No weekly data";const fe=`${Be.formatDate(ae.weekStart)} - ${Be.formatDate(ae.weekEnd)}`;if(ae.hasSummary&&ae.analysis){const{analysis:ce}=ae;return h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"font-semibold",children:fe}),h.jsxs("div",{className:"text-sm",children:[ae.entryCount," entries this week"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ir,{className:"w-4 h-4 mr-1 text-emerald-500"}),h.jsx("span",{className:"font-medium",children:"Weekly Summary Available"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(sa,{className:"w-4 h-4 mr-1 text-red-500"}),h.jsxs("span",{className:"font-medium",children:["Overall: ",ce.happiness.overallScore.toFixed(1),"/10"]})]}),h.jsxs("div",{className:"text-xs",children:[h.jsxs("div",{className:"font-medium",children:["Sentiment: ",Am[ce.sentiment.sentiment]]}),ce.weeklyThemes.length>0&&h.jsxs("div",{className:"mt-1",children:["Themes: ",ce.weeklyThemes.slice(0,2).join(", ")]})]})]})}else return ae.entryCount>=2?h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"font-semibold",children:fe}),h.jsxs("div",{className:"text-sm",children:[ae.entryCount," entries this week"]}),h.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Click to generate weekly summary"})]}):h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"font-semibold",children:fe}),h.jsxs("div",{className:"text-sm",children:[ae.entryCount," entries this week"]}),h.jsx("div",{className:"text-xs text-gray-500",children:"Need at least 2 entries for weekly summary"})]})};return h.jsxs("div",{className:ut("bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",n),children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white flex items-center",children:[h.jsx(va,{className:"w-6 h-6 mr-2"}),"Journal Calendar"]}),f>0&&h.jsxs("div",{className:"flex items-center text-orange-500 dark:text-orange-400",children:[h.jsx(LE,{className:"w-5 h-5 mr-1"}),h.jsx("span",{className:"font-semibold",children:f}),h.jsxs("span",{className:"text-sm ml-1",children:["day",f!==1?"s":""]})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("button",{onClick:()=>I("prev"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",disabled:g,children:h.jsx(qE,{className:"w-5 h-5"})}),h.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:[BD[T]," ",P]}),h.jsx("button",{onClick:()=>I("next"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",disabled:g,children:h.jsx(FE,{className:"w-5 h-5"})})]})]}),h.jsx("div",{className:"p-6",children:g?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading calendar..."})}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:$D.map(re=>h.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:re},re))}),h.jsx("div",{className:"grid grid-cols-7 gap-1",children:M.map(({date:re,isCurrentMonth:ae,isToday:fe,isSelected:ce,dateKey:ge})=>{const pe=!!s[ge],je=Z(ge),Re=Q(re),Wt=X(re);return h.jsxs("div",{className:"relative",onMouseEnter:()=>y(ge),onMouseLeave:()=>y(null),children:[h.jsxs("button",{onClick:()=>B(re),className:ut("w-full h-12 p-1 text-sm rounded-lg transition-all duration-200 relative","hover:bg-gray-100 dark:hover:bg-gray-800",{"text-gray-900 dark:text-white":ae,"text-gray-400 dark:text-gray-600":!ae,"ring-2 ring-emerald-500 ring-offset-2 dark:ring-offset-gray-900":ce,"font-semibold bg-emerald-50 dark:bg-emerald-900/20":fe,"ring-1 ring-blue-300 dark:ring-blue-600":Wt&&ae,[je]:pe&&ae}),children:[h.jsx("span",{className:ut("relative z-10",{"text-white":je.includes("emerald-400")||je.includes("emerald-500")||je.includes("green-700")||je.includes("red-700")||je.includes("orange-700")||je.includes("yellow-700"),"text-gray-900 dark:text-white":!je||je.includes("emerald-200")||je.includes("emerald-300")||je.includes("green-300")||je.includes("yellow-300")||je.includes("orange-300")||je.includes("red-300")}),children:re.getDate()}),pe&&h.jsxs("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 flex space-x-1",children:[h.jsx("div",{className:ut("w-1.5 h-1.5 rounded-full",je||"bg-emerald-500")}),s[ge].aiAnalysis&&h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 dark:bg-blue-400"})]}),Re&&re.getDay()===1&&ae&&h.jsx("div",{className:"absolute -top-1 -right-1 cursor-pointer",onClick:At=>{At.stopPropagation(),z(Re.weekStart,Re.weekEnd,Re.entryCount)},onMouseEnter:()=>k(kn.getWeekKey(Re.weekStart,Re.weekEnd)),onMouseLeave:()=>k(null),children:Re.hasSummary?h.jsx(Ir,{className:"w-3 h-3 text-emerald-600 dark:text-emerald-400 bg-white dark:bg-gray-900 rounded-full p-0.5 shadow-sm"}):Re.entryCount>=2?h.jsx(rr,{className:"w-3 h-3 text-blue-600 dark:text-blue-400 bg-white dark:bg-gray-900 rounded-full p-0.5 shadow-sm"}):null})]}),v===ge&&s[ge]&&h.jsx("div",{className:"absolute z-50 bottom-full left-1/2 transform -translate-x-1/2 mb-2",children:h.jsx("div",{className:"bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 text-xs rounded-lg p-3 shadow-lg max-w-sm w-80",children:typeof le(ge)=="string"?h.jsx("div",{className:"whitespace-pre-line",children:le(ge)}):le(ge)})}),w&&Re&&re.getDay()===1&&ae&&w===kn.getWeekKey(Re.weekStart,Re.weekEnd)&&h.jsx("div",{className:"absolute z-50 bottom-full left-1/2 transform -translate-x-1/2 mb-2",children:h.jsx("div",{className:"bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 text-xs rounded-lg p-3 shadow-lg max-w-sm w-80",children:typeof ue(w)=="string"?h.jsx("div",{className:"whitespace-pre-line",children:ue(w)}):ue(w)})})]},ge)})})]})}),h.jsx("div",{className:"px-6 pb-6",children:h.jsxs("div",{className:"flex flex-col space-y-2",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Word Count"}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("div",{className:"w-3 h-3 bg-gray-200 dark:bg-gray-700 rounded"}),h.jsx("span",{children:"No entry"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("div",{className:"w-3 h-3 bg-emerald-200 dark:bg-emerald-800 rounded"}),h.jsx("span",{children:"1-99 words"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("div",{className:"w-3 h-3 bg-emerald-300 dark:bg-emerald-700 rounded"}),h.jsx("span",{children:"100-299 words"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("div",{className:"w-3 h-3 bg-emerald-400 dark:bg-emerald-600 rounded"}),h.jsx("span",{children:"300-499 words"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("div",{className:"w-3 h-3 bg-emerald-500 dark:bg-emerald-500 rounded"}),h.jsx("span",{children:"500+ words"})]})]}),h.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1 mt-2",children:"AI Analysis Scores"}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("div",{className:"w-3 h-3 bg-blue-500 dark:bg-blue-400 rounded"}),h.jsx("span",{children:"AI Analyzed"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("div",{className:"w-3 h-3 bg-green-300 dark:bg-green-700 rounded"}),h.jsx("span",{children:"High (7-10)"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("div",{className:"w-3 h-3 bg-yellow-300 dark:bg-yellow-700 rounded"}),h.jsx("span",{children:"Medium (5-6.9)"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("div",{className:"w-3 h-3 bg-orange-300 dark:bg-orange-700 rounded"}),h.jsx("span",{children:"Below Average (3-4.9)"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("div",{className:"w-3 h-3 bg-red-300 dark:bg-red-700 rounded"}),h.jsx("span",{children:"Low (0-2.9)"})]})]}),h.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1 mt-2",children:"Weekly Summaries"}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(Ir,{className:"w-3 h-3 text-emerald-600"}),h.jsx("span",{children:"Summary Available"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(rr,{className:"w-3 h-3 text-blue-600"}),h.jsx("span",{children:"Can Generate Summary"})]}),h.jsx("div",{className:"text-xs italic",children:"Weekly indicators appear on Mondays - click to view/generate summaries"})]})]})}),A&&h.jsx(RD,{isOpen:j,onClose:()=>{O(!1),E(null)},weekStart:A.weekStart,weekEnd:A.weekEnd,entryCount:A.entryCount,onSummaryGenerated:()=>{(async()=>{const ae=await kn.getWeeklySummaryIndicators(P,T),fe={};for(const[ce,ge]of ae.entries())fe[ce]=ge;u(fe)})()}})]})});KA.displayName="Calendar";const sg=q.forwardRef(({className:e,value:t=0,max:r=100,...n},a)=>{const i=Math.min(100,Math.max(0,t/r*100));return h.jsx("div",{ref:a,className:ut("relative h-2 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:h.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all duration-300 ease-in-out",style:{transform:`translateX(-${100-i}%)`}})})});sg.displayName="Progress";class LD{currentBatch=null;progressCallback=null;shouldStop=!1;setProgressCallback(t){this.progressCallback=t}stopBatchAnalysis(){this.shouldStop=!0}isRunning(){return this.currentBatch?.isRunning??!1}getCurrentProgress(){return this.currentBatch?{...this.currentBatch}:null}async findUnanalyzedEntries(){try{const t=await _e.getAllEntries(),r=[];for(const n of t)await _e.getAIAnalysisForEntry(n.id)||r.push(n);return r}catch(t){return console.error("Error finding unanalyzed entries:",t),[]}}async findEligibleWeeksForSummaries(){try{const t=new Date,r=new Date;return r.setMonth(r.getMonth()-6),(await Vr.getEligibleWeeks(r,t)).filter(a=>!a.hasSummary)}catch(t){return console.error("Error finding eligible weeks:",t),[]}}createEmptyResult(t){return{success:!0,dailyAnalysis:{processedCount:0,totalCount:0,errors:[]},weeklySummaries:{generatedCount:0,totalEligibleWeeks:0,analyzedCount:0,errors:[]},startTime:t,endTime:new Date,processedCount:0,totalCount:0,errors:[]}}async processPhase1DailyAnalysis(t,r){let n=0;if(!this.currentBatch)return 0;this.currentBatch.currentPhase="daily-analysis",this.currentBatch.currentPhaseDescription="Analyzing daily journal entries...",this.updateProgress();const a=2,i=1e3;for(let o=0;o<t.length&&!this.shouldStop;o+=a){const l=t.slice(o,o+a).map(async c=>{if(!this.shouldStop)try{const u=Be.formatDate(c.targetDate);this.currentBatch.current=u,this.currentBatch.dailyAnalysis.current=u,this.currentBatch.currentEntryId=c.id,this.updateProgress();const[f,p]=await Promise.all([jm.analyzeSentiment(c),km.calculateEntryMetrics(c)]);if(f&&p)await _e.saveAIAnalysis({entryId:c.id,sentiment:f,happiness:p}),n++;else{const g="Analysis failed - no results returned";r.push({entryId:c.id,error:g,entryTitle:u}),this.currentBatch.dailyAnalysis.errors.push(`${u}: ${g}`),this.currentBatch.errors.push(`${u}: ${g}`)}}catch(u){const f=u instanceof Error?u.message:"Unknown error",p=Be.formatDate(c.targetDate);r.push({entryId:c.id,error:f,entryTitle:p}),this.currentBatch.dailyAnalysis.errors.push(`${p}: ${f}`),this.currentBatch.errors.push(`${p}: ${f}`)}finally{this.currentBatch.dailyAnalysis.completed++,this.currentBatch.completed++,this.updateProgress()}});await Promise.all(l),o+a<t.length&&!this.shouldStop&&await new Promise(c=>setTimeout(c,i))}return n}async processPhase2and3WeeklySummaries(t,r){let n=0,a=0;if(!this.currentBatch)return{generated:0,analyzed:0};this.currentBatch.currentPhase="weekly-summaries",this.currentBatch.currentPhaseDescription="Generating weekly summaries...",this.updateProgress();for(const i of t){if(this.shouldStop)break;try{const o=`${Be.formatDate(i.weekStart)} - ${Be.formatDate(i.weekEnd)}`;this.currentBatch.current=o,this.currentBatch.weeklySummaries.current=o,this.updateProgress();const s=await Vr.generateWeekSummary(i.weekStart);if(s)n++,s.analysis&&a++;else{const l="Failed to generate weekly summary";r.push({weekStart:i.weekStart,weekEnd:i.weekEnd,error:l}),this.currentBatch.weeklySummaries.errors.push(`${o}: ${l}`),this.currentBatch.errors.push(`${o}: ${l}`)}}catch(o){const s=o instanceof Error?o.message:"Unknown error",l=`${Be.formatDate(i.weekStart)} - ${Be.formatDate(i.weekEnd)}`;r.push({weekStart:i.weekStart,weekEnd:i.weekEnd,error:s}),this.currentBatch.weeklySummaries.errors.push(`${l}: ${s}`),this.currentBatch.errors.push(`${l}: ${s}`)}finally{this.currentBatch.weeklySummaries.completed++,this.currentBatch.completed++,this.updateProgress()}await new Promise(o=>setTimeout(o,1500))}return{generated:n,analyzed:a}}async analyzeAllEntries(){const t=new Date;let r=0,n=0,a=0;const i=[],o=[];try{if(!nt.isModelReady())throw new Error("AI model not loaded. Please load the model first.");const s=await this.findUnanalyzedEntries(),l=await this.findEligibleWeeksForSummaries(),c=l.length>0?3:1,u=s.length+l.length*2;if(s.length===0&&l.length===0)return this.createEmptyResult(t);if(this.shouldStop=!1,this.currentBatch={currentPhase:"daily-analysis",totalPhases:c,currentPhaseDescription:"Analyzing daily journal entries...",dailyAnalysis:{total:s.length,completed:0,current:"",errors:[]},weeklySummaries:{total:l.length,completed:0,current:"",errors:[]},total:u,completed:0,current:"",errors:[],isRunning:!0},this.updateProgress(),s.length>0&&(r=await this.processPhase1DailyAnalysis(s,i)),l.length>0&&!this.shouldStop){const g=await this.processPhase2and3WeeklySummaries(l,o);n=g.generated,a=g.analyzed}const f=new Date;return this.currentBatch&&(this.currentBatch.currentPhase="complete",this.currentBatch.currentPhaseDescription="Analysis complete!",this.currentBatch.isRunning=!1,this.updateProgress()),{success:!this.shouldStop,dailyAnalysis:{processedCount:r,totalCount:s.length,errors:i},weeklySummaries:{generatedCount:n,totalEligibleWeeks:l.length,analyzedCount:a,errors:o},startTime:t,endTime:f,processedCount:r,totalCount:s.length,errors:i}}catch(s){throw console.error("Enhanced batch analysis failed:",s),this.currentBatch&&(this.currentBatch.isRunning=!1,this.currentBatch.errors.push(s instanceof Error?s.message:"Enhanced batch analysis failed"),this.updateProgress()),s}finally{this.currentBatch=null,this.shouldStop=!1}}async reanalyzeEntries(t){const r=new Date,n=[];let a=0;try{if(!nt.isModelReady())throw new Error("AI model not loaded. Please load the model first.");const i=[];for(const s of t){const l=await _e.getEntry(s);l&&i.push(l)}if(i.length===0)return{success:!0,dailyAnalysis:{processedCount:0,totalCount:0,errors:[]},weeklySummaries:{generatedCount:0,totalEligibleWeeks:0,analyzedCount:0,errors:[]},startTime:r,endTime:new Date,processedCount:0,totalCount:0,errors:[]};this.shouldStop=!1,this.currentBatch={currentPhase:"daily-analysis",totalPhases:1,currentPhaseDescription:"Re-analyzing journal entries...",dailyAnalysis:{total:i.length,completed:0,current:"",errors:[]},weeklySummaries:{total:0,completed:0,current:"",errors:[]},total:i.length,completed:0,current:"",errors:[],isRunning:!0},this.updateProgress();for(const s of i){if(this.shouldStop)break;try{const l=Be.formatDate(s.targetDate);this.currentBatch.current=l,this.currentBatch.dailyAnalysis.current=l,this.currentBatch.currentEntryId=s.id,this.updateProgress(),await _e.deleteAIAnalysisForEntry(s.id);const[c,u]=await Promise.all([jm.analyzeSentiment(s),km.calculateEntryMetrics(s)]);if(c&&u)await _e.saveAIAnalysis({entryId:s.id,sentiment:c,happiness:u}),a++;else{const f="Re-analysis failed - no results returned";n.push({entryId:s.id,error:f,entryTitle:l}),this.currentBatch.dailyAnalysis.errors.push(`${l}: ${f}`),this.currentBatch.errors.push(`${l}: ${f}`)}}catch(l){const c=l instanceof Error?l.message:"Unknown error",u=Be.formatDate(s.targetDate);n.push({entryId:s.id,error:c,entryTitle:u}),this.currentBatch.dailyAnalysis.errors.push(`${u}: ${c}`),this.currentBatch.errors.push(`${u}: ${c}`)}finally{this.currentBatch.dailyAnalysis.completed++,this.currentBatch.completed++,this.updateProgress()}await new Promise(l=>setTimeout(l,500))}const o=new Date;return this.currentBatch.isRunning=!1,this.updateProgress(),{success:!this.shouldStop,dailyAnalysis:{processedCount:a,totalCount:i.length,errors:n},weeklySummaries:{generatedCount:0,totalEligibleWeeks:0,analyzedCount:0,errors:[]},startTime:r,endTime:o,processedCount:a,totalCount:i.length,errors:n}}catch(i){throw console.error("Re-analysis failed:",i),i}finally{this.currentBatch=null,this.shouldStop=!1}}updateProgress(){this.currentBatch&&this.progressCallback&&this.progressCallback({...this.currentBatch})}async getAnalysisStatistics(){try{const t=await _e.getAllEntries(),r=t.length;let n=0;for(const g of t)await _e.getAIAnalysisForEntry(g.id)&&n++;const a=r-n,i=r>0?n/r*100:0,o=new Date,s=new Date;s.setMonth(s.getMonth()-6);const l=await Vr.getEligibleWeeks(s,o),c=l.length,u=l.filter(g=>g.hasSummary).length,f=c-u,p=c>0?u/c*100:0;return{totalEntries:r,analyzedEntries:n,unanalyzedEntries:a,analysisRate:i,weeklySummaries:{totalEligibleWeeks:c,generatedSummaries:u,pendingSummaries:f,summaryRate:p}}}catch(t){return console.error("Error getting analysis statistics:",t),{totalEntries:0,analyzedEntries:0,unanalyzedEntries:0,analysisRate:0,weeklySummaries:{totalEligibleWeeks:0,generatedSummaries:0,pendingSummaries:0,summaryRate:0}}}}}const ol=new LD,qD=({onAnalysisComplete:e,className:t})=>{const{isModelReady:r}=$c(),[n,a]=N.useState(null),[i,o]=N.useState(null),[s,l]=N.useState(null),[c,u]=N.useState(!1),[f,p]=N.useState(null);N.useEffect(()=>{g()},[]),N.useEffect(()=>{ol.setProgressCallback(a)},[]);const g=async()=>{try{const E=await ol.getAnalysisStatistics();l(E)}catch(E){console.error("Failed to load analysis statistics:",E)}},b=async()=>{if(!r){p("AI model not loaded. Please load the model first.");return}try{p(null),o(null);const E=await ol.analyzeAllEntries();o(E),await g(),e?.(E)}catch(E){const j=E instanceof Error?E.message:"Batch analysis failed";p(j),console.error("Batch analysis failed:",E)}},v=()=>{ol.stopBatchAnalysis()},y=n?.isRunning??!1,k=(s?.unanalyzedEntries||0)+(s?.weeklySummaries.pendingSummaries||0)>0,A=n&&n.total>0?n.completed/n.total*100:0;return r?h.jsxs(it,{className:t,children:[h.jsx(Kt,{children:h.jsxs(Gt,{className:"flex items-center gap-2",children:[h.jsx(WE,{className:"w-5 h-5 text-blue-600"}),"AI Batch Analysis"]})}),h.jsxs(lt,{className:"space-y-4",children:[s&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.totalEntries}),h.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Entries"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:s.analyzedEntries}),h.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Analyzed"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-amber-600",children:s.unanalyzedEntries}),h.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pending"})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(s.analysisRate),"%"]}),h.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Complete"})]})]}),s.weeklySummaries.totalEligibleWeeks>0&&h.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.weeklySummaries.totalEligibleWeeks}),h.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Eligible Weeks"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:s.weeklySummaries.generatedSummaries}),h.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Summaries"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-amber-600",children:s.weeklySummaries.pendingSummaries}),h.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pending"})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(s.weeklySummaries.summaryRate),"%"]}),h.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Complete"})]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[y?h.jsxs(Mt,{onClick:v,variant:"destructive",className:"flex-1",children:[h.jsx(UE,{className:"w-4 h-4 mr-2"}),"Stop Analysis"]}):h.jsxs(Mt,{onClick:b,disabled:!k,className:"flex-1",children:[h.jsx(zE,{className:"w-4 h-4 mr-2"}),k?`Analyze ${s?.unanalyzedEntries||0} Entries`+(s?.weeklySummaries.pendingSummaries?` + ${s.weeklySummaries.pendingSummaries} Summaries`:""):"All Analysis Complete"]}),h.jsx(Mt,{onClick:()=>u(!c),variant:"outline",size:"icon",children:h.jsx(fs,{className:"w-4 h-4"})})]}),n&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("span",{className:"font-medium",children:["Phase ",n.currentPhase==="daily-analysis"?1:n.currentPhase==="weekly-summaries"?2:3," of ",n.totalPhases]}),h.jsxs("span",{className:"text-gray-500",children:[n.completed," / ",n.total]})]}),h.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n.currentPhaseDescription}),h.jsx(sg,{value:A,className:"h-2"}),n.current&&h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[y?"Processing: ":"Last processed: ",h.jsx("span",{className:"font-medium",children:n.current})]}),n.currentPhase==="daily-analysis"&&n.dailyAnalysis.total>0&&h.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Daily entries: ",n.dailyAnalysis.completed," / ",n.dailyAnalysis.total]}),n.currentPhase==="weekly-summaries"&&n.weeklySummaries.total>0&&h.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Weekly summaries: ",n.weeklySummaries.completed," / ",n.weeklySummaries.total]}),n.errors.length>0&&h.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[h.jsx(Pl,{className:"w-4 h-4"}),n.errors.length," error",n.errors.length!==1?"s":""]})]}),i&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h4",{className:"font-medium text-green-900 dark:text-green-300",children:"Analysis Complete"}),h.jsx(wo,{className:"w-5 h-5 text-green-600"})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[h.jsxs("div",{className:"text-center p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[h.jsx("div",{className:"font-bold text-green-700 dark:text-green-300",children:i.dailyAnalysis.processedCount}),h.jsx("div",{className:"text-green-600 dark:text-green-400",children:"Daily Processed"})]}),h.jsxs("div",{className:"text-center p-2 bg-purple-50 dark:bg-purple-900/20 rounded",children:[h.jsx("div",{className:"font-bold text-purple-700 dark:text-purple-300",children:i.weeklySummaries.generatedCount}),h.jsx("div",{className:"text-purple-600 dark:text-purple-400",children:"Summaries"})]}),h.jsxs("div",{className:"text-center p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[h.jsx("div",{className:"font-bold text-red-700 dark:text-red-300",children:i.dailyAnalysis.errors.length+i.weeklySummaries.errors.length}),h.jsx("div",{className:"text-red-600 dark:text-red-400",children:"Errors"})]})]}),h.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Completed in ",Math.round((i.endTime.getTime()-i.startTime.getTime())/1e3),"s",i.weeklySummaries.totalEligibleWeeks>0&&h.jsxs("span",{className:"ml-2",children:["• ",i.weeklySummaries.analyzedCount," weekly analyses"]})]})]}),f&&h.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:h.jsxs("div",{className:"flex items-center gap-2 text-red-700 dark:text-red-300 text-sm",children:[h.jsx(Pl,{className:"w-4 h-4"}),f]})}),c&&h.jsxs("div",{className:"border-t pt-4",children:[h.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Details"}),(i?.dailyAnalysis.errors.length>0||n?.dailyAnalysis.errors.length>0)&&h.jsxs("div",{className:"mb-3",children:[h.jsxs("h6",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Daily Analysis Errors (",i?.dailyAnalysis.errors.length||n?.dailyAnalysis.errors.length||0,")"]}),h.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:(i?.dailyAnalysis.errors||n?.dailyAnalysis.errors||[]).map((E,j)=>h.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 p-2 bg-red-50 dark:bg-red-900/10 rounded",children:typeof E=="string"?E:`${E.entryTitle}: ${E.error}`},j))})]}),(i?.weeklySummaries.errors.length>0||n?.weeklySummaries.errors.length>0)&&h.jsxs("div",{children:[h.jsxs("h6",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Weekly Summary Errors (",i?.weeklySummaries.errors.length||n?.weeklySummaries.errors.length||0,")"]}),h.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:(i?.weeklySummaries.errors||n?.weeklySummaries.errors||[]).map((E,j)=>h.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400 p-2 bg-purple-50 dark:bg-purple-900/10 rounded",children:typeof E=="string"?E:`${Be.formatDate(E.weekStart)}: ${E.error}`},j))})]}),!i?.dailyAnalysis.errors.length&&!i?.weeklySummaries.errors.length&&!n?.dailyAnalysis.errors.length&&!n?.weeklySummaries.errors.length&&h.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No errors to display"})]})]})]}):h.jsx(it,{className:t,children:h.jsx(lt,{className:"pt-4",children:h.jsxs("div",{className:"text-center py-4",children:[h.jsx(rr,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),h.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"AI Model Required"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Load the AI model to enable batch analysis"})]})})})};async function FD(){const e=await _e.getAllEntries();if(e.length===0)return;const t=e.slice(0,Math.floor(e.length*.75));for(const r of t){if(await _e.getAIAnalysisForEntry(r.id))continue;const a=(p=1,g=10,b=.5)=>{const v=Math.pow(Math.random(),1-b);return p+v*(g-p)},i=a(3,10,.6),o=a(3,10,.6),s=a(1,8,.4),l=a(2,10,.5),c=a(3,10,.6),u=i*.25+o*.2+(11-s)*.15+l*.2+c*.2;let f;u>=8?f="very-positive":u>=6?f="positive":u>=4?f="neutral":u>=2?f="negative":f="very-negative",await _e.saveAIAnalysis({entryId:r.id,sentiment:{sentiment:f,confidence:.85,explanation:`The entry's overall tone reflects a ${f} sentiment.`,keywords:WD(r,f),analyzedAt:new Date},happiness:{lifeEvaluation:i,positiveAffect:o,negativeAffect:s,socialSupport:l,personalGrowth:c,overallScore:u,analyzedAt:new Date,confidence:.9,insights:zD(u)}})}console.log(`Created AI analysis for ${t.length} entries`)}function WD(e,t){const r=["happy","joy","excited","grateful","accomplished","productive"],n=["work","day","meeting","thoughts","considering","planning"],a=["tired","frustrated","disappointed","stressed","worried","anxious"];let i;t.includes("positive")?i=[...r,...n]:t==="neutral"?i=n:i=[...a,...n];const o=Math.floor(Math.random()*3)+3,s=[];for(let l=0;l<o;l++){const c=Math.floor(Math.random()*i.length);if(s.push(i[c]),i.splice(c,1),i.length===0)break}return s}function zD(e,t){const r=["You show high overall life satisfaction.","Strong positive emotions are evident in your writing.","Your social connections appear to be a source of strength.","You demonstrate a clear sense of purpose and growth.","You manage stress well based on your emotional balance."],n=["Your overall life satisfaction appears moderate.","Your emotional balance is relatively stable.","Consider strengthening your social connections.","You might benefit from setting new learning goals.","Your stress management seems adequate."],a=["Your overall life satisfaction seems lower in this entry.","Consider activities that bring more positive emotions.","Higher stress levels are detected in this entry.","Reaching out to friends or family might be beneficial.","Setting small, achievable goals could help your wellbeing."];let i;e>=7?i=r:e>=4?i=n:i=a;const o=Math.floor(Math.random()*2)+2,s=[];for(let l=0;l<o;l++){const c=Math.floor(Math.random()*i.length);if(s.push(i[c]),i.splice(c,1),i.length===0)break}return s}const UD=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(!1),[a,i]=N.useState(null),o=async()=>{t(!0),i(null),n(!1);try{await FD(),n(!0)}catch(s){i("Failed to generate demo data"),console.error("Demo data generation failed:",s)}finally{t(!1)}};return h.jsxs("div",{className:"mt-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Demo Data Generator"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Generate AI analysis for existing entries to see the calendar features."}),h.jsx(Mt,{onClick:o,disabled:e,variant:"outline",size:"sm",children:e?"Generating...":"Generate Demo Data"}),r&&h.jsx("div",{className:"mt-2 text-sm text-green-600 dark:text-green-400",children:"Demo data generated successfully! Refresh the page to see the changes."}),a&&h.jsx("div",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:a})]})},KD=()=>{const[e,t]=N.useState(new Date),r=Ni(),n=N.useRef(null),a=s=>{t(s),r(`/entry/new?date=${Be.getDateKey(s)}`)},i=s=>{r(`/entry/${s.id}`)},o=s=>{console.log("Enhanced batch analysis completed:",s);const l=s.dailyAnalysis.processedCount,c=s.weeklySummaries.generatedCount,u=s.dailyAnalysis.errors.length+s.weeklySummaries.errors.length;let f="Analysis complete! ";l>0&&(f+=`${l} entries analyzed. `),c>0&&(f+=`${c} weekly summaries generated. `),u>0&&(f+=`${u} errors occurred.`),n.current&&n.current.forceRefresh&&n.current.forceRefresh(),console.log(f)};return h.jsxs("div",{className:"max-w-5xl mx-auto",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Journal Calendar"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track your writing journey and browse entries by date"})]}),h.jsxs("button",{onClick:()=>r("/"),className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[h.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Write Today"]})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[h.jsx("div",{className:"md:col-span-2",children:h.jsx(KA,{ref:n,selectedDate:e,onDateSelect:a,onEntryClick:i})}),h.jsxs("div",{children:[h.jsx(qD,{onAnalysisComplete:o,className:"mb-4"}),h.jsx(UD,{}),h.jsx(it,{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(Sk,{className:"w-10 h-10 text-blue-500 shrink-0 mt-1"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-300 mb-1",children:"Happiness Metrics Dashboard"}),h.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-400 mb-2",children:"Visualize your emotional patterns and insights from journal entries"}),h.jsx(Mt,{size:"sm",variant:"outline",className:"bg-white dark:bg-blue-950 border-blue-200 dark:border-blue-700",onClick:()=>r("/insights"),children:"View Dashboard"})]})]})})]})]}),h.jsxs("div",{className:"mt-8 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-emerald-900 dark:text-emerald-300 mb-2",children:"How to use the calendar"}),h.jsxs("ul",{className:"text-emerald-800 dark:text-emerald-400 space-y-1",children:[h.jsx("li",{children:"• Click on any date to create a new entry or view existing ones"}),h.jsx("li",{children:"• Hover over dates with entries to see a preview"}),h.jsx("li",{children:"• Color intensity shows how much you wrote that day"}),h.jsx("li",{children:"• Weekly summary indicators appear on Mondays - click to view/generate summaries"}),h.jsx("li",{children:"• The flame icon shows your current writing streak"}),h.jsx("li",{children:"• Use the Enhanced Analyze button to process both entries and weekly summaries"})]})]})]})},GD=()=>{const{id:e}=TN(),[t]=oC(),r=Ni(),[n,a]=N.useState(),[i,o]=N.useState(!0),[s,l]=N.useState(!1),c=e==="new",u=t.get("date"),f=u?new Date(u):new Date;N.useEffect(()=>{(async()=>{if(c){o(!1);return}if(!e){r("/");return}try{const y=await _e.getEntry(e);if(!y){r("/entries");return}a(y)}catch(y){console.error("Failed to load entry:",y),r("/entries")}finally{o(!1)}})()},[e,c,r]);const p=v=>{a(v),c&&r(`/entry/${v.id}`,{replace:!0})},g=async()=>{if(n)try{await _e.deleteEntry(n.id),r("/entries")}catch(v){console.error("Failed to delete entry:",v)}};if(i)return h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading entry..."})});const b=n?n.targetDate:f;return h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("button",{onClick:()=>r(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:h.jsx(KE,{className:"w-5 h-5"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:c?"New Entry":"Edit Entry"}),h.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400 mt-1",children:[h.jsx(va,{className:"w-4 h-4 mr-1"}),Be.formatDate(b),n&&h.jsx("span",{className:"ml-2 text-sm",children:Be.formatTime(n.created)})]})]})]}),n&&!c&&h.jsx("div",{className:"flex items-center space-x-2",children:h.jsx("button",{onClick:()=>l(!0),className:"p-2 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 transition-colors",title:"Delete entry",children:h.jsx(GE,{className:"w-5 h-5"})})})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 mb-6",children:h.jsx(tA,{entry:n,targetDate:c&&u?new Date(u):void 0,onSave:p})}),n&&h.jsx("div",{className:"mb-6",children:h.jsx(aA,{entry:n,onAnalysisComplete:(v,y)=>{console.log("AI Analysis completed:",{sentiment:v,metrics:y})}})}),s&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-sm w-full mx-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Delete Entry"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to delete this entry? This action cannot be undone."}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]})},HD=()=>{const{preferences:e,updatePreferences:t,loading:r}=eg(),n=s=>{t({theme:s}),Eo.applyTheme(s)},a=s=>{t({fontSize:s})},i=()=>{t({dailyPrompts:!e?.dailyPrompts})},o=()=>{t({autoSave:!e?.autoSave})};return r||!e?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading settings..."})}):h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[h.jsx(kk,{className:"w-8 h-8 mr-3"}),"Settings"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Customize your journaling experience"})]}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[h.jsx(rr,{className:"w-5 h-5 mr-2"}),"AI Features"]}),h.jsx("div",{className:"mb-4",children:h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enable on-device AI analysis for sentiment detection and happiness metrics. All processing happens locally - your data never leaves your device."})}),h.jsx(KT,{})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[h.jsx(HE,{className:"w-5 h-5 mr-2"}),"Appearance"]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Theme"}),h.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"auto",label:"Auto"}].map(s=>h.jsx("button",{onClick:()=>n(s.value),className:`
                      p-3 text-sm rounded-lg border transition-colors
                      ${e.theme===s.value?"bg-emerald-100 dark:bg-emerald-900 border-emerald-300 dark:border-emerald-600 text-emerald-700 dark:text-emerald-300":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}
                    `,children:s.label},s.value))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Font Size"}),h.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"small",label:"Small"},{value:"medium",label:"Medium"},{value:"large",label:"Large"}].map(s=>h.jsx("button",{onClick:()=>a(s.value),className:`
                      p-3 text-sm rounded-lg border transition-colors
                      ${e.fontSize===s.value?"bg-emerald-100 dark:bg-emerald-900 border-emerald-300 dark:border-emerald-600 text-emerald-700 dark:text-emerald-300":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}
                    `,children:s.label},s.value))})]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[h.jsx(VE,{className:"w-5 h-5 mr-2"}),"Writing"]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Daily Writing Prompts"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Show inspirational prompts when starting a new entry"})]}),h.jsx("button",{onClick:i,className:`
                  relative inline-flex h-6 w-11 items-center rounded-full transition-colors
                  ${e.dailyPrompts?"bg-emerald-600":"bg-gray-200 dark:bg-gray-700"}
                `,children:h.jsx("span",{className:`
                    inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                    ${e.dailyPrompts?"translate-x-6":"translate-x-1"}
                  `})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Auto Save"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Automatically save your entries every 30 seconds"})]}),h.jsx("button",{onClick:o,className:`
                  relative inline-flex h-6 w-11 items-center rounded-full transition-colors
                  ${e.autoSave?"bg-emerald-600":"bg-gray-200 dark:bg-gray-700"}
                `,children:h.jsx("span",{className:`
                    inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                    ${e.autoSave?"translate-x-6":"translate-x-1"}
                  `})})]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[h.jsx(fm,{className:"w-5 h-5 mr-2"}),"Privacy & Data"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-lg p-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-emerald-900 dark:text-emerald-300 mb-2",children:"Local-First Privacy"}),h.jsx("p",{className:"text-sm text-emerald-800 dark:text-emerald-400",children:"All your journal entries are stored locally on your device. No data is sent to external servers, ensuring complete privacy."})]}),h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[h.jsx("p",{children:"• Data is stored in your browser's IndexedDB"}),h.jsx("p",{children:"• Works completely offline"}),h.jsx("p",{children:"• Export your data anytime"}),h.jsx("p",{children:"• No account registration required"})]})]})]})]})]})},VD=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(null),a=async()=>{t(!0);try{const o=await _e.exportData(),s=JSON.stringify(o,null,2),l=new Blob([s],{type:"application/json"}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=`reflect-journal-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c),n({entries:o.entries.length,size:(l.size/1024).toFixed(2)+" KB"})}catch(o){console.error("Export failed:",o)}finally{t(!1)}},i=async()=>{t(!0);try{const o=await _e.exportData();let s=`# Reflect Journal Export

`;o.entries.forEach(f=>{const p=new Date(f.targetDate).toLocaleDateString();s+=`## ${p}

`;let g=f.content.replace(/<h1>/g,"# ").replace(/<\/h1>/g,`

`).replace(/<h2>/g,"## ").replace(/<\/h2>/g,`

`).replace(/<h3>/g,"### ").replace(/<\/h3>/g,`

`).replace(/<strong>/g,"**").replace(/<\/strong>/g,"**").replace(/<em>/g,"*").replace(/<\/em>/g,"*").replace(/<p>/g,"").replace(/<\/p>/g,`

`).replace(/<br\s*\/?>/g,`
`).replace(/<[^>]*>/g,"");s+=g+`

`,f.metadata.tags.length>0&&(s+=`**Tags:** ${f.metadata.tags.map(b=>`#${b}`).join(", ")}

`),s+=`---

`});const l=new Blob([s],{type:"text/markdown"}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=`reflect-journal-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c),n({entries:o.entries.length,size:(l.size/1024).toFixed(2)+" KB"})}catch(o){console.error("Export failed:",o)}finally{t(!1)}};return h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[h.jsx(Mc,{className:"w-8 h-8 mr-3"}),"Export Data"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Download your journal entries in different formats"})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 flex items-center",children:[h.jsx(YE,{className:"w-5 h-5 mr-2"}),"JSON Format"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Complete backup including all metadata, settings, and entry data. Best for importing back into Reflect."}),h.jsxs("ul",{className:"text-sm text-gray-500 dark:text-gray-400 space-y-1",children:[h.jsx("li",{children:"• Preserves all formatting and metadata"}),h.jsx("li",{children:"• Includes timestamps and word counts"}),h.jsx("li",{children:"• Can be imported back to restore data"}),h.jsx("li",{children:"• Machine-readable format"})]})]}),h.jsx("button",{onClick:a,disabled:e,className:"ml-6 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:e?"Exporting...":"Export JSON"})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 flex items-center",children:[h.jsx(Ir,{className:"w-5 h-5 mr-2"}),"Markdown Format"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Human-readable text format that works with most text editors and note-taking apps."}),h.jsxs("ul",{className:"text-sm text-gray-500 dark:text-gray-400 space-y-1",children:[h.jsx("li",{children:"• Human-readable text format"}),h.jsx("li",{children:"• Works with most text editors"}),h.jsx("li",{children:"• Compatible with other note apps"}),h.jsx("li",{children:"• Easy to read and share"})]})]}),h.jsx("button",{onClick:i,disabled:e,className:"ml-6 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:e?"Exporting...":"Export Markdown"})]})}),r&&h.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-emerald-900 dark:text-emerald-300 mb-2",children:"Export Complete!"}),h.jsxs("p",{className:"text-emerald-800 dark:text-emerald-400",children:["Successfully exported ",r.entries," entries (",r.size,")"]})]}),h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-2",children:"Privacy Notice"}),h.jsx("p",{className:"text-blue-800 dark:text-blue-400 text-sm",children:"Your exported data contains all your personal journal entries. Please store the exported files securely and only share them with trusted applications or people."})]})]})]})},YD=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(null),[a,i]=N.useState(!1),o=N.useRef(null),s=g=>{if(!g.name.endsWith(".json")){n({success:!1,message:"Please select a valid JSON file exported from Reflect."});return}const b=new FileReader;b.onload=async v=>{try{t(!0);const y=v.target?.result,w=JSON.parse(y);if(!w.entries||!Array.isArray(w.entries))throw new Error("Invalid file format. Please select a valid Reflect export file.");for(const k of w.entries)if(!k.id||!k.content||!k.created||!k.metadata)throw new Error("Invalid entry format in the import file.");await _e.importData(w),n({success:!0,message:"Import completed successfully!",entriesCount:w.entries.length})}catch(y){console.error("Import failed:",y),n({success:!1,message:y instanceof Error?y.message:"Import failed. Please check the file format."})}finally{t(!1)}},b.readAsText(g)},l=g=>{g.preventDefault(),i(!0)},c=g=>{g.preventDefault(),i(!1)},u=g=>{g.preventDefault(),i(!1);const b=Array.from(g.dataTransfer.files);b.length>0&&s(b[0])},f=g=>{const b=g.target.files;b&&b.length>0&&s(b[0])},p=()=>{o.current?.click()};return h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[h.jsx(jk,{className:"w-8 h-8 mr-3"}),"Import Data"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Import journal entries from a previously exported file"})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 border border-amber-200 dark:border-amber-800",children:h.jsxs("div",{className:"flex items-start",children:[h.jsx(Pl,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 mr-3"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-amber-800 dark:text-amber-300 mb-1",children:"Important Warning"}),h.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Importing will replace all existing entries and settings. This action cannot be undone. Consider exporting your current data first as a backup."})]})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:h.jsx("div",{className:`
              relative p-8 border-2 border-dashed rounded-lg transition-colors
              ${a?"border-emerald-400 dark:border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":"border-gray-300 dark:border-gray-600"}
            `,onDragOver:l,onDragLeave:c,onDrop:u,children:h.jsxs("div",{className:"text-center",children:[h.jsx(Ir,{className:`
                w-12 h-12 mx-auto mb-4
                ${a?"text-emerald-500 dark:text-emerald-400":"text-gray-400 dark:text-gray-500"}
              `}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:a?"Drop file here":"Import Journal Data"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Drop your exported JSON file here or click to browse"}),h.jsx("button",{onClick:p,disabled:e,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:e?"Importing...":"Browse Files"}),h.jsx("input",{ref:o,type:"file",accept:".json",onChange:f,className:"hidden"})]})})}),r&&h.jsx("div",{className:`
            rounded-lg p-4 border
            ${r.success?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}
          `,children:h.jsxs("div",{className:"flex items-start",children:[r.success?h.jsx(wo,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400 mt-0.5 mr-3"}):h.jsx(Pl,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 mr-3"}),h.jsxs("div",{children:[h.jsx("h3",{className:`
                  text-sm font-semibold mb-1
                  ${r.success?"text-emerald-800 dark:text-emerald-300":"text-red-800 dark:text-red-300"}
                `,children:r.success?"Import Successful":"Import Failed"}),h.jsxs("p",{className:`
                  text-sm
                  ${r.success?"text-emerald-700 dark:text-emerald-400":"text-red-700 dark:text-red-400"}
                `,children:[r.message,r.entriesCount!==void 0&&h.jsxs("span",{className:"block mt-1",children:["Imported ",r.entriesCount," entries"]})]})]})]})}),h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Import Instructions"}),h.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-2",children:[h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-500 rounded-full mt-2 mr-3 flex-shrink-0"}),"Only JSON files exported from Reflect are supported"]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-500 rounded-full mt-2 mr-3 flex-shrink-0"}),"All existing data will be replaced during import"]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-500 rounded-full mt-2 mr-3 flex-shrink-0"}),"Make sure to backup your current data before importing"]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-500 rounded-full mt-2 mr-3 flex-shrink-0"}),"The import process may take a few moments for large files"]})]})]})]})]})};var df,I0;function Xt(){if(I0)return df;I0=1;var e=Array.isArray;return df=e,df}var hf,R0;function GA(){if(R0)return hf;R0=1;var e=typeof uo=="object"&&uo&&uo.Object===Object&&uo;return hf=e,hf}var pf,$0;function Lr(){if($0)return pf;$0=1;var e=GA(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return pf=r,pf}var mf,B0;function hs(){if(B0)return mf;B0=1;var e=Lr(),t=e.Symbol;return mf=t,mf}var yf,L0;function XD(){if(L0)return yf;L0=1;var e=hs(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var s=r.call(o,a),l=o[a];try{o[a]=void 0;var c=!0}catch{}var u=n.call(o);return c&&(s?o[a]=l:delete o[a]),u}return yf=i,yf}var gf,q0;function JD(){if(q0)return gf;q0=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return gf=r,gf}var vf,F0;function ln(){if(F0)return vf;F0=1;var e=hs(),t=XD(),r=JD(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?a:n:i&&i in Object(s)?t(s):r(s)}return vf=o,vf}var bf,W0;function cn(){if(W0)return bf;W0=1;function e(t){return t!=null&&typeof t=="object"}return bf=e,bf}var xf,z0;function Ti(){if(z0)return xf;z0=1;var e=ln(),t=cn(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return xf=n,xf}var wf,U0;function lg(){if(U0)return wf;U0=1;var e=Xt(),t=Ti(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var s=typeof i;return s=="number"||s=="symbol"||s=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return wf=a,wf}var Sf,K0;function $n(){if(K0)return Sf;K0=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Sf=e,Sf}var jf,G0;function cg(){if(G0)return jf;G0=1;var e=ln(),t=$n(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==n||l==a||l==r||l==i}return jf=o,jf}var kf,H0;function QD(){if(H0)return kf;H0=1;var e=Lr(),t=e["__core-js_shared__"];return kf=t,kf}var Af,V0;function ZD(){if(V0)return Af;V0=1;var e=QD(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return Af=r,Af}var Of,Y0;function HA(){if(Y0)return Of;Y0=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Of=r,Of}var _f,X0;function eI(){if(X0)return _f;X0=1;var e=cg(),t=ZD(),r=$n(),n=HA(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=RegExp("^"+l.call(c).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||t(p))return!1;var g=e(p)?u:i;return g.test(n(p))}return _f=f,_f}var Pf,J0;function tI(){if(J0)return Pf;J0=1;function e(t,r){return t?.[r]}return Pf=e,Pf}var Ef,Q0;function Sa(){if(Q0)return Ef;Q0=1;var e=eI(),t=tI();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return Ef=r,Ef}var Nf,Z0;function qc(){if(Z0)return Nf;Z0=1;var e=Sa(),t=e(Object,"create");return Nf=t,Nf}var Cf,eb;function rI(){if(eb)return Cf;eb=1;var e=qc();function t(){this.__data__=e?e(null):{},this.size=0}return Cf=t,Cf}var Tf,tb;function nI(){if(tb)return Tf;tb=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Tf=e,Tf}var Mf,rb;function aI(){if(rb)return Mf;rb=1;var e=qc(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var s=o[i];return s===t?void 0:s}return n.call(o,i)?o[i]:void 0}return Mf=a,Mf}var Df,nb;function iI(){if(nb)return Df;nb=1;var e=qc(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return Df=n,Df}var If,ab;function oI(){if(ab)return If;ab=1;var e=qc(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return If=r,If}var Rf,ib;function sI(){if(ib)return Rf;ib=1;var e=rI(),t=nI(),r=aI(),n=iI(),a=oI();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Rf=i,Rf}var $f,ob;function lI(){if(ob)return $f;ob=1;function e(){this.__data__=[],this.size=0}return $f=e,$f}var Bf,sb;function ug(){if(sb)return Bf;sb=1;function e(t,r){return t===r||t!==t&&r!==r}return Bf=e,Bf}var Lf,lb;function Fc(){if(lb)return Lf;lb=1;var e=ug();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return Lf=t,Lf}var qf,cb;function cI(){if(cb)return qf;cb=1;var e=Fc(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var s=i.length-1;return o==s?i.pop():r.call(i,o,1),--this.size,!0}return qf=n,qf}var Ff,ub;function uI(){if(ub)return Ff;ub=1;var e=Fc();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return Ff=t,Ff}var Wf,fb;function fI(){if(fb)return Wf;fb=1;var e=Fc();function t(r){return e(this.__data__,r)>-1}return Wf=t,Wf}var zf,db;function dI(){if(db)return zf;db=1;var e=Fc();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return zf=t,zf}var Uf,hb;function Wc(){if(hb)return Uf;hb=1;var e=lI(),t=cI(),r=uI(),n=fI(),a=dI();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Uf=i,Uf}var Kf,pb;function fg(){if(pb)return Kf;pb=1;var e=Sa(),t=Lr(),r=e(t,"Map");return Kf=r,Kf}var Gf,mb;function hI(){if(mb)return Gf;mb=1;var e=sI(),t=Wc(),r=fg();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Gf=n,Gf}var Hf,yb;function pI(){if(yb)return Hf;yb=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Hf=e,Hf}var Vf,gb;function zc(){if(gb)return Vf;gb=1;var e=pI();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Vf=t,Vf}var Yf,vb;function mI(){if(vb)return Yf;vb=1;var e=zc();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Yf=t,Yf}var Xf,bb;function yI(){if(bb)return Xf;bb=1;var e=zc();function t(r){return e(this,r).get(r)}return Xf=t,Xf}var Jf,xb;function gI(){if(xb)return Jf;xb=1;var e=zc();function t(r){return e(this,r).has(r)}return Jf=t,Jf}var Qf,wb;function vI(){if(wb)return Qf;wb=1;var e=zc();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Qf=t,Qf}var Zf,Sb;function dg(){if(Sb)return Zf;Sb=1;var e=hI(),t=mI(),r=yI(),n=gI(),a=vI();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Zf=i,Zf}var ed,jb;function VA(){if(jb)return ed;jb=1;var e=dg(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,s=a?a.apply(this,o):o[0],l=i.cache;if(l.has(s))return l.get(s);var c=n.apply(this,o);return i.cache=l.set(s,c)||l,c};return i.cache=new(r.Cache||e),i}return r.Cache=e,ed=r,ed}var td,kb;function bI(){if(kb)return td;kb=1;var e=VA(),t=500;function r(n){var a=e(n,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return td=r,td}var rd,Ab;function xI(){if(Ab)return rd;Ab=1;var e=bI(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,s,l,c){i.push(l?c.replace(r,"$1"):s||o)}),i});return rd=n,rd}var nd,Ob;function hg(){if(Ob)return nd;Ob=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return nd=e,nd}var ad,_b;function wI(){if(_b)return ad;_b=1;var e=hs(),t=hg(),r=Xt(),n=Ti(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return i?i.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return ad=o,ad}var id,Pb;function YA(){if(Pb)return id;Pb=1;var e=wI();function t(r){return r==null?"":e(r)}return id=t,id}var od,Eb;function XA(){if(Eb)return od;Eb=1;var e=Xt(),t=lg(),r=xI(),n=YA();function a(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return od=a,od}var sd,Nb;function Uc(){if(Nb)return sd;Nb=1;var e=Ti();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return sd=t,sd}var ld,Cb;function pg(){if(Cb)return ld;Cb=1;var e=XA(),t=Uc();function r(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[t(a[i++])];return i&&i==o?n:void 0}return ld=r,ld}var cd,Tb;function JA(){if(Tb)return cd;Tb=1;var e=pg();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return cd=t,cd}var SI=JA();const lr=Je(SI);var ud,Mb;function jI(){if(Mb)return ud;Mb=1;function e(t){return t==null}return ud=e,ud}var kI=jI();const Le=Je(kI);var fd,Db;function AI(){if(Db)return fd;Db=1;var e=ln(),t=Xt(),r=cn(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return fd=a,fd}var OI=AI();const ps=Je(OI);var _I=cg();const Ie=Je(_I);var PI=$n();const Mi=Je(PI);var dd={exports:{}},He={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function EI(){if(Ib)return He;Ib=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function v(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case e:switch(y=y.type,y){case r:case a:case n:case c:case u:return y;default:switch(y=y&&y.$$typeof,y){case s:case o:case l:case p:case f:case i:return y;default:return w}}case t:return w}}}return He.ContextConsumer=o,He.ContextProvider=i,He.Element=e,He.ForwardRef=l,He.Fragment=r,He.Lazy=p,He.Memo=f,He.Portal=t,He.Profiler=a,He.StrictMode=n,He.Suspense=c,He.SuspenseList=u,He.isAsyncMode=function(){return!1},He.isConcurrentMode=function(){return!1},He.isContextConsumer=function(y){return v(y)===o},He.isContextProvider=function(y){return v(y)===i},He.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},He.isForwardRef=function(y){return v(y)===l},He.isFragment=function(y){return v(y)===r},He.isLazy=function(y){return v(y)===p},He.isMemo=function(y){return v(y)===f},He.isPortal=function(y){return v(y)===t},He.isProfiler=function(y){return v(y)===a},He.isStrictMode=function(y){return v(y)===n},He.isSuspense=function(y){return v(y)===c},He.isSuspenseList=function(y){return v(y)===u},He.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===c||y===u||y===g||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===f||y.$$typeof===i||y.$$typeof===o||y.$$typeof===l||y.$$typeof===b||y.getModuleId!==void 0)},He.typeOf=v,He}var Rb;function NI(){return Rb||(Rb=1,dd.exports=EI()),dd.exports}var CI=NI(),hd,$b;function QA(){if($b)return hd;$b=1;var e=ln(),t=cn(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return hd=n,hd}var pd,Bb;function TI(){if(Bb)return pd;Bb=1;var e=QA();function t(r){return e(r)&&r!=+r}return pd=t,pd}var MI=TI();const ms=Je(MI);var DI=QA();const II=Je(DI);var br=function(t){return t===0?0:t>0?1:-1},na=function(t){return ps(t)&&t.indexOf("%")===t.length-1},ve=function(t){return II(t)&&!ms(t)},jt=function(t){return ve(t)||ps(t)},RI=0,ys=function(t){var r=++RI;return"".concat(t||"").concat(r)},pa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&!ps(t))return n;var i;if(na(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ms(i)&&(i=n),a&&i>r&&(i=r),i},On=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},$I=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},gr=function(t,r){return ve(t)&&ve(r)?function(n){return t+n*(r-t)}:function(){return r}};function $l(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):lr(n,t))===r})}function Za(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}var BI=["viewBox","children"],LI=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Lb=["points","pathLength"],md={svg:BI,polygon:Lb,polyline:Lb},mg=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bl=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),!Mi(n))return null;var a={};return Object.keys(n).forEach(function(i){mg.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},qI=function(t,r,n){return function(a){return t(r,n,a),null}},Ll=function(t,r,n){if(!Mi(t)||Pm(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];mg.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=qI(o,r,n))}),a},FI=["children"],WI=["children"];function qb(e,t){if(e==null)return{};var r=zI(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}var Fb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Qr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Wb=null,yd=null,yg=function e(t){if(t===Wb&&Array.isArray(yd))return yd;var r=[];return N.Children.forEach(t,function(n){Le(n)||(CI.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),yd=r,Wb=t,r};function cr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Qr(a)}):n=[Qr(t)],yg(e).forEach(function(a){var i=lr(a,"type.displayName")||lr(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function er(e,t){var r=cr(e,t);return r&&r[0]}var zb=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ve(n)||n<=0||!ve(a)||a<=0)},UI=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],KI=function(t){return t&&t.type&&ps(t.type)&&UI.indexOf(t.type)>=0},GI=function(t){return t&&Em(t)==="object"&&"clipDot"in t},HI=function(t,r,n,a){var i,o=(i=md?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ie(t)&&(a&&o.includes(r)||LI.includes(r))||n&&mg.includes(r)},We=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(N.isValidElement(t)&&(a=t.props),!Mi(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;HI((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},Nm=function e(t,r){if(t===r)return!0;var n=N.Children.count(t);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Ub(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Ub(i,o))return!1}return!0},Ub=function(t,r){if(Le(t)&&Le(r))return!0;if(!Le(t)&&!Le(r)){var n=t.props||{},a=n.children,i=qb(n,FI),o=r.props||{},s=o.children,l=qb(o,WI);return a&&s?Za(i,l)&&Nm(a,s):!a&&!s?Za(i,l):!1}return!1},Kb=function(t,r){var n=[],a={};return yg(t).forEach(function(i,o){if(KI(i))n.push(i);else if(i){var s=Qr(i.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!a[s])){var f=c(i,s,o);n.push(f),a[s]=!0}}}),n},VI=function(t){var r=t&&t.type;return r&&Fb[r]?Fb[r]:null},YI=function(t,r){return yg(r).indexOf(t)},XI=["children","width","height","viewBox","className","style","title","desc"];function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cm.apply(this,arguments)}function JI(e,t){if(e==null)return{};var r=QI(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tm(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,c=JI(e,XI),u=a||{width:r,height:n,x:0,y:0},f=Ue("recharts-surface",i);return q.createElement("svg",Cm({},We(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),q.createElement("title",null,s),q.createElement("desc",null,l),t)}var ZI=["children","className"];function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(this,arguments)}function eR(e,t){if(e==null)return{};var r=tR(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var gt=q.forwardRef(function(e,t){var r=e.children,n=e.className,a=eR(e,ZI),i=Ue("recharts-layer",n);return q.createElement("g",Mm({className:i},We(a,!0),{ref:t}),r)}),Zr=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},gd,Gb;function rR(){if(Gb)return gd;Gb=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+r];return o}return gd=e,gd}var vd,Hb;function nR(){if(Hb)return vd;Hb=1;var e=rR();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return vd=t,vd}var bd,Vb;function ZA(){if(Vb)return bd;Vb=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+a+i+"]");function l(c){return s.test(c)}return bd=l,bd}var xd,Yb;function aR(){if(Yb)return xd;Yb=1;function e(t){return t.split("")}return xd=e,xd}var wd,Xb;function iR(){if(Xb)return wd;Xb=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",s="["+a+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",b=c+"?",v="["+i+"]?",y="(?:"+g+"(?:"+[u,f,p].join("|")+")"+v+b+")*",w=v+b+y,k="(?:"+[u+s+"?",s,f,p,o].join("|")+")",A=RegExp(l+"(?="+l+")|"+k+w,"g");function E(j){return j.match(A)||[]}return wd=E,wd}var Sd,Jb;function oR(){if(Jb)return Sd;Jb=1;var e=aR(),t=ZA(),r=iR();function n(a){return t(a)?r(a):e(a)}return Sd=n,Sd}var jd,Qb;function sR(){if(Qb)return jd;Qb=1;var e=nR(),t=ZA(),r=oR(),n=YA();function a(i){return function(o){o=n(o);var s=t(o)?r(o):void 0,l=s?s[0]:o.charAt(0),c=s?e(s,1).join(""):o.slice(1);return l[i]()+c}}return jd=a,jd}var kd,Zb;function lR(){if(Zb)return kd;Zb=1;var e=sR(),t=e("toUpperCase");return kd=t,kd}var cR=lR();const Kc=Je(cR);function et(e){return function(){return e}}const eO=Math.cos,ql=Math.sin,Ar=Math.sqrt,Fl=Math.PI,Gc=2*Fl,Dm=Math.PI,Im=2*Dm,Zn=1e-6,uR=Im-Zn;function tO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function fR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tO;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class dR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tO:fR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=n-t,c=a-r,u=o-t,f=s-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Zn)if(!(Math.abs(f*l-c*u)>Zn)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,b=a-s,v=l*l+c*c,y=g*g+b*b,w=Math.sqrt(v),k=Math.sqrt(p),A=i*Math.tan((Dm-Math.acos((v+p-y)/(2*w*k)))/2),E=A/k,j=A/w;Math.abs(E-1)>Zn&&this._append`L${t+E*u},${r+E*f}`,this._append`A${i},${i},0,0,${+(f*g>u*b)},${this._x1=t+j*l},${this._y1=r+j*c}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,u=r+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Zn||Math.abs(this._y1-u)>Zn)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%Im+Im),p>uR?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:p>Zn&&this._append`A${n},${n},0,${+(p>=Dm)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function gg(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new dR(t)}function vg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rO(e){this._context=e}rO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hc(e){return new rO(e)}function nO(e){return e[0]}function aO(e){return e[1]}function iO(e,t){var r=et(!0),n=null,a=Hc,i=null,o=gg(s);e=typeof e=="function"?e:e===void 0?nO:et(e),t=typeof t=="function"?t:t===void 0?aO:et(t);function s(l){var c,u=(l=vg(l)).length,f,p=!1,g;for(n==null&&(i=a(g=o())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,c,l),+t(f,c,l));if(g)return i=null,g+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:et(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:et(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:et(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),s):n},s}function sl(e,t,r){var n=null,a=et(!0),i=null,o=Hc,s=null,l=gg(c);e=typeof e=="function"?e:e===void 0?nO:et(+e),t=typeof t=="function"?t:et(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?aO:et(+r);function c(f){var p,g,b,v=(f=vg(f)).length,y,w=!1,k,A=new Array(v),E=new Array(v);for(i==null&&(s=o(k=l())),p=0;p<=v;++p){if(!(p<v&&a(y=f[p],p,f))===w)if(w=!w)g=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=p-1;b>=g;--b)s.point(A[b],E[b]);s.lineEnd(),s.areaEnd()}w&&(A[p]=+e(y,p,f),E[p]=+t(y,p,f),s.point(n?+n(y,p,f):A[p],r?+r(y,p,f):E[p]))}if(k)return s=null,k+""||null}function u(){return iO().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:et(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:et(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:et(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:et(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:et(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:et(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:et(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),c):i},c}class oO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function hR(e){return new oO(e,!0)}function pR(e){return new oO(e,!1)}const bg={draw(e,t){const r=Ar(t/Fl);e.moveTo(r,0),e.arc(0,0,r,0,Gc)}},mR={draw(e,t){const r=Ar(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},sO=Ar(1/3),yR=sO*2,gR={draw(e,t){const r=Ar(t/yR),n=r*sO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},vR={draw(e,t){const r=Ar(t),n=-r/2;e.rect(n,n,r,r)}},bR=.8908130915292852,lO=ql(Fl/10)/ql(7*Fl/10),xR=ql(Gc/10)*lO,wR=-eO(Gc/10)*lO,SR={draw(e,t){const r=Ar(t*bR),n=xR*r,a=wR*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Gc*i/5,s=eO(o),l=ql(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},Ad=Ar(3),jR={draw(e,t){const r=-Ar(t/(Ad*3));e.moveTo(0,r*2),e.lineTo(-Ad*r,-r),e.lineTo(Ad*r,-r),e.closePath()}},ir=-.5,or=Ar(3)/2,Rm=1/Ar(12),kR=(Rm/2+1)*3,AR={draw(e,t){const r=Ar(t/kR),n=r/2,a=r*Rm,i=n,o=r*Rm+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(ir*n-or*a,or*n+ir*a),e.lineTo(ir*i-or*o,or*i+ir*o),e.lineTo(ir*s-or*l,or*s+ir*l),e.lineTo(ir*n+or*a,ir*a-or*n),e.lineTo(ir*i+or*o,ir*o-or*i),e.lineTo(ir*s+or*l,ir*l-or*s),e.closePath()}};function OR(e,t){let r=null,n=gg(a);e=typeof e=="function"?e:et(e||bg),t=typeof t=="function"?t:et(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:et(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:et(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Wl(){}function zl(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function cO(e){this._context=e}cO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _R(e){return new cO(e)}function uO(e){this._context=e}uO.prototype={areaStart:Wl,areaEnd:Wl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PR(e){return new uO(e)}function fO(e){this._context=e}fO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ER(e){return new fO(e)}function dO(e){this._context=e}dO.prototype={areaStart:Wl,areaEnd:Wl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function NR(e){return new dO(e)}function ex(e){return e<0?-1:1}function tx(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(ex(i)+ex(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function rx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Od(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function Ul(e){this._context=e}Ul.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Od(this,this._t0,rx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Od(this,rx(this,r=tx(this,e,t)),r);break;default:Od(this,this._t0,r=tx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function hO(e){this._context=new pO(e)}(hO.prototype=Object.create(Ul.prototype)).point=function(e,t){Ul.prototype.point.call(this,t,e)};function pO(e){this._context=e}pO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function CR(e){return new Ul(e)}function TR(e){return new hO(e)}function mO(e){this._context=e}mO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=nx(e),a=nx(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function nx(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function MR(e){return new mO(e)}function Vc(e,t){this._context=e,this._t=t}Vc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function DR(e){return new Vc(e,.5)}function IR(e){return new Vc(e,0)}function RR(e){return new Vc(e,1)}function oi(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function $m(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function $R(e,t){return e[t]}function BR(e){const t=[];return t.key=e,t}function LR(){var e=et([]),t=$m,r=oi,n=$R;function a(i){var o=Array.from(e.apply(this,arguments),BR),s,l=o.length,c=-1,u;for(const f of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,i)]).data=f;for(s=0,u=vg(t(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:et(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:et(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?$m:typeof i=="function"?i:et(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??oi,a):r},a}function qR(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}oi(e,t)}}function FR(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}oi(e,t)}}function WR(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],f=u[n][1]||0,p=u[n-1][1]||0,g=(f-p)/2,b=0;b<s;++b){var v=e[t[b]],y=v[n][1]||0,w=v[n-1][1]||0;g+=y-w}l+=f,c+=g*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,oi(e,t)}}function No(e){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(e)}var zR=["type","size","sizeType"];function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bm.apply(this,arguments)}function ax(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ix(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ax(Object(r),!0).forEach(function(n){UR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ax(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UR(e,t,r){return t=KR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KR(e){var t=GR(e,"string");return No(t)=="symbol"?t:t+""}function GR(e,t){if(No(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(No(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HR(e,t){if(e==null)return{};var r=VR(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yO={symbolCircle:bg,symbolCross:mR,symbolDiamond:gR,symbolSquare:vR,symbolStar:SR,symbolTriangle:jR,symbolWye:AR},YR=Math.PI/180,XR=function(t){var r="symbol".concat(Kc(t));return yO[r]||bg},JR=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*YR;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},QR=function(t,r){yO["symbol".concat(Kc(t))]=r},xg=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,l=HR(t,zR),c=ix(ix({},l),{},{type:n,size:i,sizeType:s}),u=function(){var y=XR(n),w=OR().type(y).size(JR(i,s,n));return w()},f=c.className,p=c.cx,g=c.cy,b=We(c,!0);return p===+p&&g===+g&&i===+i?q.createElement("path",Bm({},b,{className:Ue("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(g,")"),d:u()})):null};xg.registerSymbol=QR;function si(e){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(e)}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function ox(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ox(Object(r),!0).forEach(function(n){Co(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ox(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vO(n.key),n)}}function r2(e,t,r){return t&&t2(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n2(e,t,r){return t=Kl(t),a2(e,gO()?Reflect.construct(t,r||[],Kl(e).constructor):t.apply(e,r))}function a2(e,t){if(t&&(si(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i2(e)}function i2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gO=function(){return!!e})()}function Kl(e){return Kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kl(e)}function o2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qm(e,t)}function qm(e,t){return qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qm(e,t)}function Co(e,t,r){return t=vO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vO(e){var t=s2(e,"string");return si(t)=="symbol"?t:t+""}function s2(e,t){if(si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(si(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dr=32,wg=function(e){function t(){return e2(this,t),n2(this,t,arguments)}return o2(t,e),r2(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=dr/2,o=dr/6,s=dr/3,l=n.inactive?a:n.color;if(n.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:dr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(dr,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return q.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(dr/8,"h").concat(dr,"v").concat(dr*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(q.isValidElement(n.legendIcon)){var c=ZR({},n);return delete c.legendIcon,q.cloneElement(n.legendIcon,c)}return q.createElement(xg,{fill:l,cx:i,cy:i,size:dr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:dr,height:dr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,b){var v=g.formatter||l,y=Ue(Co(Co({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=Ie(g.value)?null:g.value;Zr(!Ie(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=g.inactive?c:g.color;return q.createElement("li",Lm({className:y,style:f,key:"legend-item-".concat(b)},Ll(n.props,g,b)),q.createElement(Tm,{width:o,height:o,viewBox:u,style:p},n.renderIcon(g)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},v?v(w,g,b):w))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(N.PureComponent);Co(wg,"displayName","Legend");Co(wg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _d,sx;function l2(){if(sx)return _d;sx=1;var e=Wc();function t(){this.__data__=new e,this.size=0}return _d=t,_d}var Pd,lx;function c2(){if(lx)return Pd;lx=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Pd=e,Pd}var Ed,cx;function u2(){if(cx)return Ed;cx=1;function e(t){return this.__data__.get(t)}return Ed=e,Ed}var Nd,ux;function f2(){if(ux)return Nd;ux=1;function e(t){return this.__data__.has(t)}return Nd=e,Nd}var Cd,fx;function d2(){if(fx)return Cd;fx=1;var e=Wc(),t=fg(),r=dg(),n=200;function a(i,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<n-1)return l.push([i,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(i,o),this.size=s.size,this}return Cd=a,Cd}var Td,dx;function bO(){if(dx)return Td;dx=1;var e=Wc(),t=l2(),r=c2(),n=u2(),a=f2(),i=d2();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,Td=o,Td}var Md,hx;function h2(){if(hx)return Md;hx=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Md=t,Md}var Dd,px;function p2(){if(px)return Dd;px=1;function e(t){return this.__data__.has(t)}return Dd=e,Dd}var Id,mx;function xO(){if(mx)return Id;mx=1;var e=dg(),t=h2(),r=p2();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Id=n,Id}var Rd,yx;function wO(){if(yx)return Rd;yx=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return Rd=e,Rd}var $d,gx;function SO(){if(gx)return $d;gx=1;function e(t,r){return t.has(r)}return $d=e,$d}var Bd,vx;function jO(){if(vx)return Bd;vx=1;var e=xO(),t=wO(),r=SO(),n=1,a=2;function i(o,s,l,c,u,f){var p=l&n,g=o.length,b=s.length;if(g!=b&&!(p&&b>g))return!1;var v=f.get(o),y=f.get(s);if(v&&y)return v==s&&y==o;var w=-1,k=!0,A=l&a?new e:void 0;for(f.set(o,s),f.set(s,o);++w<g;){var E=o[w],j=s[w];if(c)var O=p?c(j,E,w,s,o,f):c(E,j,w,o,s,f);if(O!==void 0){if(O)continue;k=!1;break}if(A){if(!t(s,function(P,T){if(!r(A,T)&&(E===P||u(E,P,l,c,f)))return A.push(T)})){k=!1;break}}else if(!(E===j||u(E,j,l,c,f))){k=!1;break}}return f.delete(o),f.delete(s),k}return Bd=i,Bd}var Ld,bx;function m2(){if(bx)return Ld;bx=1;var e=Lr(),t=e.Uint8Array;return Ld=t,Ld}var qd,xx;function y2(){if(xx)return qd;xx=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return qd=e,qd}var Fd,wx;function Sg(){if(wx)return Fd;wx=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return Fd=e,Fd}var Wd,Sx;function g2(){if(Sx)return Wd;Sx=1;var e=hs(),t=m2(),r=ug(),n=jO(),a=y2(),i=Sg(),o=1,s=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",p="[object Number]",g="[object RegExp]",b="[object Set]",v="[object String]",y="[object Symbol]",w="[object ArrayBuffer]",k="[object DataView]",A=e?e.prototype:void 0,E=A?A.valueOf:void 0;function j(O,P,T,M,K,I,B){switch(T){case k:if(O.byteLength!=P.byteLength||O.byteOffset!=P.byteOffset)return!1;O=O.buffer,P=P.buffer;case w:return!(O.byteLength!=P.byteLength||!I(new t(O),new t(P)));case l:case c:case p:return r(+O,+P);case u:return O.name==P.name&&O.message==P.message;case g:case v:return O==P+"";case f:var z=a;case b:var Q=M&o;if(z||(z=i),O.size!=P.size&&!Q)return!1;var X=B.get(O);if(X)return X==P;M|=s,B.set(O,P);var Z=n(z(O),z(P),M,K,I,B);return B.delete(O),Z;case y:if(E)return E.call(O)==E.call(P)}return!1}return Wd=j,Wd}var zd,jx;function kO(){if(jx)return zd;jx=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return zd=e,zd}var Ud,kx;function v2(){if(kx)return Ud;kx=1;var e=kO(),t=Xt();function r(n,a,i){var o=a(n);return t(n)?o:e(o,i(n))}return Ud=r,Ud}var Kd,Ax;function b2(){if(Ax)return Kd;Ax=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,o=[];++n<a;){var s=t[n];r(s,n,t)&&(o[i++]=s)}return o}return Kd=e,Kd}var Gd,Ox;function x2(){if(Ox)return Gd;Ox=1;function e(){return[]}return Gd=e,Gd}var Hd,_x;function w2(){if(_x)return Hd;_x=1;var e=b2(),t=x2(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(s){return n.call(o,s)}))}:t;return Hd=i,Hd}var Vd,Px;function S2(){if(Px)return Vd;Px=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return Vd=e,Vd}var Yd,Ex;function j2(){if(Ex)return Yd;Ex=1;var e=ln(),t=cn(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return Yd=n,Yd}var Xd,Nx;function jg(){if(Nx)return Xd;Nx=1;var e=j2(),t=cn(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return Xd=i,Xd}var fo={exports:{}},Jd,Cx;function k2(){if(Cx)return Jd;Cx=1;function e(){return!1}return Jd=e,Jd}fo.exports;var Tx;function AO(){return Tx||(Tx=1,function(e,t){var r=Lr(),n=k2(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c}(fo,fo.exports)),fo.exports}var Qd,Mx;function kg(){if(Mx)return Qd;Mx=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return Qd=r,Qd}var Zd,Dx;function Ag(){if(Dx)return Zd;Dx=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Zd=t,Zd}var eh,Ix;function A2(){if(Ix)return eh;Ix=1;var e=ln(),t=Ag(),r=cn(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",p="[object RegExp]",g="[object Set]",b="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",k="[object Float32Array]",A="[object Float64Array]",E="[object Int8Array]",j="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",T="[object Uint8ClampedArray]",M="[object Uint16Array]",K="[object Uint32Array]",I={};I[k]=I[A]=I[E]=I[j]=I[O]=I[P]=I[T]=I[M]=I[K]=!0,I[n]=I[a]=I[y]=I[i]=I[w]=I[o]=I[s]=I[l]=I[c]=I[u]=I[f]=I[p]=I[g]=I[b]=I[v]=!1;function B(z){return r(z)&&t(z.length)&&!!I[e(z)]}return eh=B,eh}var th,Rx;function OO(){if(Rx)return th;Rx=1;function e(t){return function(r){return t(r)}}return th=e,th}var ho={exports:{}};ho.exports;var $x;function O2(){return $x||($x=1,function(e,t){var r=GA(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(ho,ho.exports)),ho.exports}var rh,Bx;function _O(){if(Bx)return rh;Bx=1;var e=A2(),t=OO(),r=O2(),n=r&&r.isTypedArray,a=n?t(n):e;return rh=a,rh}var nh,Lx;function _2(){if(Lx)return nh;Lx=1;var e=S2(),t=jg(),r=Xt(),n=AO(),a=kg(),i=_O(),o=Object.prototype,s=o.hasOwnProperty;function l(c,u){var f=r(c),p=!f&&t(c),g=!f&&!p&&n(c),b=!f&&!p&&!g&&i(c),v=f||p||g||b,y=v?e(c.length,String):[],w=y.length;for(var k in c)(u||s.call(c,k))&&!(v&&(k=="length"||g&&(k=="offset"||k=="parent")||b&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||a(k,w)))&&y.push(k);return y}return nh=l,nh}var ah,qx;function P2(){if(qx)return ah;qx=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return ah=t,ah}var ih,Fx;function PO(){if(Fx)return ih;Fx=1;function e(t,r){return function(n){return t(r(n))}}return ih=e,ih}var oh,Wx;function E2(){if(Wx)return oh;Wx=1;var e=PO(),t=e(Object.keys,Object);return oh=t,oh}var sh,zx;function N2(){if(zx)return sh;zx=1;var e=P2(),t=E2(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var s in Object(i))n.call(i,s)&&s!="constructor"&&o.push(s);return o}return sh=a,sh}var lh,Ux;function gs(){if(Ux)return lh;Ux=1;var e=cg(),t=Ag();function r(n){return n!=null&&t(n.length)&&!e(n)}return lh=r,lh}var ch,Kx;function Yc(){if(Kx)return ch;Kx=1;var e=_2(),t=N2(),r=gs();function n(a){return r(a)?e(a):t(a)}return ch=n,ch}var uh,Gx;function C2(){if(Gx)return uh;Gx=1;var e=v2(),t=w2(),r=Yc();function n(a){return e(a,r,t)}return uh=n,uh}var fh,Hx;function T2(){if(Hx)return fh;Hx=1;var e=C2(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,s,l,c,u){var f=s&t,p=e(i),g=p.length,b=e(o),v=b.length;if(g!=v&&!f)return!1;for(var y=g;y--;){var w=p[y];if(!(f?w in o:n.call(o,w)))return!1}var k=u.get(i),A=u.get(o);if(k&&A)return k==o&&A==i;var E=!0;u.set(i,o),u.set(o,i);for(var j=f;++y<g;){w=p[y];var O=i[w],P=o[w];if(l)var T=f?l(P,O,w,o,i,u):l(O,P,w,i,o,u);if(!(T===void 0?O===P||c(O,P,s,l,u):T)){E=!1;break}j||(j=w=="constructor")}if(E&&!j){var M=i.constructor,K=o.constructor;M!=K&&"constructor"in i&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof K=="function"&&K instanceof K)&&(E=!1)}return u.delete(i),u.delete(o),E}return fh=a,fh}var dh,Vx;function M2(){if(Vx)return dh;Vx=1;var e=Sa(),t=Lr(),r=e(t,"DataView");return dh=r,dh}var hh,Yx;function D2(){if(Yx)return hh;Yx=1;var e=Sa(),t=Lr(),r=e(t,"Promise");return hh=r,hh}var ph,Xx;function EO(){if(Xx)return ph;Xx=1;var e=Sa(),t=Lr(),r=e(t,"Set");return ph=r,ph}var mh,Jx;function I2(){if(Jx)return mh;Jx=1;var e=Sa(),t=Lr(),r=e(t,"WeakMap");return mh=r,mh}var yh,Qx;function R2(){if(Qx)return yh;Qx=1;var e=M2(),t=fg(),r=D2(),n=EO(),a=I2(),i=ln(),o=HA(),s="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",p="[object DataView]",g=o(e),b=o(t),v=o(r),y=o(n),w=o(a),k=i;return(e&&k(new e(new ArrayBuffer(1)))!=p||t&&k(new t)!=s||r&&k(r.resolve())!=c||n&&k(new n)!=u||a&&k(new a)!=f)&&(k=function(A){var E=i(A),j=E==l?A.constructor:void 0,O=j?o(j):"";if(O)switch(O){case g:return p;case b:return s;case v:return c;case y:return u;case w:return f}return E}),yh=k,yh}var gh,Zx;function $2(){if(Zx)return gh;Zx=1;var e=bO(),t=jO(),r=g2(),n=T2(),a=R2(),i=Xt(),o=AO(),s=_O(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function b(v,y,w,k,A,E){var j=i(v),O=i(y),P=j?u:a(v),T=O?u:a(y);P=P==c?f:P,T=T==c?f:T;var M=P==f,K=T==f,I=P==T;if(I&&o(v)){if(!o(y))return!1;j=!0,M=!1}if(I&&!M)return E||(E=new e),j||s(v)?t(v,y,w,k,A,E):r(v,y,P,w,k,A,E);if(!(w&l)){var B=M&&g.call(v,"__wrapped__"),z=K&&g.call(y,"__wrapped__");if(B||z){var Q=B?v.value():v,X=z?y.value():y;return E||(E=new e),A(Q,X,w,k,E)}}return I?(E||(E=new e),n(v,y,w,k,A,E)):!1}return gh=b,gh}var vh,ew;function Og(){if(ew)return vh;ew=1;var e=$2(),t=cn();function r(n,a,i,o,s){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,o,r,s)}return vh=r,vh}var bh,tw;function B2(){if(tw)return bh;tw=1;var e=bO(),t=Og(),r=1,n=2;function a(i,o,s,l){var c=s.length,u=c,f=!l;if(i==null)return!u;for(i=Object(i);c--;){var p=s[c];if(f&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++c<u;){p=s[c];var g=p[0],b=i[g],v=p[1];if(f&&p[2]){if(b===void 0&&!(g in i))return!1}else{var y=new e;if(l)var w=l(b,v,g,i,o,y);if(!(w===void 0?t(v,b,r|n,l,y):w))return!1}}return!0}return bh=a,bh}var xh,rw;function NO(){if(rw)return xh;rw=1;var e=$n();function t(r){return r===r&&!e(r)}return xh=t,xh}var wh,nw;function L2(){if(nw)return wh;nw=1;var e=NO(),t=Yc();function r(n){for(var a=t(n),i=a.length;i--;){var o=a[i],s=n[o];a[i]=[o,s,e(s)]}return a}return wh=r,wh}var Sh,aw;function CO(){if(aw)return Sh;aw=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Sh=e,Sh}var jh,iw;function q2(){if(iw)return jh;iw=1;var e=B2(),t=L2(),r=CO();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return jh=n,jh}var kh,ow;function F2(){if(ow)return kh;ow=1;function e(t,r){return t!=null&&r in Object(t)}return kh=e,kh}var Ah,sw;function W2(){if(sw)return Ah;sw=1;var e=XA(),t=jg(),r=Xt(),n=kg(),a=Ag(),i=Uc();function o(s,l,c){l=e(l,s);for(var u=-1,f=l.length,p=!1;++u<f;){var g=i(l[u]);if(!(p=s!=null&&c(s,g)))break;s=s[g]}return p||++u!=f?p:(f=s==null?0:s.length,!!f&&a(f)&&n(g,f)&&(r(s)||t(s)))}return Ah=o,Ah}var Oh,lw;function z2(){if(lw)return Oh;lw=1;var e=F2(),t=W2();function r(n,a){return n!=null&&t(n,a,e)}return Oh=r,Oh}var _h,cw;function U2(){if(cw)return _h;cw=1;var e=Og(),t=JA(),r=z2(),n=lg(),a=NO(),i=CO(),o=Uc(),s=1,l=2;function c(u,f){return n(u)&&a(f)?i(o(u),f):function(p){var g=t(p,u);return g===void 0&&g===f?r(p,u):e(f,g,s|l)}}return _h=c,_h}var Ph,uw;function Di(){if(uw)return Ph;uw=1;function e(t){return t}return Ph=e,Ph}var Eh,fw;function K2(){if(fw)return Eh;fw=1;function e(t){return function(r){return r?.[t]}}return Eh=e,Eh}var Nh,dw;function G2(){if(dw)return Nh;dw=1;var e=pg();function t(r){return function(n){return e(n,r)}}return Nh=t,Nh}var Ch,hw;function H2(){if(hw)return Ch;hw=1;var e=K2(),t=G2(),r=lg(),n=Uc();function a(i){return r(i)?e(n(i)):t(i)}return Ch=a,Ch}var Th,pw;function Bn(){if(pw)return Th;pw=1;var e=q2(),t=U2(),r=Di(),n=Xt(),a=H2();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):a(o)}return Th=i,Th}var Mh,mw;function TO(){if(mw)return Mh;mw=1;function e(t,r,n,a){for(var i=t.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return Mh=e,Mh}var Dh,yw;function V2(){if(yw)return Dh;yw=1;function e(t){return t!==t}return Dh=e,Dh}var Ih,gw;function Y2(){if(gw)return Ih;gw=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return Ih=e,Ih}var Rh,vw;function X2(){if(vw)return Rh;vw=1;var e=TO(),t=V2(),r=Y2();function n(a,i,o){return i===i?r(a,i,o):e(a,t,o)}return Rh=n,Rh}var $h,bw;function J2(){if(bw)return $h;bw=1;var e=X2();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return $h=t,$h}var Bh,xw;function Q2(){if(xw)return Bh;xw=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return Bh=e,Bh}var Lh,ww;function Z2(){if(ww)return Lh;ww=1;function e(){}return Lh=e,Lh}var qh,Sw;function e$(){if(Sw)return qh;Sw=1;var e=EO(),t=Z2(),r=Sg(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return qh=a,qh}var Fh,jw;function t$(){if(jw)return Fh;jw=1;var e=xO(),t=J2(),r=Q2(),n=SO(),a=e$(),i=Sg(),o=200;function s(l,c,u){var f=-1,p=t,g=l.length,b=!0,v=[],y=v;if(u)b=!1,p=r;else if(g>=o){var w=c?null:a(l);if(w)return i(w);b=!1,p=n,y=new e}else y=c?[]:v;e:for(;++f<g;){var k=l[f],A=c?c(k):k;if(k=u||k!==0?k:0,b&&A===A){for(var E=y.length;E--;)if(y[E]===A)continue e;c&&y.push(A),v.push(k)}else p(y,A,u)||(y!==v&&y.push(A),v.push(k))}return v}return Fh=s,Fh}var Wh,kw;function r$(){if(kw)return Wh;kw=1;var e=Bn(),t=t$();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return Wh=r,Wh}var n$=r$();const Aw=Je(n$);function MO(e,t,r){return t===!0?Aw(e,r):Ie(t)?Aw(e,t):e}function li(e){"@babel/helpers - typeof";return li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(e)}var a$=["ref"];function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){Xc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IO(n.key),n)}}function o$(e,t,r){return t&&_w(e.prototype,t),r&&_w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s$(e,t,r){return t=Gl(t),l$(e,DO()?Reflect.construct(t,r||[],Gl(e).constructor):t.apply(e,r))}function l$(e,t){if(t&&(li(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c$(e)}function c$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DO=function(){return!!e})()}function Gl(e){return Gl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gl(e)}function u$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fm(e,t)}function Fm(e,t){return Fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fm(e,t)}function Xc(e,t,r){return t=IO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IO(e){var t=f$(e,"string");return li(t)=="symbol"?t:t+""}function f$(e,t){if(li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(li(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function d$(e,t){if(e==null)return{};var r=h$(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p$(e){return e.value}function m$(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var r=d$(t,a$);return q.createElement(wg,r)}var Pw=1,ei=function(e){function t(){var r;i$(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=s$(this,t,[].concat(a)),Xc(r,"lastBoundingBox",{width:-1,height:-1}),r}return u$(t,e),o$(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Pw||Math.abs(a.height-this.lastBoundingBox.height)>Pw)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Kr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();f={left:((c||0)-g.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var b=this.getBBoxSnapshot();p={top:((u||0)-b.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Kr(Kr({},f),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=Kr(Kr({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},m$(i,Kr(Kr({},this.props),{},{payload:MO(u,c,p$)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Kr(Kr({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ve(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(N.PureComponent);Xc(ei,"displayName","Legend");Xc(ei,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zh,Ew;function y$(){if(Ew)return zh;Ew=1;var e=hs(),t=jg(),r=Xt(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return zh=a,zh}var Uh,Nw;function RO(){if(Nw)return Uh;Nw=1;var e=kO(),t=y$();function r(n,a,i,o,s){var l=-1,c=n.length;for(i||(i=t),s||(s=[]);++l<c;){var u=n[l];a>0&&i(u)?a>1?r(u,a-1,i,o,s):e(s,u):o||(s[s.length]=u)}return s}return Uh=r,Uh}var Kh,Cw;function g$(){if(Cw)return Kh;Cw=1;function e(t){return function(r,n,a){for(var i=-1,o=Object(r),s=a(r),l=s.length;l--;){var c=s[t?l:++i];if(n(o[c],c,o)===!1)break}return r}}return Kh=e,Kh}var Gh,Tw;function v$(){if(Tw)return Gh;Tw=1;var e=g$(),t=e();return Gh=t,Gh}var Hh,Mw;function $O(){if(Mw)return Hh;Mw=1;var e=v$(),t=Yc();function r(n,a){return n&&e(n,a,t)}return Hh=r,Hh}var Vh,Dw;function b$(){if(Dw)return Vh;Dw=1;var e=gs();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var o=a.length,s=n?o:-1,l=Object(a);(n?s--:++s<o)&&i(l[s],s,l)!==!1;);return a}}return Vh=t,Vh}var Yh,Iw;function _g(){if(Iw)return Yh;Iw=1;var e=$O(),t=b$(),r=t(e);return Yh=r,Yh}var Xh,Rw;function BO(){if(Rw)return Xh;Rw=1;var e=_g(),t=gs();function r(n,a){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(s,l,c){o[++i]=a(s,l,c)}),o}return Xh=r,Xh}var Jh,$w;function x$(){if($w)return Jh;$w=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Jh=e,Jh}var Qh,Bw;function w$(){if(Bw)return Qh;Bw=1;var e=Ti();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,s=e(r),l=n!==void 0,c=n===null,u=n===n,f=e(n);if(!c&&!f&&!s&&r>n||s&&l&&u&&!c&&!f||i&&l&&u||!a&&u||!o)return 1;if(!i&&!s&&!f&&r<n||f&&a&&o&&!i&&!s||c&&a&&o||!l&&o||!u)return-1}return 0}return Qh=t,Qh}var Zh,Lw;function S$(){if(Lw)return Zh;Lw=1;var e=w$();function t(r,n,a){for(var i=-1,o=r.criteria,s=n.criteria,l=o.length,c=a.length;++i<l;){var u=e(o[i],s[i]);if(u){if(i>=c)return u;var f=a[i];return u*(f=="desc"?-1:1)}}return r.index-n.index}return Zh=t,Zh}var ep,qw;function j$(){if(qw)return ep;qw=1;var e=hg(),t=pg(),r=Bn(),n=BO(),a=x$(),i=OO(),o=S$(),s=Di(),l=Xt();function c(u,f,p){f.length?f=e(f,function(v){return l(v)?function(y){return t(y,v.length===1?v[0]:v)}:v}):f=[s];var g=-1;f=e(f,i(r));var b=n(u,function(v,y,w){var k=e(f,function(A){return A(v)});return{criteria:k,index:++g,value:v}});return a(b,function(v,y){return o(v,y,p)})}return ep=c,ep}var tp,Fw;function k$(){if(Fw)return tp;Fw=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return tp=e,tp}var rp,Ww;function A$(){if(Ww)return rp;Ww=1;var e=k$(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var o=arguments,s=-1,l=t(o.length-a,0),c=Array(l);++s<l;)c[s]=o[a+s];s=-1;for(var u=Array(a+1);++s<a;)u[s]=o[s];return u[a]=i(c),e(n,this,u)}}return rp=r,rp}var np,zw;function O$(){if(zw)return np;zw=1;function e(t){return function(){return t}}return np=e,np}var ap,Uw;function LO(){if(Uw)return ap;Uw=1;var e=Sa(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return ap=t,ap}var ip,Kw;function _$(){if(Kw)return ip;Kw=1;var e=O$(),t=LO(),r=Di(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return ip=n,ip}var op,Gw;function P$(){if(Gw)return op;Gw=1;var e=800,t=16,r=Date.now;function n(a){var i=0,o=0;return function(){var s=r(),l=t-(s-o);if(o=s,l>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return op=n,op}var sp,Hw;function E$(){if(Hw)return sp;Hw=1;var e=_$(),t=P$(),r=t(e);return sp=r,sp}var lp,Vw;function N$(){if(Vw)return lp;Vw=1;var e=Di(),t=A$(),r=E$();function n(a,i){return r(t(a,i,e),a+"")}return lp=n,lp}var cp,Yw;function Jc(){if(Yw)return cp;Yw=1;var e=ug(),t=gs(),r=kg(),n=$n();function a(i,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?t(s)&&r(o,s.length):l=="string"&&o in s)?e(s[o],i):!1}return cp=a,cp}var up,Xw;function C$(){if(Xw)return up;Xw=1;var e=RO(),t=j$(),r=N$(),n=Jc(),a=r(function(i,o){if(i==null)return[];var s=o.length;return s>1&&n(i,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return up=a,up}var T$=C$();const Pg=Je(T$);function To(e){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(e)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wm.apply(this,arguments)}function M$(e,t){return $$(e)||R$(e,t)||I$(e,t)||D$()}function D$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I$(e,t){if(e){if(typeof e=="string")return Jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(e,t)}}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function $$(e){if(Array.isArray(e))return e}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){B$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B$(e,t,r){return t=L$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L$(e){var t=q$(e,"string");return To(t)=="symbol"?t:t+""}function q$(e,t){if(To(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(To(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F$(e){return Array.isArray(e)&&jt(e[0])&&jt(e[1])?e.join(" ~ "):e}var W$=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,p=t.itemSorter,g=t.wrapperClassName,b=t.labelClassName,v=t.label,y=t.labelFormatter,w=t.accessibilityLayer,k=w===void 0?!1:w,A=function(){if(u&&u.length){var B={padding:0,margin:0},z=(p?Pg(u,p):u).map(function(Q,X){if(Q.type==="none")return null;var Z=fp({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},s),le=Q.formatter||f||F$,ue=Q.value,re=Q.name,ae=ue,fe=re;if(le&&ae!=null&&fe!=null){var ce=le(ue,re,Q,X,u);if(Array.isArray(ce)){var ge=M$(ce,2);ae=ge[0],fe=ge[1]}else ae=ce}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:Z},jt(fe)?q.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,jt(fe)?q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,q.createElement("span",{className:"recharts-tooltip-item-value"},ae),q.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:B},z)}return null},E=fp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=fp({margin:0},c),O=!Le(v),P=O?v:"",T=Ue("recharts-default-tooltip",g),M=Ue("recharts-tooltip-label",b);O&&y&&u!==void 0&&u!==null&&(P=y(v,u));var K=k?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",Wm({className:T,style:E},K),q.createElement("p",{className:M,style:j},q.isValidElement(P)?P:"".concat(P)),A())};function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}function ll(e,t,r){return t=z$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z$(e){var t=U$(e,"string");return Mo(t)=="symbol"?t:t+""}function U$(e,t){if(Mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var to="recharts-tooltip-wrapper",K$={visibility:"hidden"};function G$(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ue(to,ll(ll(ll(ll({},"".concat(to,"-right"),ve(r)&&t&&ve(t.x)&&r>=t.x),"".concat(to,"-left"),ve(r)&&t&&ve(t.x)&&r<t.x),"".concat(to,"-bottom"),ve(n)&&t&&ve(t.y)&&n>=t.y),"".concat(to,"-top"),ve(n)&&t&&ve(t.y)&&n<t.y))}function Zw(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&ve(i[n]))return i[n];var u=r[n]-s-a,f=r[n]+a;if(t[n])return o[n]?u:f;if(o[n]){var p=u,g=l[n];return p<g?Math.max(f,l[n]):Math.max(u,l[n])}var b=f+s,v=l[n]+c;return b>v?Math.max(u,l[n]):Math.max(f,l[n])}function H$(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function V$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,f;return o.height>0&&o.width>0&&r?(u=Zw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Zw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=H$({translateX:u,translateY:f,useTranslate3d:s})):c=K$,{cssProperties:c,cssClasses:G$({translateX:u,translateY:f,coordinate:r})}}function ci(e){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(e)}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){Um(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FO(n.key),n)}}function J$(e,t,r){return t&&X$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q$(e,t,r){return t=Hl(t),Z$(e,qO()?Reflect.construct(t,r||[],Hl(e).constructor):t.apply(e,r))}function Z$(e,t){if(t&&(ci(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eB(e)}function eB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qO=function(){return!!e})()}function Hl(e){return Hl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hl(e)}function tB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zm(e,t)}function zm(e,t){return zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zm(e,t)}function Um(e,t,r){return t=FO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FO(e){var t=rB(e,"string");return ci(t)=="symbol"?t:t+""}function rB(e,t){if(ci(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ci(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rS=1,nB=function(e){function t(){var r;Y$(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Q$(this,t,[].concat(a)),Um(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Um(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return tB(t,e),J$(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>rS||Math.abs(n.height-this.state.lastBoundingBox.height)>rS)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,g=a.offset,b=a.position,v=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,k=a.wrapperStyle,A=V$({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:g,position:b,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),E=A.cssClasses,j=A.cssProperties,O=tS(tS({transition:p&&i?"transform ".concat(s,"ms ").concat(l):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},k);return q.createElement("div",{tabIndex:-1,className:E,style:O,ref:function(T){n.wrapperNode=T}},c)}}])}(N.PureComponent),aB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ii={isSsr:aB()};function ui(e){"@babel/helpers - typeof";return ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(e)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){Eg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zO(n.key),n)}}function sB(e,t,r){return t&&oB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lB(e,t,r){return t=Vl(t),cB(e,WO()?Reflect.construct(t,r||[],Vl(e).constructor):t.apply(e,r))}function cB(e,t){if(t&&(ui(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uB(e)}function uB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WO=function(){return!!e})()}function Vl(e){return Vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vl(e)}function fB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Km(e,t)}function Km(e,t){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Km(e,t)}function Eg(e,t,r){return t=zO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zO(e){var t=dB(e,"string");return ui(t)=="symbol"?t:t+""}function dB(e,t){if(ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hB(e){return e.dataKey}function pB(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(W$,t)}var Ht=function(e){function t(){return iB(this,t),lB(this,t,arguments)}return fB(t,e),sB(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,p=a.isAnimationActive,g=a.offset,b=a.payload,v=a.payloadUniqBy,y=a.position,w=a.reverseDirection,k=a.useTranslate3d,A=a.viewBox,E=a.wrapperStyle,j=b??[];f&&j.length&&(j=MO(b.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),v,hB));var O=j.length>0;return q.createElement(nB,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:i,coordinate:u,hasPayload:O,offset:g,position:y,reverseDirection:w,useTranslate3d:k,viewBox:A,wrapperStyle:E},pB(c,aS(aS({},this.props),{},{payload:j})))}}])}(N.PureComponent);Eg(Ht,"displayName","Tooltip");Eg(Ht,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ii.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dp,iS;function mB(){if(iS)return dp;iS=1;var e=Lr(),t=function(){return e.Date.now()};return dp=t,dp}var hp,oS;function yB(){if(oS)return hp;oS=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return hp=t,hp}var pp,sS;function gB(){if(sS)return pp;sS=1;var e=yB(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return pp=r,pp}var mp,lS;function UO(){if(lS)return mp;lS=1;var e=gB(),t=$n(),r=Ti(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=e(c);var f=i.test(c);return f||o.test(c)?s(c.slice(2),f?2:8):a.test(c)?n:+c}return mp=l,mp}var yp,cS;function vB(){if(cS)return yp;cS=1;var e=$n(),t=mB(),r=UO(),n="Expected a function",a=Math.max,i=Math.min;function o(s,l,c){var u,f,p,g,b,v,y=0,w=!1,k=!1,A=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(c)&&(w=!!c.leading,k="maxWait"in c,p=k?a(r(c.maxWait)||0,l):p,A="trailing"in c?!!c.trailing:A);function E(z){var Q=u,X=f;return u=f=void 0,y=z,g=s.apply(X,Q),g}function j(z){return y=z,b=setTimeout(T,l),w?E(z):g}function O(z){var Q=z-v,X=z-y,Z=l-Q;return k?i(Z,p-X):Z}function P(z){var Q=z-v,X=z-y;return v===void 0||Q>=l||Q<0||k&&X>=p}function T(){var z=t();if(P(z))return M(z);b=setTimeout(T,O(z))}function M(z){return b=void 0,A&&u?E(z):(u=f=void 0,g)}function K(){b!==void 0&&clearTimeout(b),y=0,u=v=f=b=void 0}function I(){return b===void 0?g:M(t())}function B(){var z=t(),Q=P(z);if(u=arguments,f=this,v=z,Q){if(b===void 0)return j(v);if(k)return clearTimeout(b),b=setTimeout(T,l),E(v)}return b===void 0&&(b=setTimeout(T,l)),g}return B.cancel=K,B.flush=I,B}return yp=o,yp}var gp,uS;function bB(){if(uS)return gp;uS=1;var e=vB(),t=$n(),r="Expected a function";function n(a,i,o){var s=!0,l=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),e(a,i,{leading:s,maxWait:i,trailing:l})}return gp=n,gp}var xB=bB();const KO=Je(xB);function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){wB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wB(e,t,r){return t=SB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SB(e){var t=jB(e,"string");return Do(t)=="symbol"?t:t+""}function jB(e,t){if(Do(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kB(e,t){return PB(e)||_B(e,t)||OB(e,t)||AB()}function AB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OB(e,t){if(e){if(typeof e=="string")return dS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dS(e,t)}}function dS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _B(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function PB(e){if(Array.isArray(e))return e}var qa=N.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,p=e.maxHeight,g=e.children,b=e.debounce,v=b===void 0?0:b,y=e.id,w=e.className,k=e.onResize,A=e.style,E=A===void 0?{}:A,j=N.useRef(null),O=N.useRef();O.current=k,N.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var P=N.useState({containerWidth:a.width,containerHeight:a.height}),T=kB(P,2),M=T[0],K=T[1],I=N.useCallback(function(z,Q){K(function(X){var Z=Math.round(z),le=Math.round(Q);return X.containerWidth===Z&&X.containerHeight===le?X:{containerWidth:Z,containerHeight:le}})},[]);N.useEffect(function(){var z=function(re){var ae,fe=re[0].contentRect,ce=fe.width,ge=fe.height;I(ce,ge),(ae=O.current)===null||ae===void 0||ae.call(O,ce,ge)};v>0&&(z=KO(z,v,{trailing:!0,leading:!1}));var Q=new ResizeObserver(z),X=j.current.getBoundingClientRect(),Z=X.width,le=X.height;return I(Z,le),Q.observe(j.current),function(){Q.disconnect()}},[I,v]);var B=N.useMemo(function(){var z=M.containerWidth,Q=M.containerHeight;if(z<0||Q<0)return null;Zr(na(o)||na(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Zr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=na(o)?z:o,Z=na(l)?Q:l;r&&r>0&&(X?Z=X/r:Z&&(X=Z*r),p&&Z>p&&(Z=p)),Zr(X>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,Z,o,l,u,f,r);var le=!Array.isArray(g)&&Qr(g.type).endsWith("Chart");return q.Children.map(g,function(ue){return q.isValidElement(ue)?N.cloneElement(ue,cl({width:X,height:Z},le?{style:cl({height:"100%",width:"100%",maxHeight:Z,maxWidth:X},ue.props.style)}:{})):ue})},[r,g,l,p,f,u,M,o]);return q.createElement("div",{id:y?"".concat(y):void 0,className:Ue("recharts-responsive-container",w),style:cl(cl({},E),{},{width:o,height:l,minWidth:u,minHeight:f,maxHeight:p}),ref:j},B)}),GO=function(t){return null};GO.displayName="Cell";function Io(e){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(e)}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){EB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EB(e,t,r){return t=NB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NB(e){var t=CB(e,"string");return Io(t)=="symbol"?t:t+""}function CB(e,t){if(Io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fa={widthCache:{},cacheCount:0},TB=2e3,MB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pS="recharts_measurement_span";function DB(e){var t=Gm({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var yo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ii.isSsr)return{width:0,height:0};var n=DB(r),a=JSON.stringify({text:t,copyStyle:n});if(Fa.widthCache[a])return Fa.widthCache[a];try{var i=document.getElementById(pS);i||(i=document.createElement("span"),i.setAttribute("id",pS),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Gm(Gm({},MB),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return Fa.widthCache[a]=l,++Fa.cacheCount>TB&&(Fa.cacheCount=0,Fa.widthCache={}),l}catch{return{width:0,height:0}}},IB=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function Yl(e,t){return LB(e)||BB(e,t)||$B(e,t)||RB()}function RB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $B(e,t){if(e){if(typeof e=="string")return mS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mS(e,t)}}function mS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function LB(e){if(Array.isArray(e))return e}function qB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WB(n.key),n)}}function FB(e,t,r){return t&&yS(e.prototype,t),r&&yS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WB(e){var t=zB(e,"string");return Ro(t)=="symbol"?t:t+""}function zB(e,t){if(Ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GB=Object.keys(HO),Ha="NaN";function HB(e,t){return e*HO[t]}var ul=function(){function e(t,r){qB(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!UB.test(r)&&(this.num=NaN,this.unit=""),GB.includes(r)&&(this.num=HB(t,r),this.unit="px")}return FB(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=KB.exec(r))!==null&&n!==void 0?n:[],i=Yl(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function VO(e){if(e.includes(Ha))return Ha;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=gS.exec(t))!==null&&r!==void 0?r:[],a=Yl(n,4),i=a[1],o=a[2],s=a[3],l=ul.parse(i??""),c=ul.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Ha;t=t.replace(gS,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=vS.exec(t))!==null&&f!==void 0?f:[],g=Yl(p,4),b=g[1],v=g[2],y=g[3],w=ul.parse(b??""),k=ul.parse(y??""),A=v==="+"?w.add(k):w.subtract(k);if(A.isNaN())return Ha;t=t.replace(vS,A.toString())}return t}var bS=/\(([^()]*)\)/;function VB(e){for(var t=e;t.includes("(");){var r=bS.exec(t),n=Yl(r,2),a=n[1];t=t.replace(bS,VO(a))}return t}function YB(e){var t=e.replace(/\s+/g,"");return t=VB(t),t=VO(t),t}function XB(e){try{return YB(e)}catch{return Ha}}function vp(e){var t=XB(e.slice(5,-1));return t===Ha?"":t}var JB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QB=["dx","dy","angle","className","breakAll"];function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hm.apply(this,arguments)}function xS(e,t){if(e==null)return{};var r=ZB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wS(e,t){return nL(e)||rL(e,t)||tL(e,t)||eL()}function eL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tL(e,t){if(e){if(typeof e=="string")return SS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SS(e,t)}}function SS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function nL(e){if(Array.isArray(e))return e}var YO=/[ \f\n\r\t\v\u2028\u2029]+/,XO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Le(r)||(n?i=r.toString().split(""):i=r.toString().split(YO));var o=i.map(function(l){return{word:l,width:yo(l,a).width}}),s=n?0:yo(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},aL=function(t,r,n,a,i){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=ve(o),f=s,p=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(Z,le){var ue=le.word,re=le.width,ae=Z[Z.length-1];if(ae&&(a==null||i||ae.width+re+n<Number(a)))ae.words.push(ue),ae.width+=re+n;else{var fe={words:[ue],width:re};Z.push(fe)}return Z},[])},g=p(r),b=function(X){return X.reduce(function(Z,le){return Z.width>le.width?Z:le})};if(!u)return g;for(var v="…",y=function(X){var Z=f.slice(0,X),le=XO({breakAll:c,style:l,children:Z+v}).wordsWithComputedWidth,ue=p(le),re=ue.length>o||b(ue).width>Number(a);return[re,ue]},w=0,k=f.length-1,A=0,E;w<=k&&A<=f.length-1;){var j=Math.floor((w+k)/2),O=j-1,P=y(O),T=wS(P,2),M=T[0],K=T[1],I=y(j),B=wS(I,1),z=B[0];if(!M&&!z&&(w=j+1),M&&z&&(k=j-1),!M&&z){E=K;break}A++}return E||g},jS=function(t){var r=Le(t)?[]:t.toString().split(YO);return[{words:r}]},iL=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!Ii.isSsr){var l,c,u=XO({breakAll:o,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;l=f,c=p}else return jS(a);return aL({breakAll:o,children:a,maxLines:s,style:i},l,c,r,n)}return jS(a)},kS="#808080",Xl=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,p=t.textAnchor,g=p===void 0?"start":p,b=t.verticalAnchor,v=b===void 0?"end":b,y=t.fill,w=y===void 0?kS:y,k=xS(t,JB),A=N.useMemo(function(){return iL({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:f,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,f,k.style,k.width]),E=k.dx,j=k.dy,O=k.angle,P=k.className,T=k.breakAll,M=xS(k,QB);if(!jt(n)||!jt(i))return null;var K=n+(ve(E)?E:0),I=i+(ve(j)?j:0),B;switch(v){case"start":B=vp("calc(".concat(c,")"));break;case"middle":B=vp("calc(".concat((A.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:B=vp("calc(".concat(A.length-1," * -").concat(s,")"));break}var z=[];if(f){var Q=A[0].width,X=k.width;z.push("scale(".concat((ve(X)?X/Q:1)/Q,")"))}return O&&z.push("rotate(".concat(O,", ").concat(K,", ").concat(I,")")),z.length&&(M.transform=z.join(" ")),q.createElement("text",Hm({},We(M,!0),{x:K,y:I,className:Ue("recharts-text",P),textAnchor:g,fill:w.includes("url")?kS:w}),A.map(function(Z,le){var ue=Z.words.join(T?"":" ");return q.createElement("tspan",{x:K,dy:le===0?B:s,key:"".concat(ue,"-").concat(le)},ue)}))};function Tn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ng(e){let t,r,n;e.length!==2?(t=Tn,r=(s,l)=>Tn(e(s),l),n=(s,l)=>e(s)-l):(t=e===Tn||e===oL?e:sL,r=e,n=e);function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=a(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function sL(){return 0}function JO(e){return e===null?NaN:+e}function*lL(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const cL=Ng(Tn),vs=cL.right;Ng(JO).center;class AS extends Map{constructor(t,r=dL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(OS(this,t))}has(t){return super.has(OS(this,t))}set(t,r){return super.set(uL(this,t),r)}delete(t){return super.delete(fL(this,t))}}function OS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function uL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function fL({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function dL(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hL(e=Tn){if(e===Tn)return QO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function QO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pL=Math.sqrt(50),mL=Math.sqrt(10),yL=Math.sqrt(2);function Jl(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=pL?10:i>=mL?5:i>=yL?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Jl(e,t,r*2):[s,l,c]}function Vm(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Jl(t,e,r):Jl(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Ym(e,t,r){return t=+t,e=+e,r=+r,Jl(e,t,r)[2]}function Xm(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Ym(t,e,r):Ym(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function _S(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function PS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function ZO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?QO:hL(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),g=Math.max(r,Math.floor(t-c*f/l+p)),b=Math.min(n,Math.floor(t+(l-c)*f/l+p));ZO(e,t,g,b,a)}const i=e[t];let o=r,s=n;for(ro(e,r,t),a(e[n],i)>0&&ro(e,r,n);o<s;){for(ro(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?ro(e,r,s):(++s,ro(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function ro(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function gL(e,t,r){if(e=Float64Array.from(lL(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return PS(e);if(t>=1)return _S(e);var n,a=(n-1)*t,i=Math.floor(a),o=_S(ZO(e,i).subarray(0,i+1)),s=PS(e.subarray(i+1));return o+(s-o)*(a-i)}}function vL(e,t,r=JO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function bL(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function fr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function un(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Jm=Symbol("implicit");function Cg(){var e=new AS,t=[],r=[],n=Jm;function a(i){let o=e.get(i);if(o===void 0){if(n!==Jm)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new AS;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Cg(t,r).unknown(n)},fr.apply(a,arguments),a}function $o(){var e=Cg().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var p=t().length,g=a<n,b=g?a:n,v=g?n:a;i=(v-b)/Math.max(1,p-l+c*2),s&&(i=Math.floor(i)),b+=(v-b-i*(p-l))*u,o=i*(1-l),s&&(b=Math.round(b),o=Math.round(o));var y=bL(p).map(function(w){return b+i*w});return r(g?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return $o(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},fr.apply(f(),arguments)}function e_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return e_(t())},e}function go(){return e_($o.apply(null,arguments).paddingInner(1))}function Tg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function t_(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function bs(){}var Bo=.7,Ql=1/Bo,ti="\\s*([+-]?\\d+)\\s*",Lo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xL=/^#([0-9a-f]{3,8})$/,wL=new RegExp(`^rgb\\(${ti},${ti},${ti}\\)$`),SL=new RegExp(`^rgb\\(${Rr},${Rr},${Rr}\\)$`),jL=new RegExp(`^rgba\\(${ti},${ti},${ti},${Lo}\\)$`),kL=new RegExp(`^rgba\\(${Rr},${Rr},${Rr},${Lo}\\)$`),AL=new RegExp(`^hsl\\(${Lo},${Rr},${Rr}\\)$`),OL=new RegExp(`^hsla\\(${Lo},${Rr},${Rr},${Lo}\\)$`),ES={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tg(bs,qo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:NS,formatHex:NS,formatHex8:_L,formatHsl:PL,formatRgb:CS,toString:CS});function NS(){return this.rgb().formatHex()}function _L(){return this.rgb().formatHex8()}function PL(){return r_(this).formatHsl()}function CS(){return this.rgb().formatRgb()}function qo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=xL.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?TS(t):r===3?new Yt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?fl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?fl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wL.exec(e))?new Yt(t[1],t[2],t[3],1):(t=SL.exec(e))?new Yt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jL.exec(e))?fl(t[1],t[2],t[3],t[4]):(t=kL.exec(e))?fl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=AL.exec(e))?IS(t[1],t[2]/100,t[3]/100,1):(t=OL.exec(e))?IS(t[1],t[2]/100,t[3]/100,t[4]):ES.hasOwnProperty(e)?TS(ES[e]):e==="transparent"?new Yt(NaN,NaN,NaN,0):null}function TS(e){return new Yt(e>>16&255,e>>8&255,e&255,1)}function fl(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yt(e,t,r,n)}function EL(e){return e instanceof bs||(e=qo(e)),e?(e=e.rgb(),new Yt(e.r,e.g,e.b,e.opacity)):new Yt}function Qm(e,t,r,n){return arguments.length===1?EL(e):new Yt(e,t,r,n??1)}function Yt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Tg(Yt,Qm,t_(bs,{brighter(e){return e=e==null?Ql:Math.pow(Ql,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bo:Math.pow(Bo,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yt(la(this.r),la(this.g),la(this.b),Zl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MS,formatHex:MS,formatHex8:NL,formatRgb:DS,toString:DS}));function MS(){return`#${aa(this.r)}${aa(this.g)}${aa(this.b)}`}function NL(){return`#${aa(this.r)}${aa(this.g)}${aa(this.b)}${aa((isNaN(this.opacity)?1:this.opacity)*255)}`}function DS(){const e=Zl(this.opacity);return`${e===1?"rgb(":"rgba("}${la(this.r)}, ${la(this.g)}, ${la(this.b)}${e===1?")":`, ${e})`}`}function Zl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function la(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function aa(e){return e=la(e),(e<16?"0":"")+e.toString(16)}function IS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new vr(e,t,r,n)}function r_(e){if(e instanceof vr)return new vr(e.h,e.s,e.l,e.opacity);if(e instanceof bs||(e=qo(e)),!e)return new vr;if(e instanceof vr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new vr(o,s,l,e.opacity)}function CL(e,t,r,n){return arguments.length===1?r_(e):new vr(e,t,r,n??1)}function vr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Tg(vr,CL,t_(bs,{brighter(e){return e=e==null?Ql:Math.pow(Ql,e),new vr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bo:Math.pow(Bo,e),new vr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Yt(bp(e>=240?e-240:e+120,a,n),bp(e,a,n),bp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new vr(RS(this.h),dl(this.s),dl(this.l),Zl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zl(this.opacity);return`${e===1?"hsl(":"hsla("}${RS(this.h)}, ${dl(this.s)*100}%, ${dl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RS(e){return e=(e||0)%360,e<0?e+360:e}function dl(e){return Math.max(0,Math.min(1,e||0))}function bp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Mg=e=>()=>e;function TL(e,t){return function(r){return e+r*t}}function ML(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function DL(e){return(e=+e)==1?n_:function(t,r){return r-t?ML(t,r,e):Mg(isNaN(t)?r:t)}}function n_(e,t){var r=t-e;return r?TL(e,r):Mg(isNaN(e)?t:e)}const $S=function e(t){var r=DL(t);function n(a,i){var o=r((a=Qm(a)).r,(i=Qm(i)).r),s=r(a.g,i.g),l=r(a.b,i.b),c=n_(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function IL(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function RL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $L(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Ri(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function BL(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ec(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function LL(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ri(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Zm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xp=new RegExp(Zm.source,"g");function qL(e){return function(){return e}}function FL(e){return function(t){return e(t)+""}}function WL(e,t){var r=Zm.lastIndex=xp.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Zm.exec(e))&&(a=xp.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:ec(n,a)})),r=xp.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?FL(l[0].x):qL(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Ri(e,t){var r=typeof t,n;return t==null||r==="boolean"?Mg(t):(r==="number"?ec:r==="string"?(n=qo(t))?(t=n,$S):WL:t instanceof qo?$S:t instanceof Date?BL:RL(t)?IL:Array.isArray(t)?$L:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?LL:ec)(e,t)}function Dg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function zL(e,t){t===void 0&&(t=e,e=Ri);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function UL(e){return function(){return e}}function tc(e){return+e}var BS=[0,1];function Vt(e){return e}function ey(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:UL(isNaN(t)?NaN:.5)}function KL(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function GL(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=ey(a,n),i=r(o,i)):(n=ey(n,a),i=r(i,o)),function(s){return i(n(s))}}function HL(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ey(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var l=vs(e,s,1,n)-1;return i[l](a[l](s))}}function xs(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Qc(){var e=BS,t=BS,r=Ri,n,a,i,o=Vt,s,l,c;function u(){var p=Math.min(e.length,t.length);return o!==Vt&&(o=KL(e[0],e[p-1])),s=p>2?HL:GL,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(n),t,r)))(n(o(p)))}return f.invert=function(p){return o(a((c||(c=s(t,e.map(n),ec)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,tc),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=Dg,u()},f.clamp=function(p){return arguments.length?(o=p?!0:Vt,u()):o!==Vt},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,g){return n=p,a=g,u()}}function Ig(){return Qc()(Vt,Vt)}function VL(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rc(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function fi(e){return e=rc(Math.abs(e)),e?e[1]:NaN}function YL(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function XL(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var JL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fo(e){if(!(t=JL.exec(e)))throw new Error("invalid format: "+e);var t;return new Rg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fo.prototype=Rg.prototype;function Rg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Rg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QL(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var a_;function ZL(e,t){var r=rc(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(a_=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+rc(e,Math.max(0,t+i-1))[0]}function LS(e,t){var r=rc(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const qS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:VL,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>LS(e*100,t),r:LS,s:ZL,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function FS(e){return e}var WS=Array.prototype.map,zS=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function eq(e){var t=e.grouping===void 0||e.thousands===void 0?FS:YL(WS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?FS:XL(WS.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Fo(f);var p=f.fill,g=f.align,b=f.sign,v=f.symbol,y=f.zero,w=f.width,k=f.comma,A=f.precision,E=f.trim,j=f.type;j==="n"?(k=!0,j="g"):qS[j]||(A===void 0&&(A=12),E=!0,j="g"),(y||p==="0"&&g==="=")&&(y=!0,p="0",g="=");var O=v==="$"?r:v==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",P=v==="$"?n:/[%p]/.test(j)?o:"",T=qS[j],M=/[defgprs%]/.test(j);A=A===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function K(I){var B=O,z=P,Q,X,Z;if(j==="c")z=T(I)+z,I="";else{I=+I;var le=I<0||1/I<0;if(I=isNaN(I)?l:T(Math.abs(I),A),E&&(I=QL(I)),le&&+I==0&&b!=="+"&&(le=!1),B=(le?b==="("?b:s:b==="-"||b==="("?"":b)+B,z=(j==="s"?zS[8+a_/3]:"")+z+(le&&b==="("?")":""),M){for(Q=-1,X=I.length;++Q<X;)if(Z=I.charCodeAt(Q),48>Z||Z>57){z=(Z===46?a+I.slice(Q+1):I.slice(Q))+z,I=I.slice(0,Q);break}}}k&&!y&&(I=t(I,1/0));var ue=B.length+I.length+z.length,re=ue<w?new Array(w-ue+1).join(p):"";switch(k&&y&&(I=t(re+I,re.length?w-z.length:1/0),re=""),g){case"<":I=B+I+z+re;break;case"=":I=B+re+I+z;break;case"^":I=re.slice(0,ue=re.length>>1)+B+I+z+re.slice(ue);break;default:I=re+B+I+z;break}return i(I)}return K.toString=function(){return f+""},K}function u(f,p){var g=c((f=Fo(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(fi(p)/3)))*3,v=Math.pow(10,-b),y=zS[8+b/3];return function(w){return g(v*w)+y}}return{format:c,formatPrefix:u}}var hl,$g,i_;tq({thousands:",",grouping:[3],currency:["$",""]});function tq(e){return hl=eq(e),$g=hl.format,i_=hl.formatPrefix,hl}function rq(e){return Math.max(0,-fi(Math.abs(e)))}function nq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fi(t)/3)))*3-fi(Math.abs(e)))}function aq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fi(t)-fi(e))+1}function o_(e,t,r,n){var a=Xm(e,t,r),i;switch(n=Fo(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=nq(a,o))&&(n.precision=i),i_(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=aq(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=rq(a))&&(n.precision=i-(n.type==="%")*2);break}}return $g(n)}function Ln(e){var t=e.domain;return e.ticks=function(r){var n=t();return Vm(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return o_(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);u-- >0;){if(c=Ym(o,s,r),c===l)return n[a]=o,n[i]=s,t(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function nc(){var e=Ig();return e.copy=function(){return xs(e,nc())},fr.apply(e,arguments),Ln(e)}function s_(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,tc),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return s_(e).unknown(t)},e=arguments.length?Array.from(e,tc):[0,1],Ln(r)}function l_(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function US(e){return Math.log(e)}function KS(e){return Math.exp(e)}function iq(e){return-Math.log(-e)}function oq(e){return-Math.exp(-e)}function sq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lq(e){return e===10?sq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function cq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GS(e){return(t,r)=>-e(-t,r)}function Bg(e){const t=e(US,KS),r=t.domain;let n=10,a,i;function o(){return a=cq(n),i=lq(n),r()[0]<0?(a=GS(a),i=GS(i),e(iq,oq)):e(US,KS),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let p=a(c),g=a(u),b,v;const y=s==null?10:+s;let w=[];if(!(n%1)&&g-p<y){if(p=Math.floor(p),g=Math.ceil(g),c>0){for(;p<=g;++p)for(b=1;b<n;++b)if(v=p<0?b/i(-p):b*i(p),!(v<c)){if(v>u)break;w.push(v)}}else for(;p<=g;++p)for(b=n-1;b>=1;--b)if(v=p>0?b/i(-p):b*i(p),!(v<c)){if(v>u)break;w.push(v)}w.length*2<y&&(w=Vm(c,u,y))}else w=Vm(p,g,Math.min(g-p,y)).map(i);return f?w.reverse():w},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Fo(l)).precision==null&&(l.trim=!0),l=$g(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(l_(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function c_(){const e=Bg(Qc()).domain([1,10]);return e.copy=()=>xs(e,c_()).base(e.base()),fr.apply(e,arguments),e}function HS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function VS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lg(e){var t=1,r=e(HS(t),VS(t));return r.constant=function(n){return arguments.length?e(HS(t=+n),VS(t)):t},Ln(r)}function u_(){var e=Lg(Qc());return e.copy=function(){return xs(e,u_()).constant(e.constant())},fr.apply(e,arguments)}function YS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function uq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fq(e){return e<0?-e*e:e*e}function qg(e){var t=e(Vt,Vt),r=1;function n(){return r===1?e(Vt,Vt):r===.5?e(uq,fq):e(YS(r),YS(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ln(t)}function Fg(){var e=qg(Qc());return e.copy=function(){return xs(e,Fg()).exponent(e.exponent())},fr.apply(e,arguments),e}function dq(){return Fg.apply(null,arguments).exponent(.5)}function XS(e){return Math.sign(e)*e*e}function hq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function f_(){var e=Ig(),t=[0,1],r=!1,n;function a(i){var o=hq(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(XS(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,tc)).map(XS)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return f_(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},fr.apply(a,arguments),Ln(a)}function d_(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=vL(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[vs(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Tn),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return d_().domain(e).range(t).unknown(n)},fr.apply(i,arguments)}function h_(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[vs(n,l,0,r)]:i}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return h_().domain([e,t]).range(a).unknown(i)},fr.apply(Ln(o),arguments)}function p_(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[vs(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return p_().domain(e).range(t).unknown(r)},fr.apply(a,arguments)}const wp=new Date,Sp=new Date;function kt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>kt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(wp.setTime(+i),Sp.setTime(+o),e(wp),e(Sp),Math.floor(r(wp,Sp))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const ac=kt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ac.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ac);ac.range;const Yr=1e3,sr=Yr*60,Xr=sr*60,rn=Xr*24,Wg=rn*7,JS=rn*30,jp=rn*365,ia=kt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getUTCSeconds());ia.range;const zg=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yr)},(e,t)=>{e.setTime(+e+t*sr)},(e,t)=>(t-e)/sr,e=>e.getMinutes());zg.range;const Ug=kt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sr)},(e,t)=>(t-e)/sr,e=>e.getUTCMinutes());Ug.range;const Kg=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yr-e.getMinutes()*sr)},(e,t)=>{e.setTime(+e+t*Xr)},(e,t)=>(t-e)/Xr,e=>e.getHours());Kg.range;const Gg=kt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Xr)},(e,t)=>(t-e)/Xr,e=>e.getUTCHours());Gg.range;const ws=kt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sr)/rn,e=>e.getDate()-1);ws.range;const Zc=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rn,e=>e.getUTCDate()-1);Zc.range;const m_=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rn,e=>Math.floor(e/rn));m_.range;function ja(e){return kt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*sr)/Wg)}const eu=ja(0),ic=ja(1),pq=ja(2),mq=ja(3),di=ja(4),yq=ja(5),gq=ja(6);eu.range;ic.range;pq.range;mq.range;di.range;yq.range;gq.range;function ka(e){return kt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Wg)}const tu=ka(0),oc=ka(1),vq=ka(2),bq=ka(3),hi=ka(4),xq=ka(5),wq=ka(6);tu.range;oc.range;vq.range;bq.range;hi.range;xq.range;wq.range;const Hg=kt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Hg.range;const Vg=kt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Vg.range;const nn=kt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());nn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});nn.range;const an=kt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());an.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});an.range;function y_(e,t,r,n,a,i){const o=[[ia,1,Yr],[ia,5,5*Yr],[ia,15,15*Yr],[ia,30,30*Yr],[i,1,sr],[i,5,5*sr],[i,15,15*sr],[i,30,30*sr],[a,1,Xr],[a,3,3*Xr],[a,6,6*Xr],[a,12,12*Xr],[n,1,rn],[n,2,2*rn],[r,1,Wg],[t,1,JS],[t,3,3*JS],[e,1,jp]];function s(c,u,f){const p=u<c;p&&([c,u]=[u,c]);const g=f&&typeof f.range=="function"?f:l(c,u,f),b=g?g.range(c,+u+1):[];return p?b.reverse():b}function l(c,u,f){const p=Math.abs(u-c)/f,g=Ng(([,,y])=>y).right(o,p);if(g===o.length)return e.every(Xm(c/jp,u/jp,f));if(g===0)return ac.every(Math.max(Xm(c,u,f),1));const[b,v]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return b.every(v)}return[s,l]}const[Sq,jq]=y_(an,Vg,tu,m_,Gg,Ug),[kq,Aq]=y_(nn,Hg,eu,ws,Kg,zg);function kp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ap(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function no(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Oq(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=ao(a),u=io(a),f=ao(i),p=io(i),g=ao(o),b=io(o),v=ao(s),y=io(s),w=ao(l),k=io(l),A={a:le,A:ue,b:re,B:ae,c:null,d:n1,e:n1,f:Yq,g:iF,G:sF,H:Gq,I:Hq,j:Vq,L:g_,m:Xq,M:Jq,p:fe,q:ce,Q:o1,s:s1,S:Qq,u:Zq,U:eF,V:tF,w:rF,W:nF,x:null,X:null,y:aF,Y:oF,Z:lF,"%":i1},E={a:ge,A:pe,b:je,B:Re,c:null,d:a1,e:a1,f:dF,g:SF,G:kF,H:cF,I:uF,j:fF,L:b_,m:hF,M:pF,p:Wt,q:At,Q:o1,s:s1,S:mF,u:yF,U:gF,V:vF,w:bF,W:xF,x:null,X:null,y:wF,Y:jF,Z:AF,"%":i1},j={a:K,A:I,b:B,B:z,c:Q,d:t1,e:t1,f:Wq,g:e1,G:ZS,H:r1,I:r1,j:Bq,L:Fq,m:$q,M:Lq,p:M,q:Rq,Q:Uq,s:Kq,S:qq,u:Cq,U:Tq,V:Mq,w:Nq,W:Dq,x:X,X:Z,y:e1,Y:ZS,Z:Iq,"%":zq};A.x=O(r,A),A.X=O(n,A),A.c=O(t,A),E.x=O(r,E),E.X=O(n,E),E.c=O(t,E);function O(ie,Ne){return function(Ce){var oe=[],Ye=-1,qe=0,Qe=ie.length,pt,It,Or;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ye<Qe;)ie.charCodeAt(Ye)===37&&(oe.push(ie.slice(qe,Ye)),(It=QS[pt=ie.charAt(++Ye)])!=null?pt=ie.charAt(++Ye):It=pt==="e"?" ":"0",(Or=Ne[pt])&&(pt=Or(Ce,It)),oe.push(pt),qe=Ye+1);return oe.push(ie.slice(qe,Ye)),oe.join("")}}function P(ie,Ne){return function(Ce){var oe=no(1900,void 0,1),Ye=T(oe,ie,Ce+="",0),qe,Qe;if(Ye!=Ce.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(Ne&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(qe=Ap(no(oe.y,0,1)),Qe=qe.getUTCDay(),qe=Qe>4||Qe===0?oc.ceil(qe):oc(qe),qe=Zc.offset(qe,(oe.V-1)*7),oe.y=qe.getUTCFullYear(),oe.m=qe.getUTCMonth(),oe.d=qe.getUTCDate()+(oe.w+6)%7):(qe=kp(no(oe.y,0,1)),Qe=qe.getDay(),qe=Qe>4||Qe===0?ic.ceil(qe):ic(qe),qe=ws.offset(qe,(oe.V-1)*7),oe.y=qe.getFullYear(),oe.m=qe.getMonth(),oe.d=qe.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),Qe="Z"in oe?Ap(no(oe.y,0,1)).getUTCDay():kp(no(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(Qe+5)%7:oe.w+oe.U*7-(Qe+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Ap(oe)):kp(oe)}}function T(ie,Ne,Ce,oe){for(var Ye=0,qe=Ne.length,Qe=Ce.length,pt,It;Ye<qe;){if(oe>=Qe)return-1;if(pt=Ne.charCodeAt(Ye++),pt===37){if(pt=Ne.charAt(Ye++),It=j[pt in QS?Ne.charAt(Ye++):pt],!It||(oe=It(ie,Ce,oe))<0)return-1}else if(pt!=Ce.charCodeAt(oe++))return-1}return oe}function M(ie,Ne,Ce){var oe=c.exec(Ne.slice(Ce));return oe?(ie.p=u.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function K(ie,Ne,Ce){var oe=g.exec(Ne.slice(Ce));return oe?(ie.w=b.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function I(ie,Ne,Ce){var oe=f.exec(Ne.slice(Ce));return oe?(ie.w=p.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function B(ie,Ne,Ce){var oe=w.exec(Ne.slice(Ce));return oe?(ie.m=k.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function z(ie,Ne,Ce){var oe=v.exec(Ne.slice(Ce));return oe?(ie.m=y.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function Q(ie,Ne,Ce){return T(ie,t,Ne,Ce)}function X(ie,Ne,Ce){return T(ie,r,Ne,Ce)}function Z(ie,Ne,Ce){return T(ie,n,Ne,Ce)}function le(ie){return o[ie.getDay()]}function ue(ie){return i[ie.getDay()]}function re(ie){return l[ie.getMonth()]}function ae(ie){return s[ie.getMonth()]}function fe(ie){return a[+(ie.getHours()>=12)]}function ce(ie){return 1+~~(ie.getMonth()/3)}function ge(ie){return o[ie.getUTCDay()]}function pe(ie){return i[ie.getUTCDay()]}function je(ie){return l[ie.getUTCMonth()]}function Re(ie){return s[ie.getUTCMonth()]}function Wt(ie){return a[+(ie.getUTCHours()>=12)]}function At(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Ne=O(ie+="",A);return Ne.toString=function(){return ie},Ne},parse:function(ie){var Ne=P(ie+="",!1);return Ne.toString=function(){return ie},Ne},utcFormat:function(ie){var Ne=O(ie+="",E);return Ne.toString=function(){return ie},Ne},utcParse:function(ie){var Ne=P(ie+="",!0);return Ne.toString=function(){return ie},Ne}}}var QS={"-":"",_:" ",0:"0"},Nt=/^\s*\d+/,_q=/^%/,Pq=/[\\^$*+?|[\]().{}]/g;function Ge(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Eq(e){return e.replace(Pq,"\\$&")}function ao(e){return new RegExp("^(?:"+e.map(Eq).join("|")+")","i")}function io(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Nq(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Cq(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Tq(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Mq(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Dq(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ZS(e,t,r){var n=Nt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function e1(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Iq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Rq(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $q(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function t1(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Bq(e,t,r){var n=Nt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function r1(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Lq(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function qq(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Fq(e,t,r){var n=Nt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Wq(e,t,r){var n=Nt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zq(e,t,r){var n=_q.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Uq(e,t,r){var n=Nt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Kq(e,t,r){var n=Nt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function n1(e,t){return Ge(e.getDate(),t,2)}function Gq(e,t){return Ge(e.getHours(),t,2)}function Hq(e,t){return Ge(e.getHours()%12||12,t,2)}function Vq(e,t){return Ge(1+ws.count(nn(e),e),t,3)}function g_(e,t){return Ge(e.getMilliseconds(),t,3)}function Yq(e,t){return g_(e,t)+"000"}function Xq(e,t){return Ge(e.getMonth()+1,t,2)}function Jq(e,t){return Ge(e.getMinutes(),t,2)}function Qq(e,t){return Ge(e.getSeconds(),t,2)}function Zq(e){var t=e.getDay();return t===0?7:t}function eF(e,t){return Ge(eu.count(nn(e)-1,e),t,2)}function v_(e){var t=e.getDay();return t>=4||t===0?di(e):di.ceil(e)}function tF(e,t){return e=v_(e),Ge(di.count(nn(e),e)+(nn(e).getDay()===4),t,2)}function rF(e){return e.getDay()}function nF(e,t){return Ge(ic.count(nn(e)-1,e),t,2)}function aF(e,t){return Ge(e.getFullYear()%100,t,2)}function iF(e,t){return e=v_(e),Ge(e.getFullYear()%100,t,2)}function oF(e,t){return Ge(e.getFullYear()%1e4,t,4)}function sF(e,t){var r=e.getDay();return e=r>=4||r===0?di(e):di.ceil(e),Ge(e.getFullYear()%1e4,t,4)}function lF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ge(t/60|0,"0",2)+Ge(t%60,"0",2)}function a1(e,t){return Ge(e.getUTCDate(),t,2)}function cF(e,t){return Ge(e.getUTCHours(),t,2)}function uF(e,t){return Ge(e.getUTCHours()%12||12,t,2)}function fF(e,t){return Ge(1+Zc.count(an(e),e),t,3)}function b_(e,t){return Ge(e.getUTCMilliseconds(),t,3)}function dF(e,t){return b_(e,t)+"000"}function hF(e,t){return Ge(e.getUTCMonth()+1,t,2)}function pF(e,t){return Ge(e.getUTCMinutes(),t,2)}function mF(e,t){return Ge(e.getUTCSeconds(),t,2)}function yF(e){var t=e.getUTCDay();return t===0?7:t}function gF(e,t){return Ge(tu.count(an(e)-1,e),t,2)}function x_(e){var t=e.getUTCDay();return t>=4||t===0?hi(e):hi.ceil(e)}function vF(e,t){return e=x_(e),Ge(hi.count(an(e),e)+(an(e).getUTCDay()===4),t,2)}function bF(e){return e.getUTCDay()}function xF(e,t){return Ge(oc.count(an(e)-1,e),t,2)}function wF(e,t){return Ge(e.getUTCFullYear()%100,t,2)}function SF(e,t){return e=x_(e),Ge(e.getUTCFullYear()%100,t,2)}function jF(e,t){return Ge(e.getUTCFullYear()%1e4,t,4)}function kF(e,t){var r=e.getUTCDay();return e=r>=4||r===0?hi(e):hi.ceil(e),Ge(e.getUTCFullYear()%1e4,t,4)}function AF(){return"+0000"}function i1(){return"%"}function o1(e){return+e}function s1(e){return Math.floor(+e/1e3)}var Wa,w_,S_;OF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OF(e){return Wa=Oq(e),w_=Wa.format,Wa.parse,S_=Wa.utcFormat,Wa.utcParse,Wa}function _F(e){return new Date(e)}function PF(e){return e instanceof Date?+e:+new Date(+e)}function Yg(e,t,r,n,a,i,o,s,l,c){var u=Ig(),f=u.invert,p=u.domain,g=c(".%L"),b=c(":%S"),v=c("%I:%M"),y=c("%I %p"),w=c("%a %d"),k=c("%b %d"),A=c("%B"),E=c("%Y");function j(O){return(l(O)<O?g:s(O)<O?b:o(O)<O?v:i(O)<O?y:n(O)<O?a(O)<O?w:k:r(O)<O?A:E)(O)}return u.invert=function(O){return new Date(f(O))},u.domain=function(O){return arguments.length?p(Array.from(O,PF)):p().map(_F)},u.ticks=function(O){var P=p();return e(P[0],P[P.length-1],O??10)},u.tickFormat=function(O,P){return P==null?j:c(P)},u.nice=function(O){var P=p();return(!O||typeof O.range!="function")&&(O=t(P[0],P[P.length-1],O??10)),O?p(l_(P,O)):u},u.copy=function(){return xs(u,Yg(e,t,r,n,a,i,o,s,l,c))},u}function EF(){return fr.apply(Yg(kq,Aq,nn,Hg,eu,ws,Kg,zg,ia,w_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NF(){return fr.apply(Yg(Sq,jq,an,Vg,tu,Zc,Gg,Ug,ia,S_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ru(){var e=0,t=1,r,n,a,i,o=Vt,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(p){var g,b;return arguments.length?([g,b]=p,o=f(g,b),c):[o(0),o(1)]}}return c.range=u(Ri),c.rangeRound=u(Dg),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function qn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function j_(){var e=Ln(ru()(Vt));return e.copy=function(){return qn(e,j_())},un.apply(e,arguments)}function k_(){var e=Bg(ru()).domain([1,10]);return e.copy=function(){return qn(e,k_()).base(e.base())},un.apply(e,arguments)}function A_(){var e=Lg(ru());return e.copy=function(){return qn(e,A_()).constant(e.constant())},un.apply(e,arguments)}function Xg(){var e=qg(ru());return e.copy=function(){return qn(e,Xg()).exponent(e.exponent())},un.apply(e,arguments)}function CF(){return Xg.apply(null,arguments).exponent(.5)}function O_(){var e=[],t=Vt;function r(n){if(n!=null&&!isNaN(n=+n))return t((vs(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Tn),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>gL(e,i/n))},r.copy=function(){return O_(t).domain(e)},un.apply(r,arguments)}function nu(){var e=0,t=.5,r=1,n=1,a,i,o,s,l,c=Vt,u,f=!1,p;function g(v){return isNaN(v=+v)?p:(v=.5+((v=+u(v))-i)*(n*v<n*i?s:l),c(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([e,t,r]=v,a=u(e=+e),i=u(t=+t),o=u(r=+r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,g):[e,t,r]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(c=v,g):c};function b(v){return function(y){var w,k,A;return arguments.length?([w,k,A]=y,c=zL(v,[w,k,A]),g):[c(0),c(.5),c(1)]}}return g.range=b(Ri),g.rangeRound=b(Dg),g.unknown=function(v){return arguments.length?(p=v,g):p},function(v){return u=v,a=v(e),i=v(t),o=v(r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,g}}function __(){var e=Ln(nu()(Vt));return e.copy=function(){return qn(e,__())},un.apply(e,arguments)}function P_(){var e=Bg(nu()).domain([.1,1,10]);return e.copy=function(){return qn(e,P_()).base(e.base())},un.apply(e,arguments)}function E_(){var e=Lg(nu());return e.copy=function(){return qn(e,E_()).constant(e.constant())},un.apply(e,arguments)}function Jg(){var e=qg(nu());return e.copy=function(){return qn(e,Jg()).exponent(e.exponent())},un.apply(e,arguments)}function TF(){return Jg.apply(null,arguments).exponent(.5)}const l1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$o,scaleDiverging:__,scaleDivergingLog:P_,scaleDivergingPow:Jg,scaleDivergingSqrt:TF,scaleDivergingSymlog:E_,scaleIdentity:s_,scaleImplicit:Jm,scaleLinear:nc,scaleLog:c_,scaleOrdinal:Cg,scalePoint:go,scalePow:Fg,scaleQuantile:d_,scaleQuantize:h_,scaleRadial:f_,scaleSequential:j_,scaleSequentialLog:k_,scaleSequentialPow:Xg,scaleSequentialQuantile:O_,scaleSequentialSqrt:CF,scaleSequentialSymlog:A_,scaleSqrt:dq,scaleSymlog:u_,scaleThreshold:p_,scaleTime:EF,scaleUtc:NF,tickFormat:o_},Symbol.toStringTag,{value:"Module"}));var Op,c1;function N_(){if(c1)return Op;c1=1;var e=Ti();function t(r,n,a){for(var i=-1,o=r.length;++i<o;){var s=r[i],l=n(s);if(l!=null&&(c===void 0?l===l&&!e(l):a(l,c)))var c=l,u=s}return u}return Op=t,Op}var _p,u1;function MF(){if(u1)return _p;u1=1;function e(t,r){return t>r}return _p=e,_p}var Pp,f1;function DF(){if(f1)return Pp;f1=1;var e=N_(),t=MF(),r=Di();function n(a){return a&&a.length?e(a,r,t):void 0}return Pp=n,Pp}var IF=DF();const au=Je(IF);var Ep,d1;function RF(){if(d1)return Ep;d1=1;function e(t,r){return t<r}return Ep=e,Ep}var Np,h1;function $F(){if(h1)return Np;h1=1;var e=N_(),t=RF(),r=Di();function n(a){return a&&a.length?e(a,r,t):void 0}return Np=n,Np}var BF=$F();const iu=Je(BF);var Cp,p1;function LF(){if(p1)return Cp;p1=1;var e=hg(),t=Bn(),r=BO(),n=Xt();function a(i,o){var s=n(i)?e:r;return s(i,t(o,3))}return Cp=a,Cp}var Tp,m1;function qF(){if(m1)return Tp;m1=1;var e=RO(),t=LF();function r(n,a){return e(t(n,a),1)}return Tp=r,Tp}var FF=qF();const WF=Je(FF);var Mp,y1;function zF(){if(y1)return Mp;y1=1;var e=Og();function t(r,n){return e(r,n)}return Mp=t,Mp}var UF=zF();const ou=Je(UF);var $i=1e9,KF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zg,ct=!0,ur="[DecimalError] ",ca=ur+"Invalid argument: ",Qg=ur+"Exponent out of range: ",Bi=Math.floor,ea=Math.pow,GF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tr,Et=1e7,ot=7,C_=9007199254740991,sc=Bi(C_/ot),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(e){return en(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,r=t.constructor;return Ze(en(t,new r(e),0,1),r.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return wt(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(tr))throw Error(ur+"NaN");if(r.s<1)throw Error(ur+(r.s?"NaN":"-Infinity"));return r.eq(tr)?new n(0):(ct=!1,t=en(Wo(r,i),Wo(e,i),i),ct=!0,Ze(t,a))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?D_(t,e):T_(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ur+"NaN");return r.s?(ct=!1,t=en(r,e,0,1).times(e),ct=!0,r.minus(t)):Ze(new n(r),a)};ke.naturalExponential=ke.exp=function(){return M_(this)};ke.naturalLogarithm=ke.ln=function(){return Wo(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T_(t,e):D_(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ca+e);if(t=wt(a)+1,n=a.d.length-1,r=n*ot+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ke.squareRoot=ke.sqrt=function(){var e,t,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ur+"NaN")}for(e=wt(s),ct=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Dr(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Bi((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=o=r+3;;)if(i=n,n=i.plus(en(s,i,o+2)).times(.5),Dr(i.d).slice(0,o)===(t=Dr(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ze(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return ct=!0,Ze(n,r)};ke.times=ke.mul=function(e){var t,r,n,a,i,o,s,l,c,u=this,f=u.constructor,p=u.d,g=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=p.length,c=g.length,l<c&&(i=p,p=g,g=i,o=l,l=c,c=o),i=[],o=l+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=i[a]+g[n]*p[a-n-1]+t,i[a--]=s%Et|0,t=s/Et|0;i[a]=(i[a]+t)%Et|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ct?Ze(e,f.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Br(e,0,$i),t===void 0?t=n.rounding:Br(t,0,8),Ze(r,e+wt(r)+1,t))};ke.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ma(n,!0):(Br(e,0,$i),t===void 0?t=a.rounding:Br(t,0,8),n=Ze(new a(n),e+1,t),r=ma(n,!0,e+1)),r};ke.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ma(a):(Br(e,0,$i),t===void 0?t=i.rounding:Br(t,0,8),n=Ze(new i(a),e+wt(a)+1,t),r=ma(n.abs(),!1,e+wt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return Ze(new t(e),wt(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,r,n,a,i,o,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(tr);if(s=new l(s),!s.s){if(e.s<1)throw Error(ur+"Infinity");return s}if(s.eq(tr))return s;if(n=l.precision,e.eq(tr))return Ze(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=u<0?-u:u)<=C_){for(a=new l(tr),t=Math.ceil(n/ot+4),ct=!1;r%2&&(a=a.times(s),v1(a.d,t)),r=Bi(r/2),r!==0;)s=s.times(s),v1(s.d,t);return ct=!0,e.s<0?new l(tr).div(a):Ze(a,n)}}else if(i<0)throw Error(ur+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,ct=!1,a=e.times(Wo(s,n+c)),ct=!0,a=M_(a),a.s=i,a};ke.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=wt(a),n=ma(a,r<=i.toExpNeg||r>=i.toExpPos)):(Br(e,1,$i),t===void 0?t=i.rounding:Br(t,0,8),a=Ze(new i(a),e,t),r=wt(a),n=ma(a,e<=r||r<=i.toExpNeg,e)),n};ke.toSignificantDigits=ke.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Br(e,1,$i),t===void 0?t=n.rounding:Br(t,0,8)),Ze(new n(r),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wt(e),r=e.constructor;return ma(e,t<=r.toExpNeg||t>=r.toExpPos)};function T_(e,t){var r,n,a,i,o,s,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),ct?Ze(t,f):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(n=l,i=-i,s=c.length):(n=c,a=o,s=l.length),o=Math.ceil(f/ot),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=l.length,i=c.length,s-i<0&&(i=s,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Et|0,l[i]%=Et;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,ct?Ze(t,f):t}function Br(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ca+e)}function Dr(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=ot-n.length,r&&(i+=An(r)),i+=n;o=e[t],n=o+"",r=ot-n.length,r&&(i+=An(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var en=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%Et|0,o=i/Et|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Et+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,l,c,u,f,p,g,b,v,y,w,k,A,E,j,O,P,T,M=n.constructor,K=n.s==a.s?1:-1,I=n.d,B=a.d;if(!n.s)return new M(n);if(!a.s)throw Error(ur+"Division by zero");for(l=n.e-a.e,P=B.length,j=I.length,g=new M(K),b=g.d=[],c=0;B[c]==(I[c]||0);)++c;if(B[c]>(I[c]||0)&&--l,i==null?k=i=M.precision:o?k=i+(wt(n)-wt(a))+1:k=i,k<0)return new M(0);if(k=k/ot+2|0,c=0,P==1)for(u=0,B=B[0],k++;(c<j||u)&&k--;c++)A=u*Et+(I[c]||0),b[c]=A/B|0,u=A%B|0;else{for(u=Et/(B[0]+1)|0,u>1&&(B=e(B,u),I=e(I,u),P=B.length,j=I.length),E=P,v=I.slice(0,P),y=v.length;y<P;)v[y++]=0;T=B.slice(),T.unshift(0),O=B[0],B[1]>=Et/2&&++O;do u=0,s=t(B,v,P,y),s<0?(w=v[0],P!=y&&(w=w*Et+(v[1]||0)),u=w/O|0,u>1?(u>=Et&&(u=Et-1),f=e(B,u),p=f.length,y=v.length,s=t(f,v,p,y),s==1&&(u--,r(f,P<p?T:B,p))):(u==0&&(s=u=1),f=B.slice()),p=f.length,p<y&&f.unshift(0),r(v,f,y),s==-1&&(y=v.length,s=t(B,v,P,y),s<1&&(u++,r(v,P<y?T:B,y))),y=v.length):s===0&&(u++,v=[0]),b[c++]=u,s&&v[0]?v[y++]=I[E]||0:(v=[I[E]],y=1);while((E++<j||v[0]!==void 0)&&k--)}return b[0]||b.shift(),g.e=l,Ze(g,o?i+wt(g)+1:i)}}();function M_(e,t){var r,n,a,i,o,s,l=0,c=0,u=e.constructor,f=u.precision;if(wt(e)>16)throw Error(Qg+wt(e));if(!e.s)return new u(tr);for(ct=!1,s=f,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(ea(2,c))/Math.LN10*2+5|0,s+=n,r=a=i=new u(tr),u.precision=s;;){if(a=Ze(a.times(e),s),r=r.times(++l),o=i.plus(en(a,r,s)),Dr(o.d).slice(0,s)===Dr(i.d).slice(0,s)){for(;c--;)i=Ze(i.times(i),s);return u.precision=f,t==null?(ct=!0,Ze(i,f)):i}i=o}}function wt(e){for(var t=e.e*ot,r=e.d[0];r>=10;r/=10)t++;return t}function Dp(e,t,r){if(t>e.LN10.sd())throw ct=!0,r&&(e.precision=r),Error(ur+"LN10 precision limit exceeded");return Ze(new e(e.LN10),t)}function An(e){for(var t="";e--;)t+="0";return t}function Wo(e,t){var r,n,a,i,o,s,l,c,u,f=1,p=10,g=e,b=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(ur+(g.s?"NaN":"-Infinity"));if(g.eq(tr))return new v(0);if(t==null?(ct=!1,c=y):c=t,g.eq(10))return t==null&&(ct=!0),Dp(v,c);if(c+=p,v.precision=c,r=Dr(b),n=r.charAt(0),i=wt(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Dr(g.d),n=r.charAt(0),f++;i=wt(g),n>1?(g=new v("0."+r),i++):g=new v(n+"."+r.slice(1))}else return l=Dp(v,c+2,y).times(i+""),g=Wo(new v(n+"."+r.slice(1)),c-p).plus(l),v.precision=y,t==null?(ct=!0,Ze(g,y)):g;for(s=o=g=en(g.minus(tr),g.plus(tr),c),u=Ze(g.times(g),c),a=3;;){if(o=Ze(o.times(u),c),l=s.plus(en(o,new v(a),c)),Dr(l.d).slice(0,c)===Dr(s.d).slice(0,c))return s=s.times(2),i!==0&&(s=s.plus(Dp(v,c+2,y).times(i+""))),s=en(s,new v(f),c),v.precision=y,t==null?(ct=!0,Ze(s,y)):s;s=l,a+=2}}function g1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Bi(r/ot),e.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ot;n<a;)e.d.push(+t.slice(n,n+=ot));t=t.slice(n),n=ot-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ct&&(e.e>sc||e.e<-sc))throw Error(Qg+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ze(e,t,r){var n,a,i,o,s,l,c,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=ot,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/ot),i=f.length,u>=i)return e;for(c=i=f[u],o=1;i>=10;i/=10)o++;n%=ot,a=n-ot+o}if(r!==void 0&&(i=ea(10,o-a-1),s=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/ea(10,o-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=wt(e),f.length=1,t=t-i-1,f[0]=ea(10,(ot-t%ot)%ot),e.e=Bi(-t/ot)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=ea(10,ot-n),f[u]=a>0?(c/ea(10,o-a)%ea(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Et&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Et)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ct&&(e.e>sc||e.e<-sc))throw Error(Qg+wt(e));return e}function D_(e,t){var r,n,a,i,o,s,l,c,u,f,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),ct?Ze(t,g):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),a=Math.max(Math.ceil(g/ot),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}o=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Et-1;--l[i],l[a]+=Et}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,ct?Ze(t,g):t):new p(0)}function ma(e,t,r){var n,a=wt(e),i=Dr(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+An(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+An(-a-1)+i,r&&(n=r-o)>0&&(i+=An(n))):a>=o?(i+=An(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+An(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=An(n))),e.s<0?"-"+i:i}function v1(e,t){if(e.length>t)return e.length=t,!0}function I_(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ca+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return g1(o,i.toString())}else if(typeof i!="string")throw Error(ca+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,GF.test(i))g1(o,i);else throw Error(ca+i)}if(a.prototype=ke,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=I_,a.config=a.set=HF,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function HF(e){if(!e||typeof e!="object")throw Error(ur+"Object expected");var t,r,n,a=["precision",1,$i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Bi(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ca+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ca+r+": "+n);return this}var Zg=I_(KF);tr=new Zg(1);const Xe=Zg;function VF(e){return QF(e)||JF(e)||XF(e)||YF()}function YF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XF(e,t){if(e){if(typeof e=="string")return ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ty(e,t)}}function JF(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function QF(e){if(Array.isArray(e))return ty(e)}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ZF=function(t){return t},R_={},$_=function(t){return t===R_},b1=function(t){return function r(){return arguments.length===0||arguments.length===1&&$_(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},eW=function e(t,r){return t===1?r:b1(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==R_}).length;return o>=t?r.apply(void 0,a):e(t-o,b1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=a.map(function(f){return $_(f)?l.shift():f});return r.apply(void 0,VF(u).concat(l))}))})},su=function(t){return eW(t.length,t)},ry=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},tW=su(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),rW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return ZF;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,l){return l(s)},i.apply(void 0,arguments))}},ny=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},B_=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,l){return s===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function nW(e){var t;return e===0?t=1:t=Math.floor(new Xe(e).abs().log(10).toNumber())+1,t}function aW(e,t,r){for(var n=new Xe(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var iW=su(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),oW=su(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),sW=su(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const lu={rangeStep:aW,getDigitCount:nW,interpolateNumber:iW,uninterpolateNumber:oW,uninterpolateTruncation:sW};function ay(e){return uW(e)||cW(e)||L_(e)||lW()}function lW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function uW(e){if(Array.isArray(e))return iy(e)}function zo(e,t){return hW(e)||dW(e,t)||L_(e,t)||fW()}function fW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L_(e,t){if(e){if(typeof e=="string")return iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iy(e,t)}}function iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dW(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function hW(e){if(Array.isArray(e))return e}function q_(e){var t=zo(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function F_(e,t,r){if(e.lte(0))return new Xe(0);var n=lu.getDigitCount(e.toNumber()),a=new Xe(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new Xe(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=s.mul(a);return t?l:new Xe(Math.ceil(l))}function pW(e,t,r){var n=1,a=new Xe(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Xe(10).pow(lu.getDigitCount(e)-1),a=new Xe(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Xe(Math.floor(e)))}else e===0?a=new Xe(Math.floor((t-1)/2)):r||(a=new Xe(Math.floor(e)));var o=Math.floor((t-1)/2),s=rW(tW(function(l){return a.add(new Xe(l-o).mul(n)).toNumber()}),ry);return s(0,t)}function W_(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var i=F_(new Xe(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Xe(0):(o=new Xe(e).add(t).div(2),o=o.sub(new Xe(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Xe(t).sub(o).div(i).toNumber()),c=s+l+1;return c>r?W_(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:i,tickMin:o.sub(new Xe(s).mul(i)),tickMax:o.add(new Xe(l).mul(i))})}function mW(e){var t=zo(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=q_([r,n]),l=zo(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(ay(ry(0,a-1).map(function(){return 1/0}))):[].concat(ay(ry(0,a-1).map(function(){return-1/0})),[u]);return r>n?ny(f):f}if(c===u)return pW(c,a,i);var p=W_(c,u,o,i),g=p.step,b=p.tickMin,v=p.tickMax,y=lu.rangeStep(b,v.add(new Xe(.1).mul(g)),g);return r>n?ny(y):y}function yW(e,t){var r=zo(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=q_([n,a]),s=zo(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=F_(new Xe(c).sub(l).div(u-1),i,0),p=[].concat(ay(lu.rangeStep(new Xe(l),new Xe(c).sub(new Xe(.99).mul(f)),f)),[c]);return n>a?ny(p):p}var gW=B_(mW),vW=B_(yW),bW="Invariant failed";function ya(e,t){throw new Error(bW)}var xW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pi(e){"@babel/helpers - typeof";return pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(e)}function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lc.apply(this,arguments)}function wW(e,t){return AW(e)||kW(e,t)||jW(e,t)||SW()}function SW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jW(e,t){if(e){if(typeof e=="string")return x1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x1(e,t)}}function x1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function AW(e){if(Array.isArray(e))return e}function OW(e,t){if(e==null)return{};var r=_W(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _W(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K_(n.key),n)}}function NW(e,t,r){return t&&EW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CW(e,t,r){return t=cc(t),TW(e,z_()?Reflect.construct(t,r||[],cc(e).constructor):t.apply(e,r))}function TW(e,t){if(t&&(pi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MW(e)}function MW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z_=function(){return!!e})()}function cc(e){return cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cc(e)}function DW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oy(e,t)}function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oy(e,t)}function U_(e,t,r){return t=K_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K_(e){var t=IW(e,"string");return pi(t)=="symbol"?t:t+""}function IW(e,t){if(pi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ss=function(e){function t(){return PW(this,t),CW(this,t,arguments)}return DW(t,e),NW(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,p=OW(n,xW),g=We(p,!1);this.props.direction==="x"&&u.type!=="number"&&ya();var b=l.map(function(v){var y=c(v,s),w=y.x,k=y.y,A=y.value,E=y.errorVal;if(!E)return null;var j=[],O,P;if(Array.isArray(E)){var T=wW(E,2);O=T[0],P=T[1]}else O=P=E;if(i==="vertical"){var M=u.scale,K=k+a,I=K+o,B=K-o,z=M(A-O),Q=M(A+P);j.push({x1:Q,y1:I,x2:Q,y2:B}),j.push({x1:z,y1:K,x2:Q,y2:K}),j.push({x1:z,y1:I,x2:z,y2:B})}else if(i==="horizontal"){var X=f.scale,Z=w+a,le=Z-o,ue=Z+o,re=X(A-O),ae=X(A+P);j.push({x1:le,y1:ae,x2:ue,y2:ae}),j.push({x1:Z,y1:re,x2:Z,y2:ae}),j.push({x1:le,y1:re,x2:ue,y2:re})}return q.createElement(gt,lc({className:"recharts-errorBar",key:"bar-".concat(j.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},g),j.map(function(fe){return q.createElement("line",lc({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return q.createElement(gt,{className:"recharts-errorBars"},b)}}])}(q.Component);U_(Ss,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});U_(Ss,"displayName","ErrorBar");function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function w1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w1(Object(r),!0).forEach(function(n){RW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RW(e,t,r){return t=$W(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $W(e){var t=BW(e,"string");return Uo(t)=="symbol"?t:t+""}function BW(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G_=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=er(r,ei);if(!o)return null;var s=ei.defaultProps,l=s!==void 0?Qn(Qn({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var p=f.item,g=f.props,b=g.sectors||g.data||[];return u.concat(b.map(function(v){return{type:o.props.iconType||p.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(u){var f=u.item,p=f.type.defaultProps,g=p!==void 0?Qn(Qn({},p),f.props):{},b=g.dataKey,v=g.name,y=g.legendType,w=g.hide;return{inactive:w,dataKey:b,type:l.iconType||y||"square",color:ev(f),value:v||b,payload:g}}),Qn(Qn(Qn({},l),ei.getWithHeight(o,a)),{},{payload:c,item:o})};function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function S1(e){return WW(e)||FW(e)||qW(e)||LW()}function LW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qW(e,t){if(e){if(typeof e=="string")return sy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sy(e,t)}}function FW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WW(e){if(Array.isArray(e))return sy(e)}function sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j1(Object(r),!0).forEach(function(n){ri(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ri(e,t,r){return t=zW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zW(e){var t=UW(e,"string");return Ko(t)=="symbol"?t:t+""}function UW(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nr(e,t,r){return Le(e)||Le(t)?r:jt(t)?lr(e,t,r):Ie(t)?t(e):r}function vo(e,t,r,n){var a=WF(e,function(s){return nr(s,t)});if(r==="number"){var i=a.filter(function(s){return ve(s)||parseFloat(s)});return i.length?[iu(i),au(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!Le(s)}):a;return o.map(function(s){return jt(s)||s instanceof Date?s:""})}var KW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n?.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<s;c++){var u=c>0?a[c-1].coordinate:a[s-1].coordinate,f=a[c].coordinate,p=c>=s-1?a[0].coordinate:a[c+1].coordinate,g=void 0;if(br(f-u)!==br(p-f)){var b=[];if(br(p-f)===br(l[1]-l[0])){g=p;var v=f+l[1]-l[0];b[0]=Math.min(v,(v+u)/2),b[1]=Math.max(v,(v+u)/2)}else{g=u;var y=p+l[1]-l[0];b[0]=Math.min(f,(y+f)/2),b[1]=Math.max(f,(y+f)/2)}var w=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>w[0]&&t<=w[1]||t>=b[0]&&t<=b[1]){o=a[c].index;break}}else{var k=Math.min(u,p),A=Math.max(u,p);if(t>(k+f)/2&&t<=(A+f)/2){o=a[c].index;break}}}else for(var E=0;E<s;E++)if(E===0&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<s-1&&t>(n[E].coordinate+n[E-1].coordinate)/2&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E===s-1&&t>(n[E].coordinate+n[E-1].coordinate)/2){o=n[E].index;break}return o},ev=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?dt(dt({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},GW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),l=0,c=s.length;l<c;l++)for(var u=i[s[l]].stackGroups,f=Object.keys(u),p=0,g=f.length;p<g;p++){var b=u[f[p]],v=b.items,y=b.cateAxisId,w=v.filter(function(P){return Qr(P.type).indexOf("Bar")>=0});if(w&&w.length){var k=w[0].type.defaultProps,A=k!==void 0?dt(dt({},k),w[0].props):w[0].props,E=A.barSize,j=A[y];o[j]||(o[j]=[]);var O=Le(E)?r:E;o[j].push({item:w[0],stackList:w.slice(1),barSize:Le(O)?void 0:pa(O,n,0)})}}return o},HW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=pa(r,a,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,g=a/l,b=o.reduce(function(E,j){return E+j.barSize||0},0);b+=(l-1)*c,b>=a&&(b-=(l-1)*c,c=0),b>=a&&g>0&&(p=!0,g*=.9,b=l*g);var v=(a-b)/2>>0,y={offset:v-c,size:0};u=o.reduce(function(E,j){var O={item:j.item,position:{offset:y.offset+y.size+c,size:p?g:j.barSize}},P=[].concat(S1(E),[O]);return y=P[P.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(T){P.push({item:T,position:y})}),P},f)}else{var w=pa(n,a,0,!0);a-2*w-(l-1)*c<=0&&(c=0);var k=(a-2*w-(l-1)*c)/l;k>1&&(k>>=0);var A=s===+s?Math.min(k,s):k;u=o.reduce(function(E,j,O){var P=[].concat(S1(E),[{item:j.item,position:{offset:w+(k+c)*O+(k-A)/2,size:A}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(T){P.push({item:T,position:P[P.length-1].position})}),P},f)}return u},VW=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=G_({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,p=u.height,g=c.align,b=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&b==="middle")&&g!=="center"&&ve(t[g]))return dt(dt({},t),{},ri({},g,t[g]+(f||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&b!=="middle"&&ve(t[b]))return dt(dt({},t),{},ri({},b,t[b]+(p||0)))}return t},YW=function(t,r,n){return Le(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},H_=function(t,r,n,a,i){var o=r.props.children,s=cr(o,Ss).filter(function(c){return YW(a,i,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=nr(u,n);if(Le(f))return c;var p=Array.isArray(f)?[iu(f),au(f)]:[f,f],g=l.reduce(function(b,v){var y=nr(u,v,0),w=p[0]-Math.abs(Array.isArray(y)?y[0]:y),k=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,b[0]),Math.max(k,b[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},XW=function(t,r,n,a,i){var o=r.map(function(s){return H_(t,s,n,i,a)}).filter(function(s){return!Le(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},V_=function(t,r,n,a,i){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&H_(t,l,c,a)||vo(t,c,n,i)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},Y_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},X_=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,o,s=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||s.push(r),o||s.push(n),s},Jr=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&s?.length>=2?br(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+c,value:f,offset:c}});return u.filter(function(f){return!ms(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:a(f)+c,value:f,index:p,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,p){return{coordinate:a(f)+c,value:i?i[f]:f,index:p,offset:c}})},Ip=new WeakMap,pl=function(t,r){if(typeof r!="function")return t;Ip.has(t)||Ip.set(t,new WeakMap);var n=Ip.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},JW=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:$o(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:nc(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:go(),realScaleType:"point"}:i==="category"?{scale:$o(),realScaleType:"band"}:{scale:nc(),realScaleType:"linear"};if(ps(a)){var l="scale".concat(Kc(a));return{scale:(l1[l]||go)(),realScaleType:l1[l]?l:"point"}}return Ie(a)?{scale:a}:{scale:go(),realScaleType:"point"}},k1=1e-4,QW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-k1,o=Math.max(a[0],a[1])+k1,s=t(r[0]),l=t(r[n-1]);(s<i||s>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},ZW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},e3=function(t,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ve(t[0])||t[0]<n)&&(i[0]=n),(!ve(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},t3=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var l=ms(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},r3=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=ms(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},n3={sign:t3,expand:qR,none:oi,silhouette:FR,wiggle:WR,positive:r3},a3=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=n3[n],o=LR().keys(a).value(function(s,l){return+nr(s,l,0)}).order($m).offset(i);return o(t)},i3=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,p){var g,b=(g=p.type)!==null&&g!==void 0&&g.defaultProps?dt(dt({},p.type.defaultProps),p.props):p.props,v=b.stackId,y=b.hide;if(y)return f;var w=b[n],k=f[w]||{hasStack:!1,stackGroups:{}};if(jt(v)){var A=k.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};A.items.push(p),k.hasStack=!0,k.stackGroups[v]=A}else k.stackGroups[ys("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return dt(dt({},f),{},ri({},w,k))},l),u={};return Object.keys(c).reduce(function(f,p){var g=c[p];if(g.hasStack){var b={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,y){var w=g.stackGroups[y];return dt(dt({},v),{},ri({},y,{numericAxisId:n,cateAxisId:a,items:w.items,stackedData:a3(t,w.items,i)}))},b)}return dt(dt({},f),{},ri({},p,g))},u)},o3=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=gW(c,i,s);return t.domain([iu(u),au(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),p=vW(f,i,s);return{niceTicks:p}}return null};function A1(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Le(a[t.dataKey])){var s=$l(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=nr(a,Le(o)?t.dataKey:o);return Le(l)?null:t.scale(l)}var O1=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=nr(o,r.dataKey,r.domain[s]);return Le(l)?null:r.scale(l)-i/2+a},s3=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},l3=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?dt(dt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(jt(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},c3=function(t){return t.reduce(function(r,n){return[iu(n.concat([r[0]]).filter(ve)),au(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},J_=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,l=s.reduce(function(c,u){var f=c3(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},_1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,P1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ly=function(t,r,n){if(Ie(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ve(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(_1.test(t[0])){var i=+_1.exec(t[0])[1];a[0]=r[0]-i}else Ie(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ve(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(P1.test(t[1])){var o=+P1.exec(t[1])[1];a[1]=r[1]+o}else Ie(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},uc=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=Pg(r,function(f){return f.coordinate}),o=1/0,s=1,l=i.length;s<l;s++){var c=i[s],u=i[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},E1=function(t,r,n){return!t||!t.length||ou(t,lr(n,"type.defaultProps.domain"))?r:t},Q_=function(t,r){var n=t.type.defaultProps?dt(dt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return dt(dt({},We(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:ev(t),value:nr(r,a),type:l,payload:r,chartType:c,hide:u})};function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}function N1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(r),!0).forEach(function(n){u3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u3(e,t,r){return t=f3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f3(e){var t=d3(e,"string");return Go(t)=="symbol"?t:t+""}function d3(e,t){if(Go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fc=Math.PI/180,h3=function(t){return t*180/Math.PI},Dt=function(t,r,n,a){return{x:t+Math.cos(-fc*a)*n,y:r+Math.sin(-fc*a)*n}},p3=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},m3=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=p3({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var l=(n-i)/s,c=Math.acos(l);return a>o&&(c=2*Math.PI-c),{radius:s,angle:h3(c),angleInRadian:c}},y3=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},g3=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},T1=function(t,r){var n=t.x,a=t.y,i=m3({x:n,y:a},r),o=i.radius,s=i.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=y3(r),f=u.startAngle,p=u.endAngle,g=s,b;if(f<=p){for(;g>p;)g-=360;for(;g<f;)g+=360;b=g>=f&&g<=p}else{for(;g>f;)g-=360;for(;g<p;)g+=360;b=g>=p&&g<=f}return b?C1(C1({},r),{},{radius:o,angle:g3(g,r)}):null};function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}var v3=["offset"];function b3(e){return j3(e)||S3(e)||w3(e)||x3()}function x3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w3(e,t){if(e){if(typeof e=="string")return cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cy(e,t)}}function S3(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j3(e){if(Array.isArray(e))return cy(e)}function cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k3(e,t){if(e==null)return{};var r=A3(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function M1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(r),!0).forEach(function(n){O3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O3(e,t,r){return t=_3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _3(e){var t=P3(e,"string");return Ho(t)=="symbol"?t:t+""}function P3(e,t){if(Ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vo.apply(this,arguments)}var E3=function(t){var r=t.value,n=t.formatter,a=Le(t.children)?r:t.children;return Ie(n)?n(a):a},N3=function(t,r){var n=br(r-t),a=Math.min(Math.abs(r-t),360);return n*a},C3=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,p=l.outerRadius,g=l.startAngle,b=l.endAngle,v=l.clockWise,y=(f+p)/2,w=N3(g,b),k=w>=0?1:-1,A,E;a==="insideStart"?(A=g+k*o,E=v):a==="insideEnd"?(A=b-k*o,E=!v):a==="end"&&(A=b+k*o,E=v),E=w<=0?E:!E;var j=Dt(c,u,y,A),O=Dt(c,u,y,A+(E?1:-1)*359),P="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(E?0:1,`,
    `).concat(O.x,",").concat(O.y),T=Le(t.id)?ys("recharts-radial-line-"):t.id;return q.createElement("text",Vo({},n,{dominantBaseline:"central",className:Ue("recharts-radial-bar-label",s)}),q.createElement("defs",null,q.createElement("path",{id:T,d:P})),q.createElement("textPath",{xlinkHref:"#".concat(T)},r))},T3=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,p=(u+f)/2;if(a==="outside"){var g=Dt(o,s,c+n,p),b=g.x,v=g.y;return{x:b,y:v,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,w=Dt(o,s,y,p),k=w.x,A=w.y;return{x:k,y:A,textAnchor:"middle",verticalAnchor:"middle"}},M3=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,l=o.y,c=o.width,u=o.height,f=u>=0?1:-1,p=f*a,g=f>0?"end":"start",b=f>0?"start":"end",v=c>=0?1:-1,y=v*a,w=v>0?"end":"start",k=v>0?"start":"end";if(i==="top"){var A={x:s+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:g};return St(St({},A),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var E={x:s+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:b};return St(St({},E),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var j={x:s-y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return St(St({},j),n?{width:Math.max(j.x-n.x,0),height:u}:{})}if(i==="right"){var O={x:s+c+y,y:l+u/2,textAnchor:k,verticalAnchor:"middle"};return St(St({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:u}:{})}var P=n?{width:c,height:u}:{};return i==="insideLeft"?St({x:s+y,y:l+u/2,textAnchor:k,verticalAnchor:"middle"},P):i==="insideRight"?St({x:s+c-y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},P):i==="insideTop"?St({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:b},P):i==="insideBottom"?St({x:s+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:g},P):i==="insideTopLeft"?St({x:s+y,y:l+p,textAnchor:k,verticalAnchor:b},P):i==="insideTopRight"?St({x:s+c-y,y:l+p,textAnchor:w,verticalAnchor:b},P):i==="insideBottomLeft"?St({x:s+y,y:l+u-p,textAnchor:k,verticalAnchor:g},P):i==="insideBottomRight"?St({x:s+c-y,y:l+u-p,textAnchor:w,verticalAnchor:g},P):Mi(i)&&(ve(i.x)||na(i.x))&&(ve(i.y)||na(i.y))?St({x:s+pa(i.x,c),y:l+pa(i.y,u),textAnchor:"end",verticalAnchor:"end"},P):St({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},D3=function(t){return"cx"in t&&ve(t.cx)};function qt(e){var t=e.offset,r=t===void 0?5:t,n=k3(e,v3),a=St({offset:r},n),i=a.viewBox,o=a.position,s=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,p=a.textBreakAll;if(!i||Le(s)&&Le(l)&&!N.isValidElement(c)&&!Ie(c))return null;if(N.isValidElement(c))return N.cloneElement(c,a);var g;if(Ie(c)){if(g=N.createElement(c,a),N.isValidElement(g))return g}else g=E3(a);var b=D3(i),v=We(a,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return C3(a,g,v);var y=b?T3(a):M3(a);return q.createElement(Xl,Vo({className:Ue("recharts-label",f)},v,y,{breakAll:p}),g)}qt.displayName="Label";var Z_=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,p=t.y,g=t.top,b=t.left,v=t.width,y=t.height,w=t.clockWise,k=t.labelViewBox;if(k)return k;if(ve(v)&&ve(y)){if(ve(f)&&ve(p))return{x:f,y:p,width:v,height:y};if(ve(g)&&ve(b))return{x:g,y:b,width:v,height:y}}return ve(f)&&ve(p)?{x:f,y:p,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:w}:t.viewBox?t.viewBox:{}},I3=function(t,r){return t?t===!0?q.createElement(qt,{key:"label-implicit",viewBox:r}):jt(t)?q.createElement(qt,{key:"label-implicit",viewBox:r,value:t}):N.isValidElement(t)?t.type===qt?N.cloneElement(t,{key:"label-implicit",viewBox:r}):q.createElement(qt,{key:"label-implicit",content:t,viewBox:r}):Ie(t)?q.createElement(qt,{key:"label-implicit",content:t,viewBox:r}):Mi(t)?q.createElement(qt,Vo({viewBox:r},t,{key:"label-implicit"})):null:null},R3=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Z_(t),o=cr(a,qt).map(function(l,c){return N.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return o;var s=I3(t.label,r||i);return[s].concat(b3(o))};qt.parseViewBox=Z_;qt.renderCallByParent=R3;var Rp,D1;function $3(){if(D1)return Rp;D1=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Rp=e,Rp}var B3=$3();const L3=Je(B3);function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}var q3=["valueAccessor"],F3=["data","dataKey","clockWise","id","textBreakAll"];function W3(e){return G3(e)||K3(e)||U3(e)||z3()}function z3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U3(e,t){if(e){if(typeof e=="string")return uy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uy(e,t)}}function K3(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G3(e){if(Array.isArray(e))return uy(e)}function uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){H3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H3(e,t,r){return t=V3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V3(e){var t=Y3(e,"string");return Yo(t)=="symbol"?t:t+""}function Y3(e,t){if(Yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $1(e,t){if(e==null)return{};var r=X3(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var J3=function(t){return Array.isArray(t.value)?L3(t.value):t.value};function Mn(e){var t=e.valueAccessor,r=t===void 0?J3:t,n=$1(e,q3),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=$1(n,F3);return!a||!a.length?null:q.createElement(gt,{className:"recharts-label-list"},a.map(function(u,f){var p=Le(i)?r(u,f):nr(u&&u.payload,i),g=Le(s)?{}:{id:"".concat(s,"-").concat(f)};return q.createElement(qt,dc({},We(u,!0),c,g,{parentViewBox:u.parentViewBox,value:p,textBreakAll:l,viewBox:qt.parseViewBox(Le(o)?u:R1(R1({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Mn.displayName="LabelList";function Q3(e,t){return e?e===!0?q.createElement(Mn,{key:"labelList-implicit",data:t}):q.isValidElement(e)||Ie(e)?q.createElement(Mn,{key:"labelList-implicit",data:t,content:e}):Mi(e)?q.createElement(Mn,dc({data:t},e,{key:"labelList-implicit"})):null:null}function Z3(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=cr(n,Mn).map(function(o,s){return N.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=Q3(e.label,t);return[i].concat(W3(a))}Mn.renderCallByParent=Z3;function Xo(e){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(e)}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(this,arguments)}function B1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B1(Object(r),!0).forEach(function(n){e4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e4(e,t,r){return t=t4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t4(e){var t=r4(e,"string");return Xo(t)=="symbol"?t:t+""}function r4(e,t){if(Xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n4=function(t,r){var n=br(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},ml=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+a,f=Math.asin(l/u)/fc,p=c?i:i+o*f,g=Dt(r,n,u,p),b=Dt(r,n,a,p),v=c?i-o*f:i,y=Dt(r,n,u*Math.cos(f*fc),v);return{center:g,circleTangency:b,lineTangency:y,theta:f}},eP=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,l=n4(o,s),c=o+l,u=Dt(r,n,i,o),f=Dt(r,n,i,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var g=Dt(r,n,a,o),b=Dt(r,n,a,c);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},a4=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=br(u-c),p=ml({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),g=p.circleTangency,b=p.lineTangency,v=p.theta,y=ml({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:l}),w=y.circleTangency,k=y.lineTangency,A=y.theta,E=l?Math.abs(c-u):Math.abs(c-u)-v-A;if(E<0)return s?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):eP({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var j="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
  `);if(a>0){var O=ml({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=O.circleTangency,T=O.lineTangency,M=O.theta,K=ml({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=K.circleTangency,B=K.lineTangency,z=K.theta,Q=l?Math.abs(c-u):Math.abs(c-u)-M-z;if(Q<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(Q>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},i4={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tP=function(t){var r=L1(L1({},i4),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,p=r.className;if(o<i||u===f)return null;var g=Ue("recharts-sector",p),b=o-i,v=pa(s,b,0,!0),y;return v>0&&Math.abs(u-f)<360?y=a4({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,b/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):y=eP({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f}),q.createElement("path",fy({},We(r,!0),{className:g,d:y,role:"img"}))};function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(this,arguments)}function q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(r),!0).forEach(function(n){o4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o4(e,t,r){return t=s4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s4(e){var t=l4(e,"string");return Jo(t)=="symbol"?t:t+""}function l4(e,t){if(Jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W1={curveBasisClosed:PR,curveBasisOpen:ER,curveBasis:_R,curveBumpX:hR,curveBumpY:pR,curveLinearClosed:NR,curveLinear:Hc,curveMonotoneX:CR,curveMonotoneY:TR,curveNatural:MR,curveStep:DR,curveStepAfter:RR,curveStepBefore:IR},yl=function(t){return t.x===+t.x&&t.y===+t.y},oo=function(t){return t.x},so=function(t){return t.y},c4=function(t,r){if(Ie(t))return t;var n="curve".concat(Kc(t));return(n==="curveMonotone"||n==="curveBump")&&r?W1["".concat(n).concat(r==="vertical"?"Y":"X")]:W1[n]||Hc},u4=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=c4(n,s),f=c?i.filter(function(v){return yl(v)}):i,p;if(Array.isArray(o)){var g=c?o.filter(function(v){return yl(v)}):o,b=f.map(function(v,y){return F1(F1({},v),{},{base:g[y]})});return s==="vertical"?p=sl().y(so).x1(oo).x0(function(v){return v.base.x}):p=sl().x(oo).y1(so).y0(function(v){return v.base.y}),p.defined(yl).curve(u),p(b)}return s==="vertical"&&ve(o)?p=sl().y(so).x1(oo).x0(o):ve(o)?p=sl().x(oo).y1(so).y0(o):p=iO().x(oo).y(so),p.defined(yl).curve(u),p(f)},hy=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?u4(t):a;return q.createElement("path",dy({},We(t,!1),Bl(t),{className:Ue("recharts-curve",r),d:o,ref:i}))},$p={exports:{}},Bp,z1;function f4(){if(z1)return Bp;z1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bp=e,Bp}var Lp,U1;function d4(){if(U1)return Lp;U1=1;var e=f4();function t(){}function r(){}return r.resetWarningCache=t,Lp=function(){function n(o,s,l,c,u,f){if(f!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},Lp}var K1;function h4(){return K1||(K1=1,$p.exports=d4()()),$p.exports}var p4=h4();const Ve=Je(p4);var m4=Object.getOwnPropertyNames,y4=Object.getOwnPropertySymbols,g4=Object.prototype.hasOwnProperty;function G1(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function gl(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function H1(e){return m4(e).concat(y4(e))}var v4=Object.hasOwn||function(e,t){return g4.call(e,t)};function Aa(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var b4="__v",x4="__o",w4="_owner",V1=Object.getOwnPropertyDescriptor,Y1=Object.keys;function S4(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function j4(e,t){return Aa(e.getTime(),t.getTime())}function k4(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function A4(e,t){return e===t}function X1(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,l=0;(o=i.next())&&!o.done;){for(var c=t.entries(),u=!1,f=0;(s=c.next())&&!s.done;){if(a[f]){f++;continue}var p=o.value,g=s.value;if(r.equals(p[0],g[0],l,f,e,t,r)&&r.equals(p[1],g[1],p[0],g[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}var O4=Aa;function _4(e,t,r){var n=Y1(e),a=n.length;if(Y1(t).length!==a)return!1;for(;a-- >0;)if(!rP(e,t,r,n[a]))return!1;return!0}function lo(e,t,r){var n=H1(e),a=n.length;if(H1(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!rP(e,t,r,i)||(o=V1(e,i),s=V1(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function P4(e,t){return Aa(e.valueOf(),t.valueOf())}function E4(e,t){return e.source===t.source&&e.flags===t.flags}function J1(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!a[u]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function N4(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function C4(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function rP(e,t,r,n){return(n===w4||n===x4||n===b4)&&(e.$$typeof||t.$$typeof)?!0:v4(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var T4="[object Arguments]",M4="[object Boolean]",D4="[object Date]",I4="[object Error]",R4="[object Map]",$4="[object Number]",B4="[object Object]",L4="[object RegExp]",q4="[object Set]",F4="[object String]",W4="[object URL]",z4=Array.isArray,Q1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Z1=Object.assign,U4=Object.prototype.toString.call.bind(Object.prototype.toString);function K4(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(b,v,y){if(b===v)return!0;if(b==null||v==null)return!1;var w=typeof b;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?o(b,v,y):w==="function"?a(b,v,y):!1;var k=b.constructor;if(k!==v.constructor)return!1;if(k===Object)return s(b,v,y);if(z4(b))return t(b,v,y);if(Q1!=null&&Q1(b))return f(b,v,y);if(k===Date)return r(b,v,y);if(k===RegExp)return c(b,v,y);if(k===Map)return i(b,v,y);if(k===Set)return u(b,v,y);var A=U4(b);return A===D4?r(b,v,y):A===L4?c(b,v,y):A===R4?i(b,v,y):A===q4?u(b,v,y):A===B4?typeof b.then!="function"&&typeof v.then!="function"&&s(b,v,y):A===W4?p(b,v,y):A===I4?n(b,v,y):A===T4?s(b,v,y):A===M4||A===$4||A===F4?l(b,v,y):!1}}function G4(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?lo:S4,areDatesEqual:j4,areErrorsEqual:k4,areFunctionsEqual:A4,areMapsEqual:n?G1(X1,lo):X1,areNumbersEqual:O4,areObjectsEqual:n?lo:_4,arePrimitiveWrappersEqual:P4,areRegExpsEqual:E4,areSetsEqual:n?G1(J1,lo):J1,areTypedArraysEqual:n?lo:N4,areUrlsEqual:C4};if(r&&(a=Z1({},a,r(a))),t){var i=gl(a.areArraysEqual),o=gl(a.areMapsEqual),s=gl(a.areObjectsEqual),l=gl(a.areSetsEqual);a=Z1({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}function H4(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function V4(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,p=f===void 0?t?new WeakMap:void 0:f,g=u.meta;return r(l,c,{cache:p,equals:a,meta:g,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,o)}}var Y4=Fn();Fn({strict:!0});Fn({circular:!0});Fn({circular:!0,strict:!0});Fn({createInternalComparator:function(){return Aa}});Fn({strict:!0,createInternalComparator:function(){return Aa}});Fn({circular:!0,createInternalComparator:function(){return Aa}});Fn({circular:!0,createInternalComparator:function(){return Aa},strict:!0});function Fn(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=G4(e),l=K4(s),c=n?n(l):H4(l);return V4({circular:r,comparator:l,createState:a,equals:c,strict:o})}function X4(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function ej(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):X4(a)};requestAnimationFrame(n)}function py(e){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(e)}function J4(e){return tz(e)||ez(e)||Z4(e)||Q4()}function Q4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z4(e,t){if(e){if(typeof e=="string")return tj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tj(e,t)}}function tj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ez(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tz(e){if(Array.isArray(e))return e}function rz(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=J4(o),l=s[0],c=s.slice(1);if(typeof l=="number"){ej(a.bind(null,c),l);return}a(l),ej(a.bind(null,c));return}py(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(r),!0).forEach(function(n){nP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nP(e,t,r){return t=nz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=az(e,"string");return Qo(t)==="symbol"?t:String(t)}function az(e,t){if(Qo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iz=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},oz=function(t){return t},sz=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},bo=function(t,r){return Object.keys(r).reduce(function(n,a){return nj(nj({},n),{},nP({},a,t(a,r[a])))},{})},aj=function(t,r,n){return t.map(function(a){return"".concat(sz(a)," ").concat(r,"ms ").concat(n)}).join(",")};function lz(e,t){return fz(e)||uz(e,t)||aP(e,t)||cz()}function cz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function fz(e){if(Array.isArray(e))return e}function dz(e){return mz(e)||pz(e)||aP(e)||hz()}function hz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aP(e,t){if(e){if(typeof e=="string")return my(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return my(e,t)}}function pz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mz(e){if(Array.isArray(e))return my(e)}function my(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hc=1e-4,iP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},oP=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},ij=function(t,r){return function(n){var a=iP(t,r);return oP(a,n)}},yz=function(t,r){return function(n){var a=iP(t,r),i=[].concat(dz(a.map(function(o,s){return o*s}).slice(1)),[0]);return oP(i,n)}},oj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=lz(c,4);a=u[0],i=u[1],o=u[2],s=u[3]}}}var f=ij(a,o),p=ij(i,s),g=yz(a,o),b=function(w){return w>1?1:w<0?0:w},v=function(w){for(var k=w>1?1:w,A=k,E=0;E<8;++E){var j=f(A)-k,O=g(A);if(Math.abs(j-k)<hc||O<hc)return p(A);A=b(A-j/O)}return p(A)};return v.isStepper=!1,v},gz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,l=function(u,f,p){var g=-(u-f)*n,b=p*i,v=p+(g-b)*s/1e3,y=p*s/1e3+u;return Math.abs(y-f)<hc&&Math.abs(v)<hc?[f,0]:[y,v]};return l.isStepper=!0,l.dt=s,l},vz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oj(a);case"spring":return gz();default:if(a.split("(")[0]==="cubic-bezier")return oj(a)}return typeof a=="function"?a:null};function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function sj(e){return wz(e)||xz(e)||sP(e)||bz()}function bz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wz(e){if(Array.isArray(e))return gy(e)}function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){yy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yy(e,t,r){return t=Sz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sz(e){var t=jz(e,"string");return Zo(t)==="symbol"?t:String(t)}function jz(e,t){if(Zo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kz(e,t){return _z(e)||Oz(e,t)||sP(e,t)||Az()}function Az(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sP(e,t){if(e){if(typeof e=="string")return gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gy(e,t)}}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function _z(e){if(Array.isArray(e))return e}var pc=function(t,r,n){return t+(r-t)*n},vy=function(t){var r=t.from,n=t.to;return r!==n},Pz=function e(t,r,n){var a=bo(function(i,o){if(vy(o)){var s=t(o.from,o.to,o.velocity),l=kz(s,2),c=l[0],u=l[1];return Tt(Tt({},o),{},{from:c,velocity:u})}return o},r);return n<1?bo(function(i,o){return vy(o)?Tt(Tt({},o),{},{velocity:pc(o.velocity,a[i].velocity,n),from:pc(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const Ez=function(e,t,r,n,a){var i=iz(e,t),o=i.reduce(function(y,w){return Tt(Tt({},y),{},yy({},w,[e[w],t[w]]))},{}),s=i.reduce(function(y,w){return Tt(Tt({},y),{},yy({},w,{from:e[w],velocity:0,to:t[w]}))},{}),l=-1,c,u,f=function(){return null},p=function(){return bo(function(w,k){return k.from},s)},g=function(){return!Object.values(s).filter(vy).length},b=function(w){c||(c=w);var k=w-c,A=k/r.dt;s=Pz(r,s,A),a(Tt(Tt(Tt({},e),t),p())),c=w,g()||(l=requestAnimationFrame(f))},v=function(w){u||(u=w);var k=(w-u)/n,A=bo(function(j,O){return pc.apply(void 0,sj(O).concat([r(k)]))},o);if(a(Tt(Tt(Tt({},e),t),A)),k<1)l=requestAnimationFrame(f);else{var E=bo(function(j,O){return pc.apply(void 0,sj(O).concat([r(1)]))},o);a(Tt(Tt(Tt({},e),t),E))}};return f=r.isStepper?b:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function mi(e){"@babel/helpers - typeof";return mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(e)}var Nz=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Cz(e,t){if(e==null)return{};var r=Tz(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tz(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function qp(e){return Rz(e)||Iz(e)||Dz(e)||Mz()}function Mz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dz(e,t){if(e){if(typeof e=="string")return by(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return by(e,t)}}function Iz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rz(e){if(Array.isArray(e))return by(e)}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(r),!0).forEach(function(n){po(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function po(e,t,r){return t=lP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lP(n.key),n)}}function Lz(e,t,r){return t&&Bz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lP(e){var t=qz(e,"string");return mi(t)==="symbol"?t:String(t)}function qz(e,t){if(mi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xy(e,t)}function xy(e,t){return xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xy(e,t)}function Wz(e){var t=zz();return function(){var n=mc(e),a;if(t){var i=mc(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return wy(this,a)}}function wy(e,t){if(t&&(mi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sy(e)}function Sy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mc(e){return mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mc(e)}var on=function(e){Fz(r,e);var t=Wz(r);function r(n,a){var i;$z(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,f=o.steps,p=o.children,g=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Sy(i)),i.changeStyle=i.changeStyle.bind(Sy(i)),!s||g<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:u}),wy(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof p=="function")return i.state={style:c},wy(i);i.state={style:l?po({},l,c):c}}else i.state={style:{}};return i}return Lz(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,p=this.state.style;if(s){if(!o){var g={style:l?po({},l,u):u};this.state&&p&&(l&&p[l]!==u||!l&&p!==u)&&this.setState(g);return}if(!(Y4(a.to,u)&&a.canBegin&&a.isActive)){var b=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=b||c?f:a.to;if(this.state&&p){var y={style:l?po({},l,v):v};(l&&p[l]!==v||!l&&p!==v)&&this.setState(y)}this.runAnimation(hr(hr({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,g=Ez(o,s,vz(c),l,this.changeStyle),b=function(){i.stopJSAnimation=g()};this.manager.start([p,u,b,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,l=a.onAnimationStart,c=o[0],u=c.style,f=c.duration,p=f===void 0?0:f,g=function(v,y,w){if(w===0)return v;var k=y.duration,A=y.easing,E=A===void 0?"ease":A,j=y.style,O=y.properties,P=y.onAnimationEnd,T=w>0?o[w-1]:y,M=O||Object.keys(j);if(typeof E=="function"||E==="spring")return[].concat(qp(v),[i.runJSAnimation.bind(i,{from:T.style,to:j,duration:k,easing:E}),k]);var K=aj(M,k,E),I=hr(hr(hr({},T.style),j),{},{transition:K});return[].concat(qp(v),[I,k,P]).filter(oz)};return this.manager.start([l].concat(qp(o.reduce(g,[u,Math.max(p,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=rz());var i=a.begin,o=a.duration,s=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,g=a.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var v=s?po({},s,l):l,y=aj(Object.keys(v),o,c);b.start([u,i,hr(hr({},v),{},{transition:y}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=Cz(a,Nz),c=N.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!s||c===0||o<=0)return i;var f=function(g){var b=g.props,v=b.style,y=v===void 0?{}:v,w=b.className,k=N.cloneElement(g,hr(hr({},l),{},{style:hr(hr({},y),u),className:w}));return k};return c===1?f(N.Children.only(i)):q.createElement("div",null,N.Children.map(i,function(p){return f(p)}))}}]),r}(N.PureComponent);on.displayName="Animate";on.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};on.propTypes={from:Ve.oneOfType([Ve.object,Ve.string]),to:Ve.oneOfType([Ve.object,Ve.string]),attributeName:Ve.string,duration:Ve.number,begin:Ve.number,easing:Ve.oneOfType([Ve.string,Ve.func]),steps:Ve.arrayOf(Ve.shape({duration:Ve.number.isRequired,style:Ve.object.isRequired,easing:Ve.oneOfType([Ve.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ve.func]),properties:Ve.arrayOf("string"),onAnimationEnd:Ve.func})),children:Ve.oneOfType([Ve.node,Ve.func]),isActive:Ve.bool,canBegin:Ve.bool,onAnimationEnd:Ve.func,shouldReAnimate:Ve.bool,onAnimationStart:Ve.func,onAnimationReStart:Ve.func};function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(this,arguments)}function Uz(e,t){return Vz(e)||Hz(e,t)||Gz(e,t)||Kz()}function Kz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gz(e,t){if(e){if(typeof e=="string")return uj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uj(e,t)}}function uj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function Vz(e){if(Array.isArray(e))return e}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){Yz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yz(e,t,r){return t=Xz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xz(e){var t=Jz(e,"string");return es(t)=="symbol"?t:t+""}function Jz(e,t){if(es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hj=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,g=4;p<g;p++)f[p]=i[p]>o?o:i[p];u="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*f[1])),u+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*f[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);u="M ".concat(t,",").concat(r+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t+l*b,",").concat(r,`
            L `).concat(t+n-l*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*b,`
            L `).concat(t+n,",").concat(r+a-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t+n-l*b,",").concat(r+a,`
            L `).concat(t+l*b,",").concat(r+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*b," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},Qz=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(i,i+s),u=Math.max(i,i+s),f=Math.min(o,o+l),p=Math.max(o,o+l);return n>=c&&n<=u&&a>=f&&a<=p}return!1},Zz={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tv=function(t){var r=dj(dj({},Zz),t),n=N.useRef(),a=N.useState(-1),i=Uz(a,2),o=i[0],s=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&s(E)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,p=r.radius,g=r.className,b=r.animationEasing,v=r.animationDuration,y=r.animationBegin,w=r.isAnimationActive,k=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var A=Ue("recharts-rectangle",g);return k?q.createElement(on,{canBegin:o>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:v,animationEasing:b,isActive:k},function(E){var j=E.width,O=E.height,P=E.x,T=E.y;return q.createElement(on,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:w,easing:b},q.createElement("path",yc({},We(r,!0),{className:A,d:hj(P,T,j,O,p),ref:n})))}):q.createElement("path",yc({},We(r,!0),{className:A,d:hj(l,c,u,f,p)}))};function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(this,arguments)}var rv=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Ue("recharts-dot",i);return r===+r&&n===+n&&a===+a?q.createElement("circle",jy({},We(t,!1),Bl(t),{className:o,cx:r,cy:n,r:a})):null};function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}var e5=["x","y","top","left","width","height","className"];function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(this,arguments)}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){r5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r5(e,t,r){return t=n5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n5(e){var t=a5(e,"string");return ts(t)=="symbol"?t:t+""}function a5(e,t){if(ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i5(e,t){if(e==null)return{};var r=o5(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var s5=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},l5=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,p=t.height,g=p===void 0?0:p,b=t.className,v=i5(t,e5),y=t5({x:n,y:i,top:s,left:c,width:f,height:g},v);return!ve(n)||!ve(i)||!ve(f)||!ve(g)||!ve(s)||!ve(c)?null:q.createElement("path",ky({},We(y,!0),{className:Ue("recharts-cross",b),d:s5(n,i,f,g,s,c)}))},Fp,mj;function c5(){if(mj)return Fp;mj=1;var e=PO(),t=e(Object.getPrototypeOf,Object);return Fp=t,Fp}var Wp,yj;function u5(){if(yj)return Wp;yj=1;var e=ln(),t=c5(),r=cn(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,s=i.hasOwnProperty,l=o.call(Object);function c(u){if(!r(u)||e(u)!=n)return!1;var f=t(u);if(f===null)return!0;var p=s.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==l}return Wp=c,Wp}var f5=u5();const d5=Je(f5);var zp,gj;function h5(){if(gj)return zp;gj=1;var e=ln(),t=cn(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return zp=n,zp}var p5=h5();const m5=Je(p5);function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gc.apply(this,arguments)}function y5(e,t){return x5(e)||b5(e,t)||v5(e,t)||g5()}function g5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v5(e,t){if(e){if(typeof e=="string")return vj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vj(e,t)}}function vj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b5(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function x5(e){if(Array.isArray(e))return e}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){w5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w5(e,t,r){return t=S5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S5(e){var t=j5(e,"string");return rs(t)=="symbol"?t:t+""}function j5(e,t){if(rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wj=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},k5={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},A5=function(t){var r=xj(xj({},k5),t),n=N.useRef(),a=N.useState(-1),i=y5(a,2),o=i[0],s=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&s(A)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,p=r.height,g=r.className,b=r.animationEasing,v=r.animationDuration,y=r.animationBegin,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var k=Ue("recharts-trapezoid",g);return w?q.createElement(on,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:p,x:l,y:c},duration:v,animationEasing:b,isActive:w},function(A){var E=A.upperWidth,j=A.lowerWidth,O=A.height,P=A.x,T=A.y;return q.createElement(on,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:b},q.createElement("path",gc({},We(r,!0),{className:k,d:wj(P,T,E,j,O),ref:n})))}):q.createElement("g",null,q.createElement("path",gc({},We(r,!0),{className:k,d:wj(l,c,u,f,p)})))},O5=["option","shapeType","propTransformer","activeClassName","isActive"];function ns(e){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function _5(e,t){if(e==null)return{};var r=P5(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){E5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E5(e,t,r){return t=N5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N5(e){var t=C5(e,"string");return ns(t)=="symbol"?t:t+""}function C5(e,t){if(ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T5(e,t){return vc(vc({},t),e)}function M5(e,t){return e==="symbols"}function jj(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return q.createElement(tv,r);case"trapezoid":return q.createElement(A5,r);case"sector":return q.createElement(tP,r);case"symbols":if(M5(t))return q.createElement(xg,r);break;default:return null}}function D5(e){return N.isValidElement(e)?e.props:e}function I5(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?T5:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,l=_5(e,O5),c;if(N.isValidElement(t))c=N.cloneElement(t,vc(vc({},l),D5(t)));else if(Ie(t))c=t(l);else if(d5(t)&&!m5(t)){var u=a(t,l);c=q.createElement(jj,{shapeType:r,elementProps:u})}else{var f=l;c=q.createElement(jj,{shapeType:r,elementProps:f})}return s?q.createElement(gt,{className:o},c):c}function cu(e,t){return t!=null&&"trapezoids"in e.props}function uu(e,t){return t!=null&&"sectors"in e.props}function as(e,t){return t!=null&&"points"in e.props}function R5(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function $5(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function B5(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function L5(e,t){var r;return cu(e,t)?r=R5:uu(e,t)?r=$5:as(e,t)&&(r=B5),r}function q5(e,t){var r;return cu(e,t)?r="trapezoids":uu(e,t)?r="sectors":as(e,t)&&(r="points"),r}function F5(e,t){if(cu(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(uu(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return as(e,t)?t.payload:{}}function W5(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=q5(r,t),i=F5(r,t),o=n.filter(function(l,c){var u=ou(i,l),f=r.props[a].filter(function(b){var v=L5(r,t);return v(b,t)}),p=r.props[a].indexOf(f[f.length-1]),g=c===p;return u&&g}),s=n.indexOf(o[o.length-1]);return s}var Up,kj;function z5(){if(kj)return Up;kj=1;var e=Math.ceil,t=Math.max;function r(n,a,i,o){for(var s=-1,l=t(e((a-n)/(i||1)),0),c=Array(l);l--;)c[o?l:++s]=n,n+=i;return c}return Up=r,Up}var Kp,Aj;function cP(){if(Aj)return Kp;Aj=1;var e=UO(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-1/0){var i=a<0?-1:1;return i*r}return a===a?a:0}return Kp=n,Kp}var Gp,Oj;function U5(){if(Oj)return Gp;Oj=1;var e=z5(),t=Jc(),r=cP();function n(a){return function(i,o,s){return s&&typeof s!="number"&&t(i,o,s)&&(o=s=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),s=s===void 0?i<o?1:-1:r(s),e(i,o,s,a)}}return Gp=n,Gp}var Hp,_j;function K5(){if(_j)return Hp;_j=1;var e=U5(),t=e();return Hp=t,Hp}var G5=K5();const bc=Je(G5);function is(e){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){uP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uP(e,t,r){return t=H5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H5(e){var t=V5(e,"string");return is(t)=="symbol"?t:t+""}function V5(e,t){if(is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y5=["Webkit","Moz","O","ms"],X5=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Y5.reduce(function(i,o){return Ej(Ej({},i),{},uP({},o+n,r))},{});return a[t]=r,a};function yi(e){"@babel/helpers - typeof";return yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(e)}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xc.apply(this,arguments)}function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){Zt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dP(n.key),n)}}function Q5(e,t,r){return t&&Cj(e.prototype,t),r&&Cj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z5(e,t,r){return t=wc(t),e6(e,fP()?Reflect.construct(t,r||[],wc(e).constructor):t.apply(e,r))}function e6(e,t){if(t&&(yi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t6(e)}function t6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fP=function(){return!!e})()}function wc(e){return wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wc(e)}function r6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ay(e,t)}function Zt(e,t,r){return t=dP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dP(e){var t=n6(e,"string");return yi(t)=="symbol"?t:t+""}function n6(e,t){if(yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a6=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=go().domain(bc(0,l)).range([i,i+o-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},Tj=function(t){return t.changedTouches&&!!t.changedTouches.length},gi=function(e){function t(r){var n;return J5(this,t),n=Z5(this,t,[r]),Zt(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Zt(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Zt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o?.({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),Zt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Zt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Zt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Zt(n,"handleSlideDragStart",function(a){var i=Tj(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return r6(t,e),Q5(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(a,i),p=Math.max(a,i),g=t.getIndexInRange(o,f),b=t.getIndexInRange(o,p);return{startIndex:g-g%l,endIndex:b===u?u:b-b%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,l=nr(i[n],s,n);return Ie(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,p=l.startIndex,g=l.endIndex,b=l.onChange,v=n.pageX-i;v>0?v=Math.min(v,c+u-f-s,c+u-f-o):v<0&&(v=Math.max(v,c-o,c-s));var y=this.getIndex({startX:o+v,endX:s+v});(y.startIndex!==p||y.endIndex!==g)&&b&&b(y),this.setState({startX:o+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=Tj(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[o],u=this.props,f=u.x,p=u.width,g=u.travellerWidth,b=u.onChange,v=u.gap,y=u.data,w={startX:this.state.startX,endX:this.state.endX},k=n.pageX-i;k>0?k=Math.min(k,f+p-g-c):k<0&&(k=Math.max(k,f-c)),w[o]=c+k;var A=this.getIndex(w),E=A.startIndex,j=A.endIndex,O=function(){var T=y.length-1;return o==="startX"&&(s>l?E%v===0:j%v===0)||s<l&&j===T||o==="endX"&&(s>l?j%v===0:E%v===0)||s>l&&j===T};this.setState(Zt(Zt({},o,c+k),"brushMoveStartX",n.pageX),function(){b&&O()&&b(A)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[a],f=s.indexOf(u);if(f!==-1){var p=f+n;if(!(p===-1||p>=s.length)){var g=s[p];a==="startX"&&g>=c||a==="endX"&&g<=l||this.setState(Zt({},a,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return q.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,f=N.Children.only(c);return f?q.cloneElement(f,{x:a,y:i,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,p=l.traveller,g=l.ariaLabel,b=l.data,v=l.startIndex,y=l.endIndex,w=Math.max(n,this.props.x),k=Vp(Vp({},We(this.props,!1)),{},{x:w,y:c,width:u,height:f}),A=g||"Min value: ".concat((i=b[v])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=b[y])===null||o===void 0?void 0:o.name);return q.createElement(gt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),s.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,k))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,p=u.endX,g=5,b={pointerEvents:"none",fill:c};return q.createElement(gt,{className:"recharts-brush-texts"},q.createElement(Xl,xc({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-g,y:o+s/2},b),this.getTextOfTick(a)),q.createElement(Xl,xc({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+g,y:o+s/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,p=this.state,g=p.startX,b=p.endX,v=p.isTextActive,y=p.isSlideMoving,w=p.isTravellerMoving,k=p.isTravellerFocused;if(!a||!a.length||!ve(s)||!ve(l)||!ve(c)||!ve(u)||c<=0||u<=0)return null;var A=Ue("recharts-brush",i),E=q.Children.count(o)===1,j=X5("userSelect","none");return q.createElement(gt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(g,b),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(b,"endX"),(v||y||w||k||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(i+s/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:a,y:i,width:o,height:s,fill:l,stroke:"none"}),q.createElement("line",{x1:a+1,y1:c,x2:a+o-1,y2:c,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:a+1,y1:c+2,x2:a+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return q.isValidElement(n)?i=q.cloneElement(n,a):Ie(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return Vp({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},i&&i.length?a6({data:i,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+o-l]);var p=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>a?s=l:o=l}return a>=n[s]?s:o}}])}(N.PureComponent);Zt(gi,"displayName","Brush");Zt(gi,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Yp,Mj;function i6(){if(Mj)return Yp;Mj=1;var e=_g();function t(r,n){var a;return e(r,function(i,o,s){return a=n(i,o,s),!a}),!!a}return Yp=t,Yp}var Xp,Dj;function o6(){if(Dj)return Xp;Dj=1;var e=wO(),t=Bn(),r=i6(),n=Xt(),a=Jc();function i(o,s,l){var c=n(o)?e:r;return l&&a(o,s,l)&&(s=void 0),c(o,t(s,3))}return Xp=i,Xp}var s6=o6();const l6=Je(s6);var $r=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Jp,Ij;function c6(){if(Ij)return Jp;Ij=1;var e=LO();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Jp=t,Jp}var Qp,Rj;function u6(){if(Rj)return Qp;Rj=1;var e=c6(),t=$O(),r=Bn();function n(a,i){var o={};return i=r(i,3),t(a,function(s,l,c){e(o,l,i(s,l,c))}),o}return Qp=n,Qp}var f6=u6();const d6=Je(f6);var Zp,$j;function h6(){if($j)return Zp;$j=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return Zp=e,Zp}var em,Bj;function p6(){if(Bj)return em;Bj=1;var e=_g();function t(r,n){var a=!0;return e(r,function(i,o,s){return a=!!n(i,o,s),a}),a}return em=t,em}var tm,Lj;function m6(){if(Lj)return tm;Lj=1;var e=h6(),t=p6(),r=Bn(),n=Xt(),a=Jc();function i(o,s,l){var c=n(o)?e:t;return l&&a(o,s,l)&&(s=void 0),c(o,r(s,3))}return tm=i,tm}var y6=m6();const hP=Je(y6);var g6=["x","y"];function os(e){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(this,arguments)}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){v6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v6(e,t,r){return t=b6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b6(e){var t=x6(e,"string");return os(t)=="symbol"?t:t+""}function x6(e,t){if(os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w6(e,t){if(e==null)return{};var r=S6(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function j6(e,t){var r=e.x,n=e.y,a=w6(e,g6),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),p=parseInt(f,10);return co(co(co(co(co({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function Fj(e){return q.createElement(I5,Oy({shapeType:"rectangle",propTransformer:j6,activeClassName:"recharts-active-bar"},e))}var k6=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||ya(),r)}},A6=["value","background"],pP;function vi(e){"@babel/helpers - typeof";return vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vi(e)}function O6(e,t){if(e==null)return{};var r=_6(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(this,arguments)}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){En(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yP(n.key),n)}}function E6(e,t,r){return t&&zj(e.prototype,t),r&&zj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function N6(e,t,r){return t=jc(t),C6(e,mP()?Reflect.construct(t,r||[],jc(e).constructor):t.apply(e,r))}function C6(e,t){if(t&&(vi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T6(e)}function T6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mP=function(){return!!e})()}function jc(e){return jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jc(e)}function M6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_y(e,t)}function _y(e,t){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_y(e,t)}function En(e,t,r){return t=yP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yP(e){var t=D6(e,"string");return vi(t)=="symbol"?t:t+""}function D6(e,t){if(vi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var js=function(e){function t(){var r;P6(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=N6(this,t,[].concat(a)),En(r,"state",{isAnimationFinished:!1}),En(r,"id",ys("recharts-bar-")),En(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),En(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return M6(t,e),E6(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,l=i.activeIndex,c=i.activeBar,u=We(this.props,!1);return n&&n.map(function(f,p){var g=p===l,b=g?c:o,v=bt(bt(bt({},u),f),{},{isActive:g,option:b,index:p,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return q.createElement(gt,Sc({className:"recharts-bar-rectangle"},Ll(a.props,f,p),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(p)}),q.createElement(Fj,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,p=this.state.prevData;return q.createElement(on,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var b=g.t,v=i.map(function(y,w){var k=p&&p[w];if(k){var A=gr(k.x,y.x),E=gr(k.y,y.y),j=gr(k.width,y.width),O=gr(k.height,y.height);return bt(bt({},y),{},{x:A(b),y:E(b),width:j(b),height:O(b)})}if(o==="horizontal"){var P=gr(0,y.height),T=P(b);return bt(bt({},y),{},{y:y.y+y.height-T,height:T})}var M=gr(0,y.width),K=M(b);return bt(bt({},y),{},{width:K})});return q.createElement(gt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!ou(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,l=We(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,p=O6(c,A6);if(!f)return null;var g=bt(bt(bt(bt(bt({},p),{},{fill:"#eee"},f),l),Ll(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return q.createElement(Fj,Sc({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},g))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=cr(u,Ss);if(!f)return null;var p=c==="vertical"?o[0].height/2:o[0].width/2,g=function(y,w){var k=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:k,errorVal:nr(y,w)}},b={clipPath:n?"url(#clipPath-".concat(a,")"):null};return q.createElement(gt,b,f.map(function(v){return q.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,p=n.height,g=n.isAnimationActive,b=n.background,v=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,w=Ue("recharts-bar",o),k=s&&s.allowDataOverflow,A=l&&l.allowDataOverflow,E=k||A,j=Le(v)?this.id:v;return q.createElement(gt,{className:w},k||A?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(j)},q.createElement("rect",{x:k?c:c-f/2,y:A?u:u-p/2,width:k?f:f*2,height:A?p:p*2}))):null,q.createElement(gt,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(j,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,j),(!g||y)&&Mn.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(N.PureComponent);pP=js;En(js,"displayName","Bar");En(js,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ii.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});En(js,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,p=e.offset,g=ZW(n,r);if(!g)return null;var b=t.layout,v=r.type.defaultProps,y=v!==void 0?bt(bt({},v),r.props):r.props,w=y.dataKey,k=y.children,A=y.minPointSize,E=b==="horizontal"?o:i,j=c?E.scale.domain():null,O=s3({numericAxis:E}),P=cr(k,GO),T=f.map(function(M,K){var I,B,z,Q,X,Z;c?I=e3(c[u+K],j):(I=nr(M,w),Array.isArray(I)||(I=[O,I]));var le=k6(A,pP.defaultProps.minPointSize)(I[1],K);if(b==="horizontal"){var ue,re=[o.scale(I[0]),o.scale(I[1])],ae=re[0],fe=re[1];B=O1({axis:i,ticks:s,bandSize:a,offset:g.offset,entry:M,index:K}),z=(ue=fe??ae)!==null&&ue!==void 0?ue:void 0,Q=g.size;var ce=ae-fe;if(X=Number.isNaN(ce)?0:ce,Z={x:B,y:o.y,width:Q,height:o.height},Math.abs(le)>0&&Math.abs(X)<Math.abs(le)){var ge=br(X||le)*(Math.abs(le)-Math.abs(X));z-=ge,X+=ge}}else{var pe=[i.scale(I[0]),i.scale(I[1])],je=pe[0],Re=pe[1];if(B=je,z=O1({axis:o,ticks:l,bandSize:a,offset:g.offset,entry:M,index:K}),Q=Re-je,X=g.size,Z={x:i.x,y:z,width:i.width,height:X},Math.abs(le)>0&&Math.abs(Q)<Math.abs(le)){var Wt=br(Q||le)*(Math.abs(le)-Math.abs(Q));Q+=Wt}}return bt(bt(bt({},M),{},{x:B,y:z,width:Q,height:X,value:c?I:I[1],payload:M,background:Z},P&&P[K]&&P[K].props),{},{tooltipPayload:[Q_(r,M)],tooltipPosition:{x:B+Q/2,y:z+X/2}})});return bt({data:T,layout:b},p)});function ss(e){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}function I6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gP(n.key),n)}}function R6(e,t,r){return t&&Uj(e.prototype,t),r&&Uj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){fu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fu(e,t,r){return t=gP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gP(e){var t=$6(e,"string");return ss(t)=="symbol"?t:t+""}function $6(e,t){if(ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B6=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!er(c,js);return u.reduce(function(g,b){var v=r[b],y=v.orientation,w=v.domain,k=v.padding,A=k===void 0?{}:k,E=v.mirror,j=v.reversed,O="".concat(y).concat(E?"Mirror":""),P,T,M,K,I;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var B=w[1]-w[0],z=1/0,Q=v.categoricalDomain.sort();if(Q.forEach(function(pe,je){je>0&&(z=Math.min((pe||0)-(Q[je-1]||0),z))}),Number.isFinite(z)){var X=z/B,Z=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(P=X*Z/2),v.padding==="no-gap"){var le=pa(t.barCategoryGap,X*Z),ue=X*Z/2;P=ue-le-(ue-le)/Z*le}}}a==="xAxis"?T=[n.left+(A.left||0)+(P||0),n.left+n.width-(A.right||0)-(P||0)]:a==="yAxis"?T=l==="horizontal"?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(P||0),n.top+n.height-(A.bottom||0)-(P||0)]:T=v.range,j&&(T=[T[1],T[0]]);var re=JW(v,i,p),ae=re.scale,fe=re.realScaleType;ae.domain(w).range(T),QW(ae);var ce=o3(ae,mr(mr({},v),{},{realScaleType:fe}));a==="xAxis"?(I=y==="top"&&!E||y==="bottom"&&E,M=n.left,K=f[O]-I*v.height):a==="yAxis"&&(I=y==="left"&&!E||y==="right"&&E,M=f[O]-I*v.width,K=n.top);var ge=mr(mr(mr({},v),ce),{},{realScaleType:fe,x:M,y:K,scale:ae,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return ge.bandSize=uc(ge,ce),!v.hide&&a==="xAxis"?f[O]+=(I?-1:1)*ge.height:v.hide||(f[O]+=(I?-1:1)*ge.width),mr(mr({},g),{},fu({},b,ge))},{})},vP=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},L6=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return vP({x:r,y:n},{x:a,y:i})},bP=function(){function e(t){I6(this,e),this.scale=t}return R6(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();fu(bP,"EPS",1e-4);var nv=function(t){var r=Object.keys(t).reduce(function(n,a){return mr(mr({},n),{},fu({},a,bP.create(t[a])))},{});return mr(mr({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return d6(a,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(a){return hP(a,function(i,o){return r[o].isInRange(i)})}})};function q6(e){return(e%180+180)%180}var F6=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=q6(a),o=i*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},rm,Gj;function W6(){if(Gj)return rm;Gj=1;var e=Bn(),t=gs(),r=Yc();function n(a){return function(i,o,s){var l=Object(i);if(!t(i)){var c=e(o,3);i=r(i),o=function(f){return c(l[f],f,l)}}var u=a(i,o,s);return u>-1?l[c?i[u]:u]:void 0}}return rm=n,rm}var nm,Hj;function z6(){if(Hj)return nm;Hj=1;var e=cP();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return nm=t,nm}var am,Vj;function U6(){if(Vj)return am;Vj=1;var e=TO(),t=Bn(),r=z6(),n=Math.max;function a(i,o,s){var l=i==null?0:i.length;if(!l)return-1;var c=s==null?0:r(s);return c<0&&(c=n(l+c,0)),e(i,t(o,3),c)}return am=a,am}var im,Yj;function K6(){if(Yj)return im;Yj=1;var e=W6(),t=U6(),r=e(t);return im=r,im}var G6=K6();const H6=Je(G6);var V6=VA();const Y6=Je(V6);var X6=Y6(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),av=N.createContext(void 0),iv=N.createContext(void 0),xP=N.createContext(void 0),wP=N.createContext({}),SP=N.createContext(void 0),jP=N.createContext(0),kP=N.createContext(0),Xj=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,u=X6(i);return q.createElement(av.Provider,{value:n},q.createElement(iv.Provider,{value:a},q.createElement(wP.Provider,{value:i},q.createElement(xP.Provider,{value:u},q.createElement(SP.Provider,{value:o},q.createElement(jP.Provider,{value:c},q.createElement(kP.Provider,{value:l},s)))))))},J6=function(){return N.useContext(SP)},AP=function(t){var r=N.useContext(av);r==null&&ya();var n=r[t];return n==null&&ya(),n},Q6=function(){var t=N.useContext(av);return On(t)},Z6=function(){var t=N.useContext(iv),r=H6(t,function(n){return hP(n.domain,Number.isFinite)});return r||On(t)},OP=function(t){var r=N.useContext(iv);r==null&&ya();var n=r[t];return n==null&&ya(),n},eU=function(){var t=N.useContext(xP);return t},tU=function(){return N.useContext(wP)},ov=function(){return N.useContext(kP)},sv=function(){return N.useContext(jP)};function bi(e){"@babel/helpers - typeof";return bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bi(e)}function rU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PP(n.key),n)}}function aU(e,t,r){return t&&nU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iU(e,t,r){return t=kc(t),oU(e,_P()?Reflect.construct(t,r||[],kc(e).constructor):t.apply(e,r))}function oU(e,t){if(t&&(bi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sU(e)}function sU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_P=function(){return!!e})()}function kc(e){return kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kc(e)}function lU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Py(e,t)}function Py(e,t){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Py(e,t)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){lv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lv(e,t,r){return t=PP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PP(e){var t=cU(e,"string");return bi(t)=="symbol"?t:t+""}function cU(e,t){if(bi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uU(e,t){return pU(e)||hU(e,t)||dU(e,t)||fU()}function fU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dU(e,t){if(e){if(typeof e=="string")return Zj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zj(e,t)}}function Zj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function pU(e){if(Array.isArray(e))return e}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}var mU=function(t,r){var n;return q.isValidElement(t)?n=q.cloneElement(t,r):Ie(t)?n=t(r):n=q.createElement("line",Ey({},r,{className:"recharts-reference-line-line"})),n},yU=function(t,r,n,a,i,o,s,l,c){var u=i.x,f=i.y,p=i.width,g=i.height;if(n){var b=c.y,v=t.y.apply(b,{position:o});if($r(c,"discard")&&!t.y.isInRange(v))return null;var y=[{x:u+p,y:v},{x:u,y:v}];return l==="left"?y.reverse():y}if(r){var w=c.x,k=t.x.apply(w,{position:o});if($r(c,"discard")&&!t.x.isInRange(k))return null;var A=[{x:k,y:f+g},{x:k,y:f}];return s==="top"?A.reverse():A}if(a){var E=c.segment,j=E.map(function(O){return t.apply(O,{position:o})});return $r(c,"discard")&&l6(j,function(O){return!t.isInRange(O)})?null:j}return null};function gU(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=J6(),u=AP(a),f=OP(i),p=eU();if(!c||!p)return null;Zr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=nv({x:u.scale,y:f.scale}),b=jt(t),v=jt(r),y=n&&n.length===2,w=yU(g,b,v,y,p,e.position,u.orientation,f.orientation,e);if(!w)return null;var k=uU(w,2),A=k[0],E=A.x,j=A.y,O=k[1],P=O.x,T=O.y,M=$r(e,"hidden")?"url(#".concat(c,")"):void 0,K=Qj(Qj({clipPath:M},We(e,!0)),{},{x1:E,y1:j,x2:P,y2:T});return q.createElement(gt,{className:Ue("recharts-reference-line",s)},mU(o,K),qt.renderCallByParent(e,L6({x1:E,y1:j,x2:P,y2:T})))}var cv=function(e){function t(){return rU(this,t),iU(this,t,arguments)}return lU(t,e),aU(t,[{key:"render",value:function(){return q.createElement(gU,this.props)}}])}(q.Component);lv(cv,"displayName","ReferenceLine");lv(cv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function xi(e){"@babel/helpers - typeof";return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(e)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){du(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NP(n.key),n)}}function xU(e,t,r){return t&&bU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wU(e,t,r){return t=Ac(t),SU(e,EP()?Reflect.construct(t,r||[],Ac(e).constructor):t.apply(e,r))}function SU(e,t){if(t&&(xi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jU(e)}function jU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EP=function(){return!!e})()}function Ac(e){return Ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ac(e)}function kU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cy(e,t)}function du(e,t,r){return t=NP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NP(e){var t=AU(e,"string");return xi(t)=="symbol"?t:t+""}function AU(e,t){if(xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var OU=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=nv({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return $r(t,"discard")&&!o.isInRange(s)?null:s},hu=function(e){function t(){return vU(this,t),wU(this,t,arguments)}return kU(t,e),xU(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=jt(a),u=jt(i);if(Zr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=OU(this.props);if(!f)return null;var p=f.x,g=f.y,b=this.props,v=b.shape,y=b.className,w=$r(this.props,"hidden")?"url(#".concat(l,")"):void 0,k=tk(tk({clipPath:w},We(this.props,!0)),{},{cx:p,cy:g});return q.createElement(gt,{className:Ue("recharts-reference-dot",y)},t.renderDot(v,k),qt.renderCallByParent(this.props,{x:p-o,y:g-o,width:2*o,height:2*o}))}}])}(q.Component);du(hu,"displayName","ReferenceDot");du(hu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});du(hu,"renderDot",function(e,t){var r;return q.isValidElement(e)?r=q.cloneElement(e,t):Ie(e)?r=e(t):r=q.createElement(rv,Ny({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(this,arguments)}function wi(e){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(e)}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){pu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TP(n.key),n)}}function EU(e,t,r){return t&&PU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NU(e,t,r){return t=Oc(t),CU(e,CP()?Reflect.construct(t,r||[],Oc(e).constructor):t.apply(e,r))}function CU(e,t){if(t&&(wi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TU(e)}function TU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CP=function(){return!!e})()}function Oc(e){return Oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oc(e)}function MU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&My(e,t)}function My(e,t){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},My(e,t)}function pu(e,t,r){return t=TP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TP(e){var t=DU(e,"string");return wi(t)=="symbol"?t:t+""}function DU(e,t){if(wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IU=function(t,r,n,a,i){var o=i.x1,s=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var p=nv({x:u.scale,y:f.scale}),g={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},b={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(c,{position:"end"}):p.y.rangeMax};return $r(i,"discard")&&(!p.isInRange(g)||!p.isInRange(b))?null:vP(g,b)},mu=function(e){function t(){return _U(this,t),NU(this,t,arguments)}return MU(t,e),EU(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Zr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=jt(a),p=jt(i),g=jt(o),b=jt(s),v=this.props.shape;if(!f&&!p&&!g&&!b&&!v)return null;var y=IU(f,p,g,b,this.props);if(!y&&!v)return null;var w=$r(this.props,"hidden")?"url(#".concat(u,")"):void 0;return q.createElement(gt,{className:Ue("recharts-reference-area",l)},t.renderRect(v,nk(nk({clipPath:w},We(this.props,!0)),y)),qt.renderCallByParent(this.props,y))}}])}(q.Component);pu(mu,"displayName","ReferenceArea");pu(mu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});pu(mu,"renderRect",function(e,t){var r;return q.isValidElement(e)?r=q.cloneElement(e,t):Ie(e)?r=e(t):r=q.createElement(tv,Ty({},t,{className:"recharts-reference-area-rect"})),r});function MP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function RU(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return F6(n,r)}function $U(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function _c(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function BU(e,t){return MP(e,t+1)}function LU(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,l=0,c=1,u=o,f=function(){var b=n?.[l];if(b===void 0)return{v:MP(n,c)};var v=l,y,w=function(){return y===void 0&&(y=r(b,v)),y},k=b.coordinate,A=l===0||_c(e,k,w,u,s);A||(l=0,u=o,c+=1),A&&(u=k+e*(w()/2+a),l+=c)},p;c<=i.length;)if(p=f(),p)return p.v;return[]}function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(n){qU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qU(e,t,r){return t=FU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FU(e){var t=WU(e,"string");return ls(t)=="symbol"?t:t+""}function WU(e,t){if(ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zU(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(p){var g=i[p],b,v=function(){return b===void 0&&(b=r(g,p)),b};if(p===o-1){var y=e*(g.coordinate+e*v()/2-l);i[p]=g=Lt(Lt({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else i[p]=g=Lt(Lt({},g),{},{tickCoord:g.coordinate});var w=_c(e,g.tickCoord,v,s,l);w&&(l=g.tickCoord-e*(v()/2+a),i[p]=Lt(Lt({},g),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}function UU(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var u=n[s-1],f=r(u,s-1),p=e*(u.coordinate+e*f/2-c);o[s-1]=u=Lt(Lt({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var g=_c(e,u.tickCoord,function(){return f},l,c);g&&(c=u.tickCoord-e*(f/2+a),o[s-1]=Lt(Lt({},u),{},{isShow:!0}))}for(var b=i?s-1:s,v=function(k){var A=o[k],E,j=function(){return E===void 0&&(E=r(A,k)),E};if(k===0){var O=e*(A.coordinate-e*j()/2-l);o[k]=A=Lt(Lt({},A),{},{tickCoord:O<0?A.coordinate-O*e:A.coordinate})}else o[k]=A=Lt(Lt({},A),{},{tickCoord:A.coordinate});var P=_c(e,A.tickCoord,j,l,c);P&&(l=A.tickCoord+e*(j()/2+a),o[k]=Lt(Lt({},A),{},{isShow:!0}))},y=0;y<b;y++)v(y);return o}function uv(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ve(l)||Ii.isSsr)return BU(a,typeof l=="number"&&ve(l)?l:0);var p=[],g=s==="top"||s==="bottom"?"width":"height",b=u&&g==="width"?yo(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(A,E){var j=Ie(c)?c(A.value,E):A.value;return g==="width"?RU(yo(j,{fontSize:t,letterSpacing:r}),b,f):yo(j,{fontSize:t,letterSpacing:r})[g]},y=a.length>=2?br(a[1].coordinate-a[0].coordinate):1,w=$U(i,y,g);return l==="equidistantPreserveStart"?LU(y,w,v,a,o):(l==="preserveStart"||l==="preserveStartEnd"?p=UU(y,w,v,a,o,l==="preserveStartEnd"):p=zU(y,w,v,a,o),p.filter(function(k){return k.isShow}))}var KU=["viewBox"],GU=["viewBox"],HU=["ticks"];function Si(e){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(e)}function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Va.apply(this,arguments)}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){fv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function om(e,t){if(e==null)return{};var r=VU(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ok(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IP(n.key),n)}}function XU(e,t,r){return t&&ok(e.prototype,t),r&&ok(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JU(e,t,r){return t=Pc(t),QU(e,DP()?Reflect.construct(t,r||[],Pc(e).constructor):t.apply(e,r))}function QU(e,t){if(t&&(Si(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZU(e)}function ZU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DP=function(){return!!e})()}function Pc(e){return Pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pc(e)}function eK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dy(e,t)}function Dy(e,t){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dy(e,t)}function fv(e,t,r){return t=IP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IP(e){var t=tK(e,"string");return Si(t)=="symbol"?t:t+""}function tK(e,t){if(Si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Si(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Li=function(e){function t(r){var n;return YU(this,t),n=JU(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return eK(t,e),XU(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=om(n,KU),s=this.props,l=s.viewBox,c=om(s,GU);return!Za(i,l)||!Za(o,c)||!Za(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,p=a.tickMargin,g,b,v,y,w,k,A=f?-1:1,E=n.tickSize||u,j=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":g=b=n.coordinate,y=o+ +!f*l,v=y-A*E,k=v-A*p,w=j;break;case"left":v=y=n.coordinate,b=i+ +!f*s,g=b-A*E,w=g-A*p,k=j;break;case"right":v=y=n.coordinate,b=i+ +f*s,g=b+A*E,w=g+A*p,k=j;break;default:g=b=n.coordinate,y=o+ +f*l,v=y+A*E,k=v+A*p,w=j;break}return{line:{x1:g,y1:v,x2:b,y2:y},tick:{x:w,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Ut(Ut(Ut({},We(this.props,!1)),We(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=Ut(Ut({},f),{},{x1:a,y1:i+p*s,x2:a+o,y2:i+p*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);f=Ut(Ut({},f),{},{x1:a+g*o,y1:i,x2:a+g*o,y2:i+s})}return q.createElement("line",Va({},f,{className:Ue("recharts-cartesian-axis-line",lr(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,p=s.unit,g=uv(Ut(Ut({},this.props),{},{ticks:n}),a,i),b=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=We(this.props,!1),w=We(u,!1),k=Ut(Ut({},y),{},{fill:"none"},We(l,!1)),A=g.map(function(E,j){var O=o.getTickLineCoord(E),P=O.line,T=O.tick,M=Ut(Ut(Ut(Ut({textAnchor:b,verticalAnchor:v},y),{},{stroke:"none",fill:c},w),T),{},{index:j,payload:E,visibleTicksCount:g.length,tickFormatter:f});return q.createElement(gt,Va({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Ll(o.props,E,j)),l&&q.createElement("line",Va({},k,P,{className:Ue("recharts-cartesian-axis-tick-line",lr(l,"className"))})),u&&t.renderTickItem(u,M,"".concat(Ie(f)?f(E.value,j):E.value).concat(p||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,p=f.ticks,g=om(f,HU),b=p;return Ie(l)&&(b=p&&p.length>0?l(this.props):l(g)),o<=0||s<=0||!b||!b.length?null:q.createElement(gt,{className:Ue("recharts-cartesian-axis",c),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),qt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return q.isValidElement(n)?o=q.cloneElement(n,a):Ie(n)?o=n(a):o=q.createElement(Xl,Va({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(N.Component);fv(Li,"displayName","CartesianAxis");fv(Li,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var rK=["x1","y1","x2","y2","key"],nK=["offset"];function ga(e){"@babel/helpers - typeof";return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(e)}function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(n){aK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aK(e,t,r){return t=iK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iK(e){var t=oK(e,"string");return ga(t)=="symbol"?t:t+""}function oK(e,t){if(ga(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ga(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oa.apply(this,arguments)}function lk(e,t){if(e==null)return{};var r=sK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lK=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,l=t.ry;return q.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function RP(e,t){var r;if(q.isValidElement(e))r=q.cloneElement(e,t);else if(Ie(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=lk(t,rK),c=We(l,!1);c.offset;var u=lk(c,nK);r=q.createElement("line",oa({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function cK(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var c=Ft(Ft({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return RP(a,c)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function uK(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var c=Ft(Ft({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return RP(a,c)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function fK(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(p){return Math.round(p+a-a)}).sort(function(p,g){return p-g});a!==u[0]&&u.unshift(0);var f=u.map(function(p,g){var b=!u[g+1],v=b?a+o-p:u[g+1]-p;if(v<=0)return null;var y=g%t.length;return q.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:v,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function dK(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(p){return Math.round(p+i-i)}).sort(function(p,g){return p-g});i!==u[0]&&u.unshift(0);var f=u.map(function(p,g){var b=!u[g+1],v=b?i+s-p:u[g+1]-p;if(v<=0)return null;var y=g%n.length;return q.createElement("rect",{key:"react-".concat(g),x:p,y:o,width:v,height:l,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var hK=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return X_(uv(Ft(Ft(Ft({},Li.defaultProps),n),{},{ticks:Jr(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},pK=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return X_(uv(Ft(Ft(Ft({},Li.defaultProps),n),{},{ticks:Jr(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},za={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ta(e){var t,r,n,a,i,o,s=ov(),l=sv(),c=tU(),u=Ft(Ft({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:za.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:za.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:za.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:za.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:za.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:za.verticalFill,x:ve(e.x)?e.x:c.left,y:ve(e.y)?e.y:c.top,width:ve(e.width)?e.width:c.width,height:ve(e.height)?e.height:c.height}),f=u.x,p=u.y,g=u.width,b=u.height,v=u.syncWithTicks,y=u.horizontalValues,w=u.verticalValues,k=Q6(),A=Z6();if(!ve(g)||g<=0||!ve(b)||b<=0||!ve(f)||f!==+f||!ve(p)||p!==+p)return null;var E=u.verticalCoordinatesGenerator||hK,j=u.horizontalCoordinatesGenerator||pK,O=u.horizontalPoints,P=u.verticalPoints;if((!O||!O.length)&&Ie(j)){var T=y&&y.length,M=j({yAxis:A?Ft(Ft({},A),{},{ticks:T?y:A.ticks}):void 0,width:s,height:l,offset:c},T?!0:v);Zr(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ga(M),"]")),Array.isArray(M)&&(O=M)}if((!P||!P.length)&&Ie(E)){var K=w&&w.length,I=E({xAxis:k?Ft(Ft({},k),{},{ticks:K?w:k.ticks}):void 0,width:s,height:l,offset:c},K?!0:v);Zr(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ga(I),"]")),Array.isArray(I)&&(P=I)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(lK,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),q.createElement(cK,oa({},u,{offset:c,horizontalPoints:O,xAxis:k,yAxis:A})),q.createElement(uK,oa({},u,{offset:c,verticalPoints:P,xAxis:k,yAxis:A})),q.createElement(fK,oa({},u,{horizontalPoints:O})),q.createElement(dK,oa({},u,{verticalPoints:P})))}ta.displayName="CartesianGrid";var mK=["type","layout","connectNulls","ref"],yK=["key"];function ji(e){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(e)}function ck(e,t){if(e==null)return{};var r=gK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xo.apply(this,arguments)}function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(n){yr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ua(e){return wK(e)||xK(e)||bK(e)||vK()}function vK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bK(e,t){if(e){if(typeof e=="string")return Iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iy(e,t)}}function xK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wK(e){if(Array.isArray(e))return Iy(e)}function Iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BP(n.key),n)}}function jK(e,t,r){return t&&fk(e.prototype,t),r&&fk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kK(e,t,r){return t=Ec(t),AK(e,$P()?Reflect.construct(t,r||[],Ec(e).constructor):t.apply(e,r))}function AK(e,t){if(t&&(ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OK(e)}function OK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($P=function(){return!!e})()}function Ec(e){return Ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ec(e)}function _K(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}function Ry(e,t){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ry(e,t)}function yr(e,t,r){return t=BP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BP(e){var t=PK(e,"string");return ji(t)=="symbol"?t:t+""}function PK(e,t){if(ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cr=function(e){function t(){var r;SK(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=kK(this,t,[].concat(a)),yr(r,"state",{isAnimationFinished:!0,totalLength:0}),yr(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),yr(r,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(w,k){return w+k});if(!c)return r.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/c),f=o%c,p=s-o,g=[],b=0,v=0;b<l.length;v+=l[b],++b)if(v+l[b]>f){g=[].concat(Ua(l.slice(0,b)),[f-v]);break}var y=g.length%2===0?[0,p]:[p];return[].concat(Ua(t.repeat(l,u)),Ua(g),y).map(function(w){return"".concat(w,"px")}).join(", ")}),yr(r,"id",ys("recharts-line-")),yr(r,"pathRef",function(o){r.mainCurve=o}),yr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),yr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return _K(t,e),jK(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,s=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=cr(u,Ss);if(!f)return null;var p=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:nr(v.payload,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return q.createElement(gt,g,f.map(function(b){return q.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,f=We(this.props,!1),p=We(l,!0),g=c.map(function(v,y){var w=Qt(Qt(Qt({key:"dot-".concat(y),r:3},f),p),{},{index:y,cx:v.x,cy:v.y,value:v.value,dataKey:u,payload:v.payload,points:c});return t.renderDotItem(l,w)}),b={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return q.createElement(gt,xo({className:"recharts-line-dots",key:"dots"},b),g)}},{key:"renderCurveStatically",value:function(n,a,i,o){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var f=ck(s,mK),p=Qt(Qt(Qt({},We(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:l,layout:c,connectNulls:u});return q.createElement(hy,xo({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,p=o.animationEasing,g=o.animationId,b=o.animateNewValues,v=o.width,y=o.height,w=this.state,k=w.prevPoints,A=w.totalLength;return q.createElement(on,{begin:u,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var j=E.t;if(k){var O=k.length/s.length,P=s.map(function(B,z){var Q=Math.floor(z*O);if(k[Q]){var X=k[Q],Z=gr(X.x,B.x),le=gr(X.y,B.y);return Qt(Qt({},B),{},{x:Z(j),y:le(j)})}if(b){var ue=gr(v*2,B.x),re=gr(y/2,B.y);return Qt(Qt({},B),{},{x:ue(j),y:re(j)})}return Qt(Qt({},B),{},{x:B.x,y:B.y})});return i.renderCurveStatically(P,n,a)}var T=gr(0,A),M=T(j),K;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});K=i.getStrokeDasharray(M,A,I)}else K=i.generateSimpleStrokeDasharray(A,M);return i.renderCurveStatically(s,n,a,{strokeDasharray:K})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,s=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&o&&o.length&&(!c&&u>0||!ou(c,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,p=a.left,g=a.width,b=a.height,v=a.isAnimationActive,y=a.id;if(i||!s||!s.length)return null;var w=this.state.isAnimationFinished,k=s.length===1,A=Ue("recharts-line",l),E=c&&c.allowDataOverflow,j=u&&u.allowDataOverflow,O=E||j,P=Le(y)?this.id:y,T=(n=We(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=T.r,K=M===void 0?3:M,I=T.strokeWidth,B=I===void 0?2:I,z=GI(o)?o:{},Q=z.clipDot,X=Q===void 0?!0:Q,Z=K*2+B;return q.createElement(gt,{className:A},E||j?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(P)},q.createElement("rect",{x:E?p:p-g/2,y:j?f:f-b/2,width:E?g:g*2,height:j?b:b*2})),!X&&q.createElement("clipPath",{id:"clipPath-dots-".concat(P)},q.createElement("rect",{x:p-Z/2,y:f-Z/2,width:g+Z,height:b+Z}))):null,!k&&this.renderCurve(O,P),this.renderErrorBar(O,P),(k||o)&&this.renderDots(O,X,P),(!v||w)&&Mn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Ua(n),[0]):n,o=[],s=0;s<a;++s)o=[].concat(Ua(o),Ua(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(q.isValidElement(n))i=q.cloneElement(n,a);else if(Ie(n))i=n(a);else{var o=a.key,s=ck(a,yK),l=Ue("recharts-line-dot",typeof n!="boolean"?n.className:"");i=q.createElement(rv,xo({key:o},s,{className:l}))}return i}}])}(N.PureComponent);yr(Cr,"displayName","Line");yr(Cr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ii.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});yr(Cr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(p,g){var b=nr(p,o);return u==="horizontal"?{x:A1({axis:r,ticks:a,bandSize:s,entry:p,index:g}),y:Le(b)?null:n.scale(b),value:b,payload:p}:{x:Le(b)?null:r.scale(b),y:A1({axis:n,ticks:i,bandSize:s,entry:p,index:g}),value:b,payload:p}});return Qt({points:f,layout:u},c)});function ki(e){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(e)}function EK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FP(n.key),n)}}function CK(e,t,r){return t&&NK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TK(e,t,r){return t=Nc(t),MK(e,LP()?Reflect.construct(t,r||[],Nc(e).constructor):t.apply(e,r))}function MK(e,t){if(t&&(ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DK(e)}function DK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!e})()}function Nc(e){return Nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nc(e)}function IK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$y(e,t)}function qP(e,t,r){return t=FP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FP(e){var t=RK(e,"string");return ki(t)=="symbol"?t:t+""}function RK(e,t){if(ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}function $K(e){var t=e.xAxisId,r=ov(),n=sv(),a=AP(t);return a==null?null:q.createElement(Li,By({},a,{className:Ue("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Jr(o,!0)}}))}var Gr=function(e){function t(){return EK(this,t),TK(this,t,arguments)}return IK(t,e),CK(t,[{key:"render",value:function(){return q.createElement($K,this.props)}}])}(q.Component);qP(Gr,"displayName","XAxis");qP(Gr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ai(e){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ai(e)}function BK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UP(n.key),n)}}function qK(e,t,r){return t&&LK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FK(e,t,r){return t=Cc(t),WK(e,WP()?Reflect.construct(t,r||[],Cc(e).constructor):t.apply(e,r))}function WK(e,t){if(t&&(Ai(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zK(e)}function zK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WP=function(){return!!e})()}function Cc(e){return Cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cc(e)}function UK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ly(e,t)}function Ly(e,t){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ly(e,t)}function zP(e,t,r){return t=UP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UP(e){var t=KK(e,"string");return Ai(t)=="symbol"?t:t+""}function KK(e,t){if(Ai(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ai(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(this,arguments)}var GK=function(t){var r=t.yAxisId,n=ov(),a=sv(),i=OP(r);return i==null?null:q.createElement(Li,qy({},i,{className:Ue("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Jr(s,!0)}}))},Hr=function(e){function t(){return BK(this,t),FK(this,t,arguments)}return UK(t,e),qK(t,[{key:"render",value:function(){return q.createElement(GK,this.props)}}])}(q.Component);zP(Hr,"displayName","YAxis");zP(Hr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dk(e){return XK(e)||YK(e)||VK(e)||HK()}function HK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VK(e,t){if(e){if(typeof e=="string")return Fy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fy(e,t)}}function YK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XK(e){if(Array.isArray(e))return Fy(e)}function Fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wy=function(t,r,n,a,i){var o=cr(t,cv),s=cr(t,hu),l=[].concat(dk(o),dk(s)),c=cr(t,mu),u="".concat(a,"Id"),f=a[0],p=r;if(l.length&&(p=l.reduce(function(v,y){if(y.props[u]===n&&$r(y.props,"extendDomain")&&ve(y.props[f])){var w=y.props[f];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},p)),c.length){var g="".concat(f,"1"),b="".concat(f,"2");p=c.reduce(function(v,y){if(y.props[u]===n&&$r(y.props,"extendDomain")&&ve(y.props[g])&&ve(y.props[b])){var w=y.props[g],k=y.props[b];return[Math.min(v[0],w,k),Math.max(v[1],w,k)]}return v},p)}return i&&i.length&&(p=i.reduce(function(v,y){return ve(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},p)),p},sm={exports:{}},hk;function JK(){return hk||(hk=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new a(u,f||l,p),b=r?r+c:c;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],g]:l._events[b].push(g):(l._events[b]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,b=new Array(g);p<g;p++)b[p]=f[p].fn;return b},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,p,g,b){var v=r?r+c:c;if(!this._events[v])return!1;var y=this._events[v],w=arguments.length,k,A;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,p),!0;case 5:return y.fn.call(y.context,u,f,p,g),!0;case 6:return y.fn.call(y.context,u,f,p,g,b),!0}for(A=1,k=new Array(w-1);A<w;A++)k[A-1]=arguments[A];y.fn.apply(y.context,k)}else{var E=y.length,j;for(A=0;A<E;A++)switch(y[A].once&&this.removeListener(c,y[A].fn,void 0,!0),w){case 1:y[A].fn.call(y[A].context);break;case 2:y[A].fn.call(y[A].context,u);break;case 3:y[A].fn.call(y[A].context,u,f);break;case 4:y[A].fn.call(y[A].context,u,f,p);break;default:if(!k)for(j=1,k=new Array(w-1);j<w;j++)k[j-1]=arguments[j];y[A].fn.apply(y[A].context,k)}}return!0},s.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,p){var g=r?r+c:c;if(!this._events[g])return this;if(!u)return o(this,g),this;var b=this._events[g];if(b.fn)b.fn===u&&(!p||b.once)&&(!f||b.context===f)&&o(this,g);else{for(var v=0,y=[],w=b.length;v<w;v++)(b[v].fn!==u||p&&!b[v].once||f&&b[v].context!==f)&&y.push(b[v]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(sm)),sm.exports}var QK=JK();const ZK=Je(QK);var lm=new ZK,cm="recharts.syncMouseEvents";function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function e8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KP(n.key),n)}}function r8(e,t,r){return t&&t8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function um(e,t,r){return t=KP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KP(e){var t=n8(e,"string");return cs(t)=="symbol"?t:t+""}function n8(e,t){if(cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a8=function(){function e(){e8(this,e),um(this,"activeIndex",0),um(this,"coordinateList",[]),um(this,"layout","horizontal")}return r8(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,p=r.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,p=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function i8(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&ve(n)&&ve(a))return!0}return!1}function o8(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function GP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Dt(t,r,n,a),s=Dt(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function s8(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,p=Dt(s,l,c,f),g=Dt(s,l,u,f);n=p.x,a=p.y,i=g.x,o=g.y}else return GP(t);return[{x:n,y:a},{x:i,y:o}]}function us(e){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){l8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8(e,t,r){return t=c8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c8(e){var t=u8(e,"string");return us(t)=="symbol"?t:t+""}function u8(e,t){if(us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f8(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var b,v=hy;if(p==="ScatterChart")b=o,v=l5;else if(p==="BarChart")b=o8(f,o,l,u),v=tv;else if(f==="radial"){var y=GP(o),w=y.cx,k=y.cy,A=y.radius,E=y.startAngle,j=y.endAngle;b={cx:w,cy:k,startAngle:E,endAngle:j,innerRadius:A,outerRadius:A},v=tP}else b={points:s8(f,o,l)},v=hy;var O=vl(vl(vl(vl({stroke:"#ccc",pointerEvents:"none"},l),b),We(g,!1)),{},{payload:s,payloadIndex:c,className:Ue("recharts-tooltip-cursor",g.className)});return N.isValidElement(g)?N.cloneElement(g,O):N.createElement(v,O)}var d8=["item"],h8=["children","className","width","height","style","compact","title","desc"];function Oi(e){"@babel/helpers - typeof";return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(e)}function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ya.apply(this,arguments)}function mk(e,t){return y8(e)||m8(e,t)||VP(e,t)||p8()}function p8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function y8(e){if(Array.isArray(e))return e}function yk(e,t){if(e==null)return{};var r=g8(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YP(n.key),n)}}function x8(e,t,r){return t&&b8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w8(e,t,r){return t=Tc(t),S8(e,HP()?Reflect.construct(t,r||[],Tc(e).constructor):t.apply(e,r))}function S8(e,t){if(t&&(Oi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j8(e)}function j8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HP=function(){return!!e})()}function Tc(e){return Tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tc(e)}function k8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zy(e,t)}function zy(e,t){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zy(e,t)}function _i(e){return _8(e)||O8(e)||VP(e)||A8()}function A8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VP(e,t){if(e){if(typeof e=="string")return Uy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uy(e,t)}}function O8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _8(e){if(Array.isArray(e))return Uy(e)}function Uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(n){Pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pe(e,t,r){return t=YP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YP(e){var t=P8(e,"string");return Oi(t)=="symbol"?t:t+""}function P8(e,t){if(Oi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E8={xAxis:["bottom","top"],yAxis:["left","right"]},N8={width:"100%",height:"100%"},XP={x:0,y:0};function bl(e){return e}var C8=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},T8=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return se(se(se({},a),Dt(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,c=a.angle;return se(se(se({},a),Dt(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return XP},yu=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(_i(s),_i(c)):s},[]);return o.length>0?o:t&&t.length&&ve(a)&&ve(i)?t.slice(a,i+1):[]};function JP(e){return e==="number"?[0,"auto"]:void 0}var Ky=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=yu(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?s:f;p=$l(g,o.dataKey,a)}else p=f&&f[n]||s[n];return p?[].concat(_i(l),[Q_(c,p)]):l},[])},vk=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=C8(i,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=KW(o,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,p=Ky(t,r,u,f),g=T8(n,s,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:g}}return null},M8=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,p=t.stackOffset,g=Y_(u,i);return n.reduce(function(b,v){var y,w=v.type.defaultProps!==void 0?se(se({},v.type.defaultProps),v.props):v.props,k=w.type,A=w.dataKey,E=w.allowDataOverflow,j=w.allowDuplicatedCategory,O=w.scale,P=w.ticks,T=w.includeHidden,M=w[o];if(b[M])return b;var K=yu(t.data,{graphicalItems:a.filter(function(ce){var ge,pe=o in ce.props?ce.props[o]:(ge=ce.type.defaultProps)===null||ge===void 0?void 0:ge[o];return pe===M}),dataStartIndex:l,dataEndIndex:c}),I=K.length,B,z,Q;i8(w.domain,E,k)&&(B=ly(w.domain,null,E),g&&(k==="number"||O!=="auto")&&(Q=vo(K,A,"category")));var X=JP(k);if(!B||B.length===0){var Z,le=(Z=w.domain)!==null&&Z!==void 0?Z:X;if(A){if(B=vo(K,A,k),k==="category"&&g){var ue=$I(B);j&&ue?(z=B,B=bc(0,I)):j||(B=E1(le,B,v).reduce(function(ce,ge){return ce.indexOf(ge)>=0?ce:[].concat(_i(ce),[ge])},[]))}else if(k==="category")j?B=B.filter(function(ce){return ce!==""&&!Le(ce)}):B=E1(le,B,v).reduce(function(ce,ge){return ce.indexOf(ge)>=0||ge===""||Le(ge)?ce:[].concat(_i(ce),[ge])},[]);else if(k==="number"){var re=XW(K,a.filter(function(ce){var ge,pe,je=o in ce.props?ce.props[o]:(ge=ce.type.defaultProps)===null||ge===void 0?void 0:ge[o],Re="hide"in ce.props?ce.props.hide:(pe=ce.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return je===M&&(T||!Re)}),A,i,u);re&&(B=re)}g&&(k==="number"||O!=="auto")&&(Q=vo(K,A,"category"))}else g?B=bc(0,I):s&&s[M]&&s[M].hasStack&&k==="number"?B=p==="expand"?[0,1]:J_(s[M].stackGroups,l,c):B=V_(K,a.filter(function(ce){var ge=o in ce.props?ce.props[o]:ce.type.defaultProps[o],pe="hide"in ce.props?ce.props.hide:ce.type.defaultProps.hide;return ge===M&&(T||!pe)}),k,u,!0);if(k==="number")B=Wy(f,B,M,i,P),le&&(B=ly(le,B,E));else if(k==="category"&&le){var ae=le,fe=B.every(function(ce){return ae.indexOf(ce)>=0});fe&&(B=ae)}}return se(se({},b),{},Pe({},M,se(se({},w),{},{axisType:i,domain:B,categoricalDomain:Q,duplicateDomain:z,originalDomain:(y=w.domain)!==null&&y!==void 0?y:X,isCategorical:g,layout:u})))},{})},D8=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,p=yu(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),g=p.length,b=Y_(u,i),v=-1;return n.reduce(function(y,w){var k=w.type.defaultProps!==void 0?se(se({},w.type.defaultProps),w.props):w.props,A=k[o],E=JP("number");if(!y[A]){v++;var j;return b?j=bc(0,g):s&&s[A]&&s[A].hasStack?(j=J_(s[A].stackGroups,l,c),j=Wy(f,j,A,i)):(j=ly(E,V_(p,n.filter(function(O){var P,T,M=o in O.props?O.props[o]:(P=O.type.defaultProps)===null||P===void 0?void 0:P[o],K="hide"in O.props?O.props.hide:(T=O.type.defaultProps)===null||T===void 0?void 0:T.hide;return M===A&&!K}),"number",u),a.defaultProps.allowDataOverflow),j=Wy(f,j,A,i)),se(se({},y),{},Pe({},A,se(se({axisType:i},a.defaultProps),{},{hide:!0,orientation:lr(E8,"".concat(i,".").concat(v%2),null),domain:j,originalDomain:E,isCategorical:b,layout:u})))}return y},{})},I8=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),p=cr(u,i),g={};return p&&p.length?g=M8(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(g=D8(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),g},R8=function(t){var r=On(t),n=Jr(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Pg(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:uc(r,n)}},bk=function(t){var r=t.children,n=t.defaultShowTooltip,a=er(r,gi),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},$8=function(t){return!t||!t.length?!1:t.some(function(r){var n=Qr(r&&r.type);return n&&n.indexOf("Bar")>=0})},xk=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},B8=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,f=n.children,p=n.margin||{},g=er(f,gi),b=er(f,ei),v=Object.keys(l).reduce(function(j,O){var P=l[O],T=P.orientation;return!P.mirror&&!P.hide?se(se({},j),{},Pe({},T,j[T]+P.width)):j},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(j,O){var P=o[O],T=P.orientation;return!P.mirror&&!P.hide?se(se({},j),{},Pe({},T,lr(j,"".concat(T))+P.height)):j},{top:p.top||0,bottom:p.bottom||0}),w=se(se({},y),v),k=w.bottom;g&&(w.bottom+=g.props.height||gi.defaultProps.height),b&&r&&(w=VW(w,a,n,r));var A=c-w.left-w.right,E=u-w.top-w.bottom;return se(se({brushBottom:k},w),{},{width:Math.max(A,0),height:Math.max(E,0)})},L8=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},q8=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,p=function(w,k){var A=k.graphicalItems,E=k.stackGroups,j=k.offset,O=k.updateId,P=k.dataStartIndex,T=k.dataEndIndex,M=w.barSize,K=w.layout,I=w.barGap,B=w.barCategoryGap,z=w.maxBarSize,Q=xk(K),X=Q.numericAxisName,Z=Q.cateAxisName,le=$8(A),ue=[];return A.forEach(function(re,ae){var fe=yu(w.data,{graphicalItems:[re],dataStartIndex:P,dataEndIndex:T}),ce=re.type.defaultProps!==void 0?se(se({},re.type.defaultProps),re.props):re.props,ge=ce.dataKey,pe=ce.maxBarSize,je=ce["".concat(X,"Id")],Re=ce["".concat(Z,"Id")],Wt={},At=l.reduce(function(Ot,_r){var qr=k["".concat(_r.axisType,"Map")],qi=ce["".concat(_r.axisType,"Id")];qr&&qr[qi]||_r.axisType==="zAxis"||ya();var hn=qr[qi];return se(se({},Ot),{},Pe(Pe({},_r.axisType,hn),"".concat(_r.axisType,"Ticks"),Jr(hn)))},Wt),ie=At[Z],Ne=At["".concat(Z,"Ticks")],Ce=E&&E[je]&&E[je].hasStack&&l3(re,E[je].stackGroups),oe=Qr(re.type).indexOf("Bar")>=0,Ye=uc(ie,Ne),qe=[],Qe=le&&GW({barSize:M,stackGroups:E,totalSize:L8(At,Z)});if(oe){var pt,It,Or=Le(pe)?z:pe,fn=(pt=(It=uc(ie,Ne,!0))!==null&&It!==void 0?It:Or)!==null&&pt!==void 0?pt:0;qe=HW({barGap:I,barCategoryGap:B,bandSize:fn!==Ye?fn:Ye,sizeList:Qe[Re],maxBarSize:Or}),fn!==Ye&&(qe=qe.map(function(Ot){return se(se({},Ot),{},{position:se(se({},Ot.position),{},{offset:Ot.position.offset-fn/2})})}))}var dn=re&&re.type&&re.type.getComposedData;dn&&ue.push({props:se(se({},dn(se(se({},At),{},{displayedData:fe,props:w,dataKey:ge,item:re,bandSize:Ye,barPosition:qe,offset:j,stackedData:Ce,layout:K,dataStartIndex:P,dataEndIndex:T}))),{},Pe(Pe(Pe({key:re.key||"item-".concat(ae)},X,At[X]),Z,At[Z]),"animationId",O)),childIndex:YI(re,w.children),item:re})}),ue},g=function(w,k){var A=w.props,E=w.dataStartIndex,j=w.dataEndIndex,O=w.updateId;if(!zb({props:A}))return null;var P=A.children,T=A.layout,M=A.stackOffset,K=A.data,I=A.reverseStackOrder,B=xk(T),z=B.numericAxisName,Q=B.cateAxisName,X=cr(P,n),Z=i3(K,X,"".concat(z,"Id"),"".concat(Q,"Id"),M,I),le=l.reduce(function(ce,ge){var pe="".concat(ge.axisType,"Map");return se(se({},ce),{},Pe({},pe,I8(A,se(se({},ge),{},{graphicalItems:X,stackGroups:ge.axisType===z&&Z,dataStartIndex:E,dataEndIndex:j}))))},{}),ue=B8(se(se({},le),{},{props:A,graphicalItems:X}),k?.legendBBox);Object.keys(le).forEach(function(ce){le[ce]=u(A,le[ce],ue,ce.replace("Map",""),r)});var re=le["".concat(Q,"Map")],ae=R8(re),fe=p(A,se(se({},le),{},{dataStartIndex:E,dataEndIndex:j,updateId:O,graphicalItems:X,stackGroups:Z,offset:ue}));return se(se({formattedGraphicalItems:fe,graphicalItems:X,offset:ue,stackGroups:Z},ae),le)},b=function(y){function w(k){var A,E,j;return v8(this,w),j=w8(this,w,[k]),Pe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Pe(j,"accessibilityManager",new a8),Pe(j,"handleLegendBBoxUpdate",function(O){if(O){var P=j.state,T=P.dataStartIndex,M=P.dataEndIndex,K=P.updateId;j.setState(se({legendBBox:O},g({props:j.props,dataStartIndex:T,dataEndIndex:M,updateId:K},se(se({},j.state),{},{legendBBox:O}))))}}),Pe(j,"handleReceiveSyncEvent",function(O,P,T){if(j.props.syncId===O){if(T===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(P)}}),Pe(j,"handleBrushChange",function(O){var P=O.startIndex,T=O.endIndex;if(P!==j.state.dataStartIndex||T!==j.state.dataEndIndex){var M=j.state.updateId;j.setState(function(){return se({dataStartIndex:P,dataEndIndex:T},g({props:j.props,dataStartIndex:P,dataEndIndex:T,updateId:M},j.state))}),j.triggerSyncEvent({dataStartIndex:P,dataEndIndex:T})}}),Pe(j,"handleMouseEnter",function(O){var P=j.getMouseInfo(O);if(P){var T=se(se({},P),{},{isTooltipActive:!0});j.setState(T),j.triggerSyncEvent(T);var M=j.props.onMouseEnter;Ie(M)&&M(T,O)}}),Pe(j,"triggeredAfterMouseMove",function(O){var P=j.getMouseInfo(O),T=P?se(se({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(T),j.triggerSyncEvent(T);var M=j.props.onMouseMove;Ie(M)&&M(T,O)}),Pe(j,"handleItemMouseEnter",function(O){j.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Pe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Pe(j,"handleMouseMove",function(O){O.persist(),j.throttleTriggeredAfterMouseMove(O)}),Pe(j,"handleMouseLeave",function(O){j.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};j.setState(P),j.triggerSyncEvent(P);var T=j.props.onMouseLeave;Ie(T)&&T(P,O)}),Pe(j,"handleOuterEvent",function(O){var P=VI(O),T=lr(j.props,"".concat(P));if(P&&Ie(T)){var M,K;/.*touch.*/i.test(P)?K=j.getMouseInfo(O.changedTouches[0]):K=j.getMouseInfo(O),T((M=K)!==null&&M!==void 0?M:{},O)}}),Pe(j,"handleClick",function(O){var P=j.getMouseInfo(O);if(P){var T=se(se({},P),{},{isTooltipActive:!0});j.setState(T),j.triggerSyncEvent(T);var M=j.props.onClick;Ie(M)&&M(T,O)}}),Pe(j,"handleMouseDown",function(O){var P=j.props.onMouseDown;if(Ie(P)){var T=j.getMouseInfo(O);P(T,O)}}),Pe(j,"handleMouseUp",function(O){var P=j.props.onMouseUp;if(Ie(P)){var T=j.getMouseInfo(O);P(T,O)}}),Pe(j,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Pe(j,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&j.handleMouseDown(O.changedTouches[0])}),Pe(j,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&j.handleMouseUp(O.changedTouches[0])}),Pe(j,"handleDoubleClick",function(O){var P=j.props.onDoubleClick;if(Ie(P)){var T=j.getMouseInfo(O);P(T,O)}}),Pe(j,"handleContextMenu",function(O){var P=j.props.onContextMenu;if(Ie(P)){var T=j.getMouseInfo(O);P(T,O)}}),Pe(j,"triggerSyncEvent",function(O){j.props.syncId!==void 0&&lm.emit(cm,j.props.syncId,O,j.eventEmitterSymbol)}),Pe(j,"applySyncEvent",function(O){var P=j.props,T=P.layout,M=P.syncMethod,K=j.state.updateId,I=O.dataStartIndex,B=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)j.setState(se({dataStartIndex:I,dataEndIndex:B},g({props:j.props,dataStartIndex:I,dataEndIndex:B,updateId:K},j.state)));else if(O.activeTooltipIndex!==void 0){var z=O.chartX,Q=O.chartY,X=O.activeTooltipIndex,Z=j.state,le=Z.offset,ue=Z.tooltipTicks;if(!le)return;if(typeof M=="function")X=M(ue,O);else if(M==="value"){X=-1;for(var re=0;re<ue.length;re++)if(ue[re].value===O.activeLabel){X=re;break}}var ae=se(se({},le),{},{x:le.left,y:le.top}),fe=Math.min(z,ae.x+ae.width),ce=Math.min(Q,ae.y+ae.height),ge=ue[X]&&ue[X].value,pe=Ky(j.state,j.props.data,X),je=ue[X]?{x:T==="horizontal"?ue[X].coordinate:fe,y:T==="horizontal"?ce:ue[X].coordinate}:XP;j.setState(se(se({},O),{},{activeLabel:ge,activeCoordinate:je,activePayload:pe,activeTooltipIndex:X}))}else j.setState(O)}),Pe(j,"renderCursor",function(O){var P,T=j.state,M=T.isTooltipActive,K=T.activeCoordinate,I=T.activePayload,B=T.offset,z=T.activeTooltipIndex,Q=T.tooltipAxisBandSize,X=j.getTooltipEventType(),Z=(P=O.props.active)!==null&&P!==void 0?P:M,le=j.props.layout,ue=O.key||"_recharts-cursor";return q.createElement(f8,{key:ue,activeCoordinate:K,activePayload:I,activeTooltipIndex:z,chartName:r,element:O,isActive:Z,layout:le,offset:B,tooltipAxisBandSize:Q,tooltipEventType:X})}),Pe(j,"renderPolarAxis",function(O,P,T){var M=lr(O,"type.axisType"),K=lr(j.state,"".concat(M,"Map")),I=O.type.defaultProps,B=I!==void 0?se(se({},I),O.props):O.props,z=K&&K[B["".concat(M,"Id")]];return N.cloneElement(O,se(se({},z),{},{className:Ue(M,z.className),key:O.key||"".concat(P,"-").concat(T),ticks:Jr(z,!0)}))}),Pe(j,"renderPolarGrid",function(O){var P=O.props,T=P.radialLines,M=P.polarAngles,K=P.polarRadius,I=j.state,B=I.radiusAxisMap,z=I.angleAxisMap,Q=On(B),X=On(z),Z=X.cx,le=X.cy,ue=X.innerRadius,re=X.outerRadius;return N.cloneElement(O,{polarAngles:Array.isArray(M)?M:Jr(X,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(K)?K:Jr(Q,!0).map(function(ae){return ae.coordinate}),cx:Z,cy:le,innerRadius:ue,outerRadius:re,key:O.key||"polar-grid",radialLines:T})}),Pe(j,"renderLegend",function(){var O=j.state.formattedGraphicalItems,P=j.props,T=P.children,M=P.width,K=P.height,I=j.props.margin||{},B=M-(I.left||0)-(I.right||0),z=G_({children:T,formattedGraphicalItems:O,legendWidth:B,legendContent:c});if(!z)return null;var Q=z.item,X=yk(z,d8);return N.cloneElement(Q,se(se({},X),{},{chartWidth:M,chartHeight:K,margin:I,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Pe(j,"renderTooltip",function(){var O,P=j.props,T=P.children,M=P.accessibilityLayer,K=er(T,Ht);if(!K)return null;var I=j.state,B=I.isTooltipActive,z=I.activeCoordinate,Q=I.activePayload,X=I.activeLabel,Z=I.offset,le=(O=K.props.active)!==null&&O!==void 0?O:B;return N.cloneElement(K,{viewBox:se(se({},Z),{},{x:Z.left,y:Z.top}),active:le,label:X,payload:le?Q:[],coordinate:z,accessibilityLayer:M})}),Pe(j,"renderBrush",function(O){var P=j.props,T=P.margin,M=P.data,K=j.state,I=K.offset,B=K.dataStartIndex,z=K.dataEndIndex,Q=K.updateId;return N.cloneElement(O,{key:O.key||"_recharts-brush",onChange:pl(j.handleBrushChange,O.props.onChange),data:M,x:ve(O.props.x)?O.props.x:I.left,y:ve(O.props.y)?O.props.y:I.top+I.height+I.brushBottom-(T.bottom||0),width:ve(O.props.width)?O.props.width:I.width,startIndex:B,endIndex:z,updateId:"brush-".concat(Q)})}),Pe(j,"renderReferenceElement",function(O,P,T){if(!O)return null;var M=j,K=M.clipPathId,I=j.state,B=I.xAxisMap,z=I.yAxisMap,Q=I.offset,X=O.type.defaultProps||{},Z=O.props,le=Z.xAxisId,ue=le===void 0?X.xAxisId:le,re=Z.yAxisId,ae=re===void 0?X.yAxisId:re;return N.cloneElement(O,{key:O.key||"".concat(P,"-").concat(T),xAxis:B[ue],yAxis:z[ae],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:K})}),Pe(j,"renderActivePoints",function(O){var P=O.item,T=O.activePoint,M=O.basePoint,K=O.childIndex,I=O.isRange,B=[],z=P.props.key,Q=P.item.type.defaultProps!==void 0?se(se({},P.item.type.defaultProps),P.item.props):P.item.props,X=Q.activeDot,Z=Q.dataKey,le=se(se({index:K,dataKey:Z,cx:T.x,cy:T.y,r:4,fill:ev(P.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},We(X,!1)),Bl(X));return B.push(w.renderActiveDot(X,le,"".concat(z,"-activePoint-").concat(K))),M?B.push(w.renderActiveDot(X,se(se({},le),{},{cx:M.x,cy:M.y}),"".concat(z,"-basePoint-").concat(K))):I&&B.push(null),B}),Pe(j,"renderGraphicChild",function(O,P,T){var M=j.filterFormatItem(O,P,T);if(!M)return null;var K=j.getTooltipEventType(),I=j.state,B=I.isTooltipActive,z=I.tooltipAxis,Q=I.activeTooltipIndex,X=I.activeLabel,Z=j.props.children,le=er(Z,Ht),ue=M.props,re=ue.points,ae=ue.isRange,fe=ue.baseLine,ce=M.item.type.defaultProps!==void 0?se(se({},M.item.type.defaultProps),M.item.props):M.item.props,ge=ce.activeDot,pe=ce.hide,je=ce.activeBar,Re=ce.activeShape,Wt=!!(!pe&&B&&le&&(ge||je||Re)),At={};K!=="axis"&&le&&le.props.trigger==="click"?At={onClick:pl(j.handleItemMouseEnter,O.props.onClick)}:K!=="axis"&&(At={onMouseLeave:pl(j.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:pl(j.handleItemMouseEnter,O.props.onMouseEnter)});var ie=N.cloneElement(O,se(se({},M.props),At));function Ne(_r){return typeof z.dataKey=="function"?z.dataKey(_r.payload):null}if(Wt)if(Q>=0){var Ce,oe;if(z.dataKey&&!z.allowDuplicatedCategory){var Ye=typeof z.dataKey=="function"?Ne:"payload.".concat(z.dataKey.toString());Ce=$l(re,Ye,X),oe=ae&&fe&&$l(fe,Ye,X)}else Ce=re?.[Q],oe=ae&&fe&&fe[Q];if(Re||je){var qe=O.props.activeIndex!==void 0?O.props.activeIndex:Q;return[N.cloneElement(O,se(se(se({},M.props),At),{},{activeIndex:qe})),null,null]}if(!Le(Ce))return[ie].concat(_i(j.renderActivePoints({item:M,activePoint:Ce,basePoint:oe,childIndex:Q,isRange:ae})))}else{var Qe,pt=(Qe=j.getItemByXY(j.state.activeCoordinate))!==null&&Qe!==void 0?Qe:{graphicalItem:ie},It=pt.graphicalItem,Or=It.item,fn=Or===void 0?O:Or,dn=It.childIndex,Ot=se(se(se({},M.props),At),{},{activeIndex:dn});return[N.cloneElement(fn,Ot),null,null]}return ae?[ie,null,null]:[ie,null]}),Pe(j,"renderCustomized",function(O,P,T){return N.cloneElement(O,se(se({key:"recharts-customized-".concat(T)},j.props),j.state))}),Pe(j,"renderMap",{CartesianGrid:{handler:bl,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:bl},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:bl},YAxis:{handler:bl},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((A=k.id)!==null&&A!==void 0?A:ys("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=KO(j.triggeredAfterMouseMove,(E=k.throttleDelay)!==null&&E!==void 0?E:1e3/60),j.state={},j}return k8(w,y),x8(w,[{key:"componentDidMount",value:function(){var A,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,E=A.children,j=A.data,O=A.height,P=A.layout,T=er(E,Ht);if(T){var M=T.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var K=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,I=Ky(this.state,j,M,K),B=this.state.tooltipTicks[M].coordinate,z=(this.state.offset.top+O)/2,Q=P==="horizontal",X=Q?{x:B,y:z}:{y:B,x:z},Z=this.state.formattedGraphicalItems.find(function(ue){var re=ue.item;return re.type.name==="Scatter"});Z&&(X=se(se({},X),Z.props.points[M].tooltipPosition),I=Z.props.points[M].tooltipPayload);var le={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:K,activePayload:I,activeCoordinate:X};this.setState(le),this.renderCursor(T),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var j,O;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(A){Nm([er(A.children,Ht)],[er(this.props.children,Ht)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=er(this.props.children,Ht);if(A&&typeof A.props.shared=="boolean"){var E=A.props.shared?"axis":"item";return s.indexOf(E)>=0?E:i}return i}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var E=this.container,j=E.getBoundingClientRect(),O=IB(j),P={chartX:Math.round(A.pageX-O.left),chartY:Math.round(A.pageY-O.top)},T=j.width/E.offsetWidth||1,M=this.inRange(P.chartX,P.chartY,T);if(!M)return null;var K=this.state,I=K.xAxisMap,B=K.yAxisMap,z=this.getTooltipEventType(),Q=vk(this.state,this.props.data,this.props.layout,M);if(z!=="axis"&&I&&B){var X=On(I).scale,Z=On(B).scale,le=X&&X.invert?X.invert(P.chartX):null,ue=Z&&Z.invert?Z.invert(P.chartY):null;return se(se({},P),{},{xValue:le,yValue:ue},Q)}return Q?se(se({},P),Q):null}},{key:"inRange",value:function(A,E){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,P=A/j,T=E/j;if(O==="horizontal"||O==="vertical"){var M=this.state.offset,K=P>=M.left&&P<=M.left+M.width&&T>=M.top&&T<=M.top+M.height;return K?{x:P,y:T}:null}var I=this.state,B=I.angleAxisMap,z=I.radiusAxisMap;if(B&&z){var Q=On(B);return T1({x:P,y:T},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,E=this.getTooltipEventType(),j=er(A,Ht),O={};j&&E==="axis"&&(j.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Bl(this.props,this.handleOuterEvent);return se(se({},P),O)}},{key:"addListener",value:function(){lm.on(cm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){lm.removeListener(cm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,E,j){for(var O=this.state.formattedGraphicalItems,P=0,T=O.length;P<T;P++){var M=O[P];if(M.item===A||M.props.key===A.key||E===Qr(M.item.type)&&j===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,E=this.state.offset,j=E.left,O=E.top,P=E.height,T=E.width;return q.createElement("defs",null,q.createElement("clipPath",{id:A},q.createElement("rect",{x:j,y:O,height:P,width:T})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(E,j){var O=mk(j,2),P=O[0],T=O[1];return se(se({},E),{},Pe({},P,T.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(E,j){var O=mk(j,2),P=O[0],T=O[1];return se(se({},E),{},Pe({},P,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[A])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(A){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[A])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(A){var E=this.state,j=E.formattedGraphicalItems,O=E.activeItem;if(j&&j.length)for(var P=0,T=j.length;P<T;P++){var M=j[P],K=M.props,I=M.item,B=I.type.defaultProps!==void 0?se(se({},I.type.defaultProps),I.props):I.props,z=Qr(I.type);if(z==="Bar"){var Q=(K.data||[]).find(function(ue){return Qz(A,ue)});if(Q)return{graphicalItem:M,payload:Q}}else if(z==="RadialBar"){var X=(K.data||[]).find(function(ue){return T1(A,ue)});if(X)return{graphicalItem:M,payload:X}}else if(cu(M,O)||uu(M,O)||as(M,O)){var Z=W5({graphicalItem:M,activeTooltipItem:O,itemData:B.data}),le=B.activeIndex===void 0?Z:B.activeIndex;return{graphicalItem:se(se({},M),{},{childIndex:le}),payload:as(M,O)?B.data[Z]:M.props.data[Z]}}}return null}},{key:"render",value:function(){var A=this;if(!zb(this))return null;var E=this.props,j=E.children,O=E.className,P=E.width,T=E.height,M=E.style,K=E.compact,I=E.title,B=E.desc,z=yk(E,h8),Q=We(z,!1);if(K)return q.createElement(Xj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(Tm,Ya({},Q,{width:P,height:T,title:I,desc:B}),this.renderClipPath(),Kb(j,this.renderMap)));if(this.props.accessibilityLayer){var X,Z;Q.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,Q.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",Q.onKeyDown=function(ue){A.accessibilityManager.keyboardEvent(ue)},Q.onFocus=function(){A.accessibilityManager.focus()}}var le=this.parseEventsOfWrapper();return q.createElement(Xj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",Ya({className:Ue("recharts-wrapper",O),style:se({position:"relative",cursor:"default",width:P,height:T},M)},le,{ref:function(re){A.container=re}}),q.createElement(Tm,Ya({},Q,{width:P,height:T,title:I,desc:B,style:N8}),this.renderClipPath(),Kb(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);Pe(b,"displayName",r),Pe(b,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Pe(b,"getDerivedStateFromProps",function(y,w){var k=y.dataKey,A=y.data,E=y.children,j=y.width,O=y.height,P=y.layout,T=y.stackOffset,M=y.margin,K=w.dataStartIndex,I=w.dataEndIndex;if(w.updateId===void 0){var B=bk(y);return se(se(se({},B),{},{updateId:0},g(se(se({props:y},B),{},{updateId:0}),w)),{},{prevDataKey:k,prevData:A,prevWidth:j,prevHeight:O,prevLayout:P,prevStackOffset:T,prevMargin:M,prevChildren:E})}if(k!==w.prevDataKey||A!==w.prevData||j!==w.prevWidth||O!==w.prevHeight||P!==w.prevLayout||T!==w.prevStackOffset||!Za(M,w.prevMargin)){var z=bk(y),Q={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},X=se(se({},vk(w,A,P)),{},{updateId:w.updateId+1}),Z=se(se(se({},z),Q),X);return se(se(se({},Z),g(se({props:y},Z),w)),{},{prevDataKey:k,prevData:A,prevWidth:j,prevHeight:O,prevLayout:P,prevStackOffset:T,prevMargin:M,prevChildren:E})}if(!Nm(E,w.prevChildren)){var le,ue,re,ae,fe=er(E,gi),ce=fe&&(le=(ue=fe.props)===null||ue===void 0?void 0:ue.startIndex)!==null&&le!==void 0?le:K,ge=fe&&(re=(ae=fe.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&re!==void 0?re:I,pe=ce!==K||ge!==I,je=!Le(A),Re=je&&!pe?w.updateId:w.updateId+1;return se(se({updateId:Re},g(se(se({props:y},w),{},{updateId:Re,dataStartIndex:ce,dataEndIndex:ge}),w)),{},{prevChildren:E,dataStartIndex:ce,dataEndIndex:ge})}return null}),Pe(b,"renderActiveDot",function(y,w,k){var A;return N.isValidElement(y)?A=N.cloneElement(y,w):Ie(y)?A=y(w):A=q.createElement(rv,w),q.createElement(gt,{className:"recharts-active-dot",key:k},A)});var v=N.forwardRef(function(w,k){return q.createElement(b,Ya({},w,{ref:k}))});return v.displayName=b.displayName,v},Ka=q8({chartName:"LineChart",GraphicalChild:Cr,axisComponents:[{axisType:"xAxis",AxisComp:Gr},{axisType:"yAxis",AxisComp:Hr}],formatAxisMap:B6});class F8{async getAIAnalysisChartData(t){try{const n=(await _e.getAllEntries()).filter(s=>{const l=new Date(s.targetDate);return l>=t.start&&l<=t.end}),a=[];for(const s of n){const l=await _e.getAIAnalysisForEntry(s.id);l&&a.push({analysis:l,entry:s})}if(a.length===0)return this.createEmptyChartData();a.sort((s,l)=>new Date(s.entry.targetDate).getTime()-new Date(l.entry.targetDate).getTime());const i=a.map(({analysis:s,entry:l})=>({date:Be.formatDate(new Date(l.targetDate)),dateObj:new Date(l.targetDate),overallScore:Number(s.happiness.overallScore.toFixed(1)),lifeEvaluation:Number(s.happiness.lifeEvaluation.toFixed(1)),positiveAffect:Number(s.happiness.positiveAffect.toFixed(1)),negativeAffect:Number(s.happiness.negativeAffect.toFixed(1)),socialSupport:Number(s.happiness.socialSupport.toFixed(1)),personalGrowth:Number(s.happiness.personalGrowth.toFixed(1)),entryId:l.id,entryTitle:`Entry for ${Be.formatDate(new Date(l.targetDate))}`})),o=this.calculateStats(a.map(s=>s.analysis.happiness));return{chartData:i,stats:o,totalEntries:a.length,dateRange:{start:t.start,end:t.end}}}catch(r){return console.error("Error getting AI analysis chart data:",r),this.createEmptyChartData()}}calculateStats(t){if(t.length===0)return{overallScore:{avg:0,min:0,max:0,trend:"stable"},lifeEvaluation:{avg:0,min:0,max:0,trend:"stable"},positiveAffect:{avg:0,min:0,max:0,trend:"stable"},negativeAffect:{avg:0,min:0,max:0,trend:"stable"},socialSupport:{avg:0,min:0,max:0,trend:"stable"},personalGrowth:{avg:0,min:0,max:0,trend:"stable"}};const r=n=>{const a=n.reduce((g,b)=>g+b,0)/n.length,i=Math.min(...n),o=Math.max(...n),s=n.slice(0,Math.ceil(n.length/3)),l=n.slice(-Math.ceil(n.length/3)),c=s.reduce((g,b)=>g+b,0)/s.length,u=l.reduce((g,b)=>g+b,0)/l.length;let f="stable";const p=.3;return u-c>p?f="improving":c-u>p&&(f="declining"),{avg:Number(a.toFixed(1)),min:Number(i.toFixed(1)),max:Number(o.toFixed(1)),trend:f}};return{overallScore:r(t.map(n=>n.overallScore)),lifeEvaluation:r(t.map(n=>n.lifeEvaluation)),positiveAffect:r(t.map(n=>n.positiveAffect)),negativeAffect:r(t.map(n=>n.negativeAffect)),socialSupport:r(t.map(n=>n.socialSupport)),personalGrowth:r(t.map(n=>n.personalGrowth))}}createEmptyChartData(){return{chartData:[],stats:{overallScore:{avg:0,min:0,max:0,trend:"stable"},lifeEvaluation:{avg:0,min:0,max:0,trend:"stable"},positiveAffect:{avg:0,min:0,max:0,trend:"stable"},negativeAffect:{avg:0,min:0,max:0,trend:"stable"},socialSupport:{avg:0,min:0,max:0,trend:"stable"},personalGrowth:{avg:0,min:0,max:0,trend:"stable"}},totalEntries:0,dateRange:{start:new Date,end:new Date}}}}const W8=new F8,z8=[{value:"week",label:"Last 7 Days"},{value:"month",label:"Last 30 Days"},{value:"quarter",label:"Last 90 Days"},{value:"half-year",label:"Last 180 Days"},{value:"year",label:"Last 365 Days"}],U8=()=>{const[e,t]=N.useState("month"),[r,n]=N.useState([]),[a,i]=N.useState(null),[o,s]=N.useState(0),[l,c]=N.useState(!0),[u,f]=N.useState(null);N.useEffect(()=>{p()},[e]);const p=async()=>{try{c(!0),f(null);const y=new Date;let w=new Date;switch(e){case"week":w=new Date(y.getTime()-7*24*60*60*1e3);break;case"month":w=new Date(y.getTime()-30*24*60*60*1e3);break;case"quarter":w=new Date(y.getTime()-90*24*60*60*1e3);break;case"half-year":w=new Date(y.getTime()-180*24*60*60*1e3);break;case"year":w=new Date(y.getTime()-365*24*60*60*1e3);break}const k=await W8.getAIAnalysisChartData({start:w,end:y});n(k.chartData),i(k.stats),s(k.totalEntries)}catch(y){console.error("Failed to load chart data:",y),f("Could not load insights data. Please try again.")}finally{c(!1)}},g=y=>{switch(y){case"improving":return h.jsx(fs,{className:"w-4 h-4 text-green-500"});case"declining":return h.jsx(ZE,{className:"w-4 h-4 text-red-500"});default:return h.jsx(QE,{className:"w-4 h-4 text-gray-500"})}},b=y=>{switch(y){case"improving":return"text-green-600";case"declining":return"text-red-600";default:return"text-gray-600"}},v=(y,w)=>{const k={overallScore:"Overall Score",lifeEvaluation:"Life Satisfaction",positiveAffect:"Positive Emotions",negativeAffect:"Stress Level",socialSupport:"Social Connection",personalGrowth:"Personal Growth"};return[y.toFixed(1),k[w]||w]};return l?h.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[h.jsx("div",{className:"mb-4 text-xl font-semibold text-gray-800 dark:text-white",children:"Loading AI Analysis Trends"}),h.jsx("div",{className:"w-8 h-8 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"})]}):h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"AI Analysis Trends"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track your emotional metrics and happiness scores over time"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs(Mt,{variant:"outline",size:"sm",onClick:p,children:[h.jsx(XE,{className:"w-4 h-4 mr-2"}),"Refresh"]}),h.jsxs(Mt,{variant:"outline",size:"sm",children:[h.jsx(JE,{className:"w-4 h-4 mr-2"}),"Filter"]}),h.jsxs(Mt,{variant:"outline",size:"sm",children:[h.jsx(Mc,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),h.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[z8.map(y=>h.jsx(Mt,{variant:e===y.value?"default":"outline",size:"sm",onClick:()=>t(y.value),children:y.label},y.value)),h.jsx("div",{className:"ml-auto text-sm text-gray-500 dark:text-gray-400 flex items-center",children:h.jsxs("span",{children:[o," analyzed entries"]})})]}),u&&h.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-600 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400",children:u}),r.length===0?h.jsx("div",{className:"text-center py-20",children:h.jsxs("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:[h.jsx(sa,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),h.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No AI Analysis Data Available"}),h.jsx("p",{children:"Start analyzing your journal entries to see emotional trends and happiness metrics."})]})}):h.jsxs("div",{className:"space-y-8",children:[a&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs(it,{children:[h.jsx(Kt,{className:"pb-2",children:h.jsxs(Gt,{className:"text-lg font-medium flex items-center",children:[h.jsx(sa,{className:"w-5 h-5 mr-2 text-red-500"}),"Overall Happiness"]})}),h.jsxs(lt,{children:[h.jsxs("div",{className:"flex items-end justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-4xl font-bold text-emerald-600",children:a.overallScore.avg}),h.jsx("div",{className:"text-lg text-gray-500",children:"/10"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[g(a.overallScore.trend),h.jsx("span",{className:`text-sm ${b(a.overallScore.trend)}`,children:a.overallScore.trend})]})]}),h.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Range: ",a.overallScore.min," - ",a.overallScore.max]})]})]}),h.jsxs(it,{children:[h.jsx(Kt,{className:"pb-2",children:h.jsxs(Gt,{className:"text-lg font-medium flex items-center",children:[h.jsx(_l,{className:"w-5 h-5 mr-2 text-blue-500"}),"Social Connection"]})}),h.jsxs(lt,{children:[h.jsxs("div",{className:"flex items-end justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-4xl font-bold text-blue-600",children:a.socialSupport.avg}),h.jsx("div",{className:"text-lg text-gray-500",children:"/10"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[g(a.socialSupport.trend),h.jsx("span",{className:`text-sm ${b(a.socialSupport.trend)}`,children:a.socialSupport.trend})]})]}),h.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Range: ",a.socialSupport.min," - ",a.socialSupport.max]})]})]}),h.jsxs(it,{children:[h.jsx(Kt,{className:"pb-2",children:h.jsxs(Gt,{className:"text-lg font-medium flex items-center",children:[h.jsx(tn,{className:"w-5 h-5 mr-2 text-purple-500"}),"Personal Growth"]})}),h.jsxs(lt,{children:[h.jsxs("div",{className:"flex items-end justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-4xl font-bold text-purple-600",children:a.personalGrowth.avg}),h.jsx("div",{className:"text-lg text-gray-500",children:"/10"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[g(a.personalGrowth.trend),h.jsx("span",{className:`text-sm ${b(a.personalGrowth.trend)}`,children:a.personalGrowth.trend})]})]}),h.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Range: ",a.personalGrowth.min," - ",a.personalGrowth.max]})]})]})]}),h.jsxs(it,{children:[h.jsx(Kt,{children:h.jsxs(Gt,{className:"flex items-center",children:[h.jsx(sa,{className:"w-5 h-5 mr-2 text-red-500"}),"Overall Happiness Score Over Time"]})}),h.jsx(lt,{children:h.jsx("div",{className:"h-80",children:h.jsx(qa,{width:"100%",height:"100%",children:h.jsxs(Ka,{data:r,children:[h.jsx(ta,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),h.jsx(Gr,{dataKey:"date",className:"text-gray-600 dark:text-gray-400",fontSize:12}),h.jsx(Hr,{domain:[0,10],className:"text-gray-600 dark:text-gray-400",fontSize:12}),h.jsx(Ht,{contentStyle:{backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px"},formatter:v}),h.jsx(Cr,{type:"monotone",dataKey:"overallScore",stroke:"#ef4444",strokeWidth:3,dot:{fill:"#ef4444",strokeWidth:2,r:4},activeDot:{r:6,fill:"#ef4444"}})]})})})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(it,{children:[h.jsx(Kt,{children:h.jsxs(Gt,{className:"flex items-center text-lg",children:[h.jsx(So,{className:"w-5 h-5 mr-2 text-emerald-500"}),"Life Satisfaction"]})}),h.jsxs(lt,{children:[h.jsx("div",{className:"h-64",children:h.jsx(qa,{width:"100%",height:"100%",children:h.jsxs(Ka,{data:r,children:[h.jsx(ta,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),h.jsx(Gr,{dataKey:"date",fontSize:12}),h.jsx(Hr,{domain:[0,10],fontSize:12}),h.jsx(Ht,{formatter:v}),h.jsx(Cr,{type:"monotone",dataKey:"lifeEvaluation",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:3}})]})})}),a&&h.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm",children:[h.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Avg: ",a.lifeEvaluation.avg,"/10"]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[g(a.lifeEvaluation.trend),h.jsx("span",{className:b(a.lifeEvaluation.trend),children:a.lifeEvaluation.trend})]})]})]})]}),h.jsxs(it,{children:[h.jsx(Kt,{children:h.jsxs(Gt,{className:"flex items-center text-lg",children:[h.jsx(Dc,{className:"w-5 h-5 mr-2 text-amber-500"}),"Positive Emotions"]})}),h.jsxs(lt,{children:[h.jsx("div",{className:"h-64",children:h.jsx(qa,{width:"100%",height:"100%",children:h.jsxs(Ka,{data:r,children:[h.jsx(ta,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),h.jsx(Gr,{dataKey:"date",fontSize:12}),h.jsx(Hr,{domain:[0,10],fontSize:12}),h.jsx(Ht,{formatter:v}),h.jsx(Cr,{type:"monotone",dataKey:"positiveAffect",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b",r:3}})]})})}),a&&h.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm",children:[h.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Avg: ",a.positiveAffect.avg,"/10"]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[g(a.positiveAffect.trend),h.jsx("span",{className:b(a.positiveAffect.trend),children:a.positiveAffect.trend})]})]})]})]}),h.jsxs(it,{children:[h.jsx(Kt,{children:h.jsxs(Gt,{className:"flex items-center text-lg",children:[h.jsx(So,{className:"w-5 h-5 mr-2 text-red-500"}),"Stress Level"]})}),h.jsxs(lt,{children:[h.jsx("div",{className:"h-64",children:h.jsx(qa,{width:"100%",height:"100%",children:h.jsxs(Ka,{data:r,children:[h.jsx(ta,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),h.jsx(Gr,{dataKey:"date",fontSize:12}),h.jsx(Hr,{domain:[0,10],fontSize:12}),h.jsx(Ht,{formatter:v}),h.jsx(Cr,{type:"monotone",dataKey:"negativeAffect",stroke:"#dc2626",strokeWidth:2,dot:{fill:"#dc2626",r:3}})]})})}),a&&h.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm",children:[h.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Avg: ",a.negativeAffect.avg,"/10"]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[g(a.negativeAffect.trend==="improving"?"declining":a.negativeAffect.trend==="declining"?"improving":"stable"),h.jsx("span",{className:b(a.negativeAffect.trend==="improving"?"declining":a.negativeAffect.trend==="declining"?"improving":"stable"),children:a.negativeAffect.trend==="improving"?"declining":a.negativeAffect.trend==="declining"?"improving":"stable"})]})]})]})]}),h.jsxs(it,{children:[h.jsx(Kt,{children:h.jsxs(Gt,{className:"flex items-center text-lg",children:[h.jsx(_l,{className:"w-5 h-5 mr-2 text-blue-500"}),"Social Connection"]})}),h.jsxs(lt,{children:[h.jsx("div",{className:"h-64",children:h.jsx(qa,{width:"100%",height:"100%",children:h.jsxs(Ka,{data:r,children:[h.jsx(ta,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),h.jsx(Gr,{dataKey:"date",fontSize:12}),h.jsx(Hr,{domain:[0,10],fontSize:12}),h.jsx(Ht,{formatter:v}),h.jsx(Cr,{type:"monotone",dataKey:"socialSupport",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:3}})]})})}),a&&h.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm",children:[h.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Avg: ",a.socialSupport.avg,"/10"]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[g(a.socialSupport.trend),h.jsx("span",{className:b(a.socialSupport.trend),children:a.socialSupport.trend})]})]})]})]})]}),h.jsxs(it,{children:[h.jsx(Kt,{children:h.jsxs(Gt,{className:"flex items-center",children:[h.jsx(tn,{className:"w-5 h-5 mr-2 text-purple-500"}),"Personal Growth Over Time"]})}),h.jsxs(lt,{children:[h.jsx("div",{className:"h-80",children:h.jsx(qa,{width:"100%",height:"100%",children:h.jsxs(Ka,{data:r,children:[h.jsx(ta,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),h.jsx(Gr,{dataKey:"date",fontSize:12}),h.jsx(Hr,{domain:[0,10],fontSize:12}),h.jsx(Ht,{formatter:v}),h.jsx(Cr,{type:"monotone",dataKey:"personalGrowth",stroke:"#8b5cf6",strokeWidth:3,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},activeDot:{r:6,fill:"#8b5cf6"}})]})})}),a&&h.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[h.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Average: ",a.personalGrowth.avg,"/10 | Range: ",a.personalGrowth.min," - ",a.personalGrowth.max]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[g(a.personalGrowth.trend),h.jsx("span",{className:b(a.personalGrowth.trend),children:a.personalGrowth.trend})]})]})]})]})]})]})},K8=({className:e="",onSummaryGenerated:t})=>{const[r,n]=N.useState(null),[a,i]=N.useState([]),[o,s]=N.useState(!1),[l,c]=N.useState(!1),[u,f]=N.useState({completed:0,total:0,currentWeek:""}),[p,g]=N.useState(null),[b,v]=N.useState(null),[y,w]=N.useState(null);N.useEffect(()=>{k()},[]);const k=async()=>{try{s(!0),w(null);const T=await Vr.getStatistics();n(T);const M=new Date,K=new Date;K.setMonth(K.getMonth()-3);const I=await Vr.getEligibleWeeks(K,M);i(I)}catch(T){console.error("Error loading weekly summary data:",T),w("Failed to load weekly summary data")}finally{s(!1)}},A=async T=>{try{s(!0),w(null);const M=await Vr.generateWeekSummary(T);M?(v(M),t?.(M.summary),await k()):w("Failed to generate weekly summary. Insufficient entries or processing error.")}catch(M){console.error("Error generating weekly summary:",M),w("Error generating weekly summary")}finally{s(!1)}},E=async()=>{try{c(!0),w(null);const T=new Date,M=new Date;M.setMonth(M.getMonth()-3);const K=await Vr.batchGenerateSummaries(M,T,(I,B,z)=>{f({completed:I,total:B,currentWeek:z})});K.errors.length>0&&w(`Batch processing completed with ${K.failed} errors: ${K.errors.join(", ")}`),await k()}catch(T){console.error("Error in batch generation:",T),w("Batch generation failed")}finally{c(!1),f({completed:0,total:0,currentWeek:""})}},j=async T=>{try{s(!0);const M=await Vr.getOrCreateWeeklySummary(T);M&&(v(M),g(T))}catch(M){console.error("Error viewing summary:",M),w("Failed to load weekly summary")}finally{s(!1)}},O=T=>rg[T]||"#6b7280",P=T=>{switch(T){case"improving":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"declining":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"mixed":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}};return o&&!r?h.jsxs("div",{className:"flex items-center justify-center p-8",children:[h.jsx(Al,{className:"w-6 h-6 animate-spin mr-2"}),h.jsx("span",{children:"Loading weekly summaries..."})]}):h.jsxs("div",{className:`space-y-6 ${e}`,children:[r&&h.jsxs(it,{children:[h.jsx(Kt,{children:h.jsxs(Gt,{className:"flex items-center",children:[h.jsx(rr,{className:"w-5 h-5 mr-2 text-purple-500"}),"Weekly Summary Statistics"]})}),h.jsxs(lt,{children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.totalWeeks}),h.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Weeks"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:r.averageHappiness.toFixed(1)}),h.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Happiness"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-amber-600",children:r.averageWordCount}),h.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Words"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.commonThemes.length}),h.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Key Themes"})]})]}),r.commonThemes.length>0&&h.jsxs("div",{className:"mt-4",children:[h.jsx("div",{className:"text-sm font-medium mb-2",children:"Top Themes:"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:r.commonThemes.slice(0,5).map((T,M)=>h.jsxs(Mr,{variant:"outline",children:[T.theme," (",T.frequency,")"]},M))})]})]})]}),h.jsxs(it,{children:[h.jsx(Kt,{children:h.jsxs(Gt,{className:"flex items-center",children:[h.jsx(Ol,{className:"w-5 h-5 mr-2 text-green-500"}),"Generate Weekly Summaries"]})}),h.jsx(lt,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:"Batch Generate Summaries"}),h.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Generate summaries for all eligible weeks (last 3 months)"})]}),h.jsxs(Mt,{onClick:E,disabled:l||o,className:"min-w-[120px]",children:[l?h.jsx(Al,{className:"w-4 h-4 animate-spin mr-2"}):h.jsx(rr,{className:"w-4 h-4 mr-2"}),l?"Processing...":"Generate All"]})]}),l&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(sg,{value:u.completed/u.total*100}),h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[u.completed," of ",u.total," weeks completed",u.currentWeek&&h.jsxs("span",{className:"ml-2",children:["• Currently processing: ",u.currentWeek]})]})]})]})})]}),h.jsxs(it,{children:[h.jsx(Kt,{children:h.jsxs(Gt,{className:"flex items-center",children:[h.jsx(va,{className:"w-5 h-5 mr-2 text-blue-500"}),"Eligible Weeks"]})}),h.jsx(lt,{children:h.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.length===0?h.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No eligible weeks found. Write more journal entries to generate weekly summaries."}):a.map((T,M)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"flex-shrink-0",children:T.hasSummary?h.jsx(wo,{className:"w-5 h-5 text-green-500"}):h.jsx(Ak,{className:"w-5 h-5 text-amber-500"})}),h.jsxs("div",{children:[h.jsxs("div",{className:"font-medium",children:[Be.formatDate(T.weekStart)," - ",Be.formatDate(T.weekEnd)]}),h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[T.entryCount," entries • ",T.hasSummary?"Summary available":"No summary yet"]})]})]}),h.jsx("div",{className:"flex space-x-2",children:T.hasSummary?h.jsxs(Mt,{size:"sm",variant:"outline",onClick:()=>j(T.weekStart),disabled:o,children:[h.jsx(Ir,{className:"w-4 h-4 mr-1"}),"View"]}):h.jsxs(Mt,{size:"sm",onClick:()=>A(T.weekStart),disabled:o||l,children:[h.jsx(Ol,{className:"w-4 h-4 mr-1"}),"Generate"]})})]},M))})})]}),b&&h.jsxs(it,{children:[h.jsx(Kt,{children:h.jsxs(Gt,{className:"flex items-center",children:[h.jsx(Ir,{className:"w-5 h-5 mr-2 text-emerald-500"}),"Weekly Summary",p&&h.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-600 dark:text-gray-400",children:["(",Be.formatDate(p),")"]})]})}),h.jsx(lt,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"prose dark:prose-invert max-w-none",children:h.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:b.summary.summary})}),b.analysis&&h.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:O(b.analysis.sentiment.sentiment)}}),h.jsx("span",{className:"text-sm font-medium",children:b.analysis.sentiment.sentiment.replace("-"," ")})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(fs,{className:"w-4 h-4 mr-1 text-emerald-500"}),h.jsxs("span",{className:"text-sm font-medium",children:[b.analysis.happiness.overallScore.toFixed(1),"/10"]})]}),h.jsx(Mr,{className:P(b.analysis.emotionalArc.progression),children:b.analysis.emotionalArc.progression})]}),b.analysis.weeklyThemes.length>0&&h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium mb-1",children:"Weekly Themes:"}),h.jsx("div",{className:"flex flex-wrap gap-1",children:b.analysis.weeklyThemes.map((T,M)=>h.jsx(Mr,{variant:"outline",className:"text-xs",children:T},M))})]}),b.analysis.growthAreas.length>0&&h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium mb-1",children:"Growth Areas:"}),h.jsx("div",{className:"flex flex-wrap gap-1",children:b.analysis.growthAreas.map((T,M)=>h.jsx(Mr,{variant:"outline",className:"text-xs bg-purple-50 text-purple-700 dark:bg-purple-900/30",children:T},M))})]})]})]})})]}),y&&h.jsx(it,{className:"border-red-200 dark:border-red-800",children:h.jsx(lt,{className:"p-4",children:h.jsxs("div",{className:"flex items-center space-x-2 text-red-600 dark:text-red-400",children:[h.jsx(ni,{className:"w-5 h-5"}),h.jsx("span",{children:y})]})})})]})},G8=()=>{const e=t=>{console.log("Weekly summary generated:",t)};return h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Weekly Summaries"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"AI-powered weekly summaries that combine your daily journal entries into insightful narratives"})]}),h.jsx(K8,{onSummaryGenerated:e,className:""}),h.jsxs("div",{className:"mt-8 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-2",children:"How Weekly Summaries Work"}),h.jsxs("ul",{className:"text-blue-800 dark:text-blue-400 space-y-1",children:[h.jsx("li",{children:"• Write at least 2 journal entries in a week to generate a summary"}),h.jsx("li",{children:"• AI analyzes your entries to create a cohesive weekly narrative"}),h.jsx("li",{children:"• Each summary includes emotional analysis and happiness metrics"}),h.jsx("li",{children:"• Identify themes, growth areas, and emotional patterns over time"}),h.jsx("li",{children:"• Use batch generation to create summaries for multiple weeks at once"})]})]})]})},H8=e=>e instanceof Error?e.message+`
`+e.stack:JSON.stringify(e,null,2);class V8 extends q.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?h.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[h.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),h.jsx("pre",{className:"mt-2 text-sm",children:H8(this.state.error)})]}):this.props.children}}function Y8(){const{preferences:e}=eg();return N.useEffect(()=>{e?.theme?Eo.applyTheme(e.theme):Eo.applyTheme("auto")},[e?.theme]),N.useEffect(()=>{const t=document.documentElement;switch(t.classList.remove("text-sm","text-base","text-lg"),e?.fontSize){case"small":t.classList.add("text-sm");break;case"large":t.classList.add("text-lg");break;default:t.classList.add("text-base");break}},[e?.fontSize]),h.jsx(V8,{children:h.jsx(UT,{children:h.jsx(rC,{children:h.jsx(dT,{children:h.jsxs(VN,{children:[h.jsx(pr,{path:"/",element:h.jsx(w0,{})}),h.jsx(pr,{path:"/entries",element:h.jsx(XT,{})}),h.jsx(pr,{path:"/calendar",element:h.jsx(KD,{})}),h.jsx(pr,{path:"/insights",element:h.jsx(U8,{})}),h.jsx(pr,{path:"/weekly-summaries",element:h.jsx(G8,{})}),h.jsx(pr,{path:"/entry/:id",element:h.jsx(GD,{})}),h.jsx(pr,{path:"/settings",element:h.jsx(HD,{})}),h.jsx(pr,{path:"/export",element:h.jsx(VD,{})}),h.jsx(pr,{path:"/import",element:h.jsx(YD,{})}),h.jsx(pr,{path:"*",element:h.jsx(w0,{})})]})})})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});const X8=()=>{const e=localStorage.getItem("reflect-theme");if(e)document.documentElement.classList.toggle("dark",e==="dark");else{const t=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",t)}};X8();rN.createRoot(document.getElementById("root")).render(h.jsx(q.StrictMode,{children:h.jsx(Y8,{})}));
